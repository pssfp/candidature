<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/application/controllers/impression.php">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/application/controllers/impression.php" />
              <option name="originalContent" value="&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');&#10;&#10;&#10;use Dompdf\Options;&#10;use Dompdf\Dompdf;&#10;class Impression extends MY_Controller {&#10;&#10;&#9;/**&#10;&#9; * Index Page for this controller.&#10;&#9; *&#10;&#9; * Maps to the following URL&#10;&#9; * &#9;&#9;http://example.com/index.php/welcome&#10;&#9; *&#9;- or -  &#10;&#9; * &#9;&#9;http://example.com/index.php/welcome/index&#10;&#9; *&#9;- or -&#10;&#9; * Since this controller is set as the default controller in &#10;&#9; * config/routes.php, it's displayed at http://example.com/&#10;&#9; *&#10;&#9; * So any other public methods not prefixed with an underscore will&#10;&#9; * map to /index.php/welcome/&lt;method_name&gt;&#10;&#9; * @see http://codeigniter.com/user_guide/general/urls.html&#10;&#9; */&#10;&#10;&#9;// Declare properties to avoid dynamic property creation warnings&#10;&#9;public $impression_model;&#10;&#9;public $pdf;&#10;&#10;&#9;public function index()&#10;&#9;{&#10;            //&#9;$this-&gt;load-&gt;view('welcome_message');&#10;            $data = array();&#10;            $this-&gt;template-&gt;layout('candidature', $data);&#10;&#9;}&#10;&#10;&#10;&#10;    public function imprimer_fiche($id_candidat)&#10;    {&#10;&#10;        // Charger le modèle&#10;        $this-&gt;load-&gt;model('impression_model', '', true);&#10;&#10;        // Préparer les données&#10;        $data['candidat'] = $this-&gt;impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#10;        // Charger la vue HTML dans une variable&#10;        $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#10;        // Configurer les options de Dompdf&#10;        $options = new Options();&#10;        $options-&gt;set('isHtml5ParserEnabled', true);&#10;        $options-&gt;set('isRemoteEnabled', true); // Pour autoriser les images externes&#10;&#10;        // Créer l'instance Dompdf&#10;        $dompdf = new Dompdf($options);&#10;&#10;        // Charger le HTML&#10;        $dompdf-&gt;loadHtml($html);&#10;&#10;        // Configuration de la page (portrait ou landscape)&#10;        $dompdf-&gt;setPaper('A4', 'portrait');&#10;&#10;        // Générer le PDF&#10;        $dompdf-&gt;render();&#10;&#10;        // Envoyer le PDF au navigateur&#10;        $dompdf-&gt;stream(&quot;Fiche_de_candidature_N0_&quot; . $id_candidat, array(&quot;Attachment&quot; =&gt; false));&#10;    }&#10;&#10;&#10;    function imprimer_fiche_old($id_candidat){&#10;&#9;&#10;&#9; $this-&gt;load-&gt;helper(array('dompdf', 'file'));&#10;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;     // page info here, db calls, etc. &#10;&#9; &#10;&#9; $data['candidat'] = $this-&gt;Impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#10;     $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;     pdf_create($html, 'fiche_candidature');&#10;&#9;&#10;&#9;}&#10;&#9;&#10;&#9;function impri($id_candidat){&#10;&#9;&#9; $data = array();&#10;&#9;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; $this-&gt;load-&gt;library('pdf');&#10;&#9;&#9; $dompdf = new Dompdf\Dompdf();&#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; // Set Font Style&#10;&#9;&#9; //$dompdf-&gt;set_option('defaultFont', 'Courier');&#10;&#9;&#9; $html = '&lt;center&gt;&lt;strong&gt;&lt;h2&gt; COMMUNIQUE &lt;/h2&gt;&lt;/strong&gt;&lt;/center&gt;';&#10;&#9;&#9; $data['candidat'] = $this-&gt;impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#9;&#9; //$html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#9;&#9; &#10;&#9;&#9; //echo $html;exit;&#10;&#9;&#9; &#10;&#9;&#9; $dompdf-&gt;load_html($html);&#10;&#9;&#9; // To Setup the paper size and orientatio//$dompdf-&gt;setPaper('A4', 'landscape');n&#10;&#9;&#9; //$dompdf-&gt;setPaper('A4', 'landscape');&#10;&#9;&#9; // Render the HTML as PDF&#10;&#9;&#9; $dompdf-&gt;render();&#10;&#9;&#9; &#10;&#9;&#9; // Get the generated PDF file contents&#10;&#9;&#9; $pdf = $dompdf-&gt;output();&#10;&#9;&#9; &#10;&#9;&#9; // Output the generated PDF to Browser&#10;&#9;&#9; $dompdf-&gt;stream(&quot;fiche_candidature&quot;);&#10;&#9;&#9; &#10;&#9;}&#9;&#10;&#9;&#10;&#9;function imprimer_liste($specialite=null){&#10;&#9;&#10;&#9;&#9; $this-&gt;load-&gt;helper(array('dompdf', 'file'));&#10;&#9;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;&#9;&#9; // page info here, db calls, etc. &#10;&#9;&#9; &#10;&#9;&#9;$data['candidats'] = $this-&gt;Impression_model-&gt;get_liste($specialite)-&gt;result();&#10;&#9;&#9;&#10;&#9;&#9;switch ($specialite) {&#10;&#9;&#9;  case 1:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Comptabilité Publique';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;  case 2:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Gestion Budgétaire';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;  case 3:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Finances Publiques Locales';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;default:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits';&#10;&#9;&#9;}&#10;&#9;&#9;&#10;&#9;&#9;if($specialite==null){&#10;&#9;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/liste_candidats_all', $data, true);&#10;&#9;&#9;}else{&#10;&#9;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/liste_candidats', $data, true);&#10;&#9;&#9;}&#10;&#9;&#9;&#10;&#9;&#9; pdf_create($html, 'liste_candidats');&#10;&#9;&#10;&#9;}&#10;}&#10;&#10;/* End of file welcome.php */&#10;/* Location: ./application/controllers/welcome.php */" />
              <option name="updatedContent" value="&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');&#10;&#10;&#10;use Dompdf\Options;&#10;use Dompdf\Dompdf;&#10;class Impression extends MY_Controller {&#10;&#10;&#9;/**&#10;&#9; * Index Page for this controller.&#10;&#9; *&#10;&#9; * Maps to the following URL&#10;&#9; * &#9;&#9;http://example.com/index.php/welcome&#10;&#9; *&#9;- or -  &#10;&#9; * &#9;&#9;http://example.com/index.php/welcome/index&#10;&#9; *&#9;- or -&#10;&#9; * Since this controller is set as the default controller in &#10;&#9; * config/routes.php, it's displayed at http://example.com/&#10;&#9; *&#10;&#9; * So any other public methods not prefixed with an underscore will&#10;&#9; * map to /index.php/welcome/&lt;method_name&gt;&#10;&#9; * @see http://codeigniter.com/user_guide/general/urls.html&#10;&#9; */&#10;&#10;&#9;// Declare properties to avoid dynamic property creation warnings&#10;&#9;public $impression_model;&#10;&#9;public $pdf;&#10;&#10;&#9;public function index()&#10;&#9;{&#10;            //&#9;$this-&gt;load-&gt;view('welcome_message');&#10;            $data = array();&#10;            $this-&gt;template-&gt;layout('candidature', $data);&#10;&#9;}&#10;&#10;&#10;&#10;    public function imprimer_fiche($id_candidat)&#10;    {&#10;&#10;        // Charger le modèle&#10;        $this-&gt;load-&gt;model('impression_model', '', true);&#10;&#10;        // Préparer les données&#10;        $data['candidat'] = $this-&gt;impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#10;        // Charger la vue HTML dans une variable&#10;        $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#10;        // Configurer les options de Dompdf&#10;        $options = new Options();&#10;        $options-&gt;set('isHtml5ParserEnabled', true);&#10;        $options-&gt;set('isRemoteEnabled', true); // Pour autoriser les images externes&#10;        $options-&gt;set('tempDir', APPPATH . 'cache/');&#10;&#10;        // Créer l'instance Dompdf&#10;        $dompdf = new Dompdf($options);&#10;&#10;        // Charger le HTML&#10;        $dompdf-&gt;loadHtml($html);&#10;&#10;        // Configuration de la page (portrait ou landscape)&#10;        $dompdf-&gt;setPaper('A4', 'portrait');&#10;&#10;        // Générer le PDF&#10;        $dompdf-&gt;render();&#10;&#10;        // Envoyer le PDF au navigateur&#10;        $dompdf-&gt;stream(&quot;Fiche_de_candidature_N0_&quot; . $id_candidat, array(&quot;Attachment&quot; =&gt; false));&#10;    }&#10;&#10;&#10;    function imprimer_fiche_old($id_candidat){&#10;&#9;&#10;&#9; $this-&gt;load-&gt;helper(array('dompdf', 'file'));&#10;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;     // page info here, db calls, etc. &#10;&#9; &#10;&#9; $data['candidat'] = $this-&gt;Impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#10;     $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;     pdf_create($html, 'fiche_candidature');&#10;&#9;&#10;&#9;}&#10;&#9;&#10;&#9;function impri($id_candidat){&#10;&#9;&#9; $data = array();&#10;&#9;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; $this-&gt;load-&gt;library('pdf');&#10;&#9;&#9; $dompdf = new Dompdf\Dompdf();&#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; // Set Font Style&#10;&#9;&#9; //$dompdf-&gt;set_option('defaultFont', 'Courier');&#10;&#9;&#9; $html = '&lt;center&gt;&lt;strong&gt;&lt;h2&gt; COMMUNIQUE &lt;/h2&gt;&lt;/strong&gt;&lt;/center&gt;';&#10;&#9;&#9; $data['candidat'] = $this-&gt;impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#9;&#9; //$html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#9;&#9; &#10;&#9;&#9; //echo $html;exit;&#10;&#9;&#9; &#10;&#9;&#9; $dompdf-&gt;load_html($html);&#10;&#9;&#9; // To Setup the paper size and orientatio//$dompdf-&gt;setPaper('A4', 'landscape');n&#10;&#9;&#9; //$dompdf-&gt;setPaper('A4', 'landscape');&#10;&#9;&#9; // Render the HTML as PDF&#10;&#9;&#9; $dompdf-&gt;render();&#10;&#9;&#9; &#10;&#9;&#9; // Get the generated PDF file contents&#10;&#9;&#9; $pdf = $dompdf-&gt;output();&#10;&#9;&#9; &#10;&#9;&#9; // Output the generated PDF to Browser&#10;&#9;&#9; $dompdf-&gt;stream(&quot;fiche_candidature&quot;);&#10;&#9;&#9; &#10;&#9;}&#9;&#10;&#9;&#10;&#9;function imprimer_liste($specialite=null){&#10;&#9;&#10;&#9;&#9; $this-&gt;load-&gt;helper(array('dompdf', 'file'));&#10;&#9;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;&#9;&#9; // page info here, db calls, etc. &#10;&#9;&#9; &#10;&#9;&#9;$data['candidats'] = $this-&gt;Impression_model-&gt;get_liste($specialite)-&gt;result();&#10;&#9;&#9;&#10;&#9;&#9;switch ($specialite) {&#10;&#9;&#9;  case 1:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Comptabilité Publique';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;  case 2:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Gestion Budgétaire';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;  case 3:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Finances Publiques Locales';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;default:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits';&#10;&#9;&#9;}&#10;&#9;&#9;&#10;&#9;&#9;if($specialite==null){&#10;&#9;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/liste_candidats_all', $data, true);&#10;&#9;&#9;}else{&#10;&#9;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/liste_candidats', $data, true);&#10;&#9;&#9;}&#10;&#9;&#9;&#10;&#9;&#9; pdf_create($html, 'liste_candidats');&#10;&#9;&#10;&#9;}&#10;}&#10;&#10;/* End of file welcome.php */&#10;/* Location: ./application/controllers/welcome.php */" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>
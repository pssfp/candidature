<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/application/controllers/candidature.php">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/application/controllers/candidature.php" />
              <option name="originalContent" value="&lt;?php&#10;&#10;if (!defined('BASEPATH'))&#10;    exit('No direct script access allowed');&#10;&#10;class Candidature extends MY_Controller {&#10;&#10;    public $load;&#10;    public $form_data;&#10;    public $region_model;&#10;&#10;&#10;    function __construct()&#10;    {&#10;        parent::__construct();&#10;        // load model&#10;        $this-&gt;load-&gt;model('model_generique', 'model', TRUE);&#10;        $this-&gt;load-&gt;model('region_model');&#10;&#10;        // load library&#10;        $this-&gt;load-&gt;library(['form_validation', 'session', 'email', 'table']);&#10;&#10;        // load helper&#10;        $this-&gt;load-&gt;helper(['form', 'url']);&#10;    }&#10;&#10;    /**&#10;     * Index Page for this controller.&#10;     *&#10;     * Maps to the following URL&#10;     * &#9;&#9;http://example.com/index.php/welcome&#10;     * &#9;- or -&#10;     * &#9;&#9;http://example.com/index.php/welcome/index&#10;     * &#9;- or -&#10;     * Since this controller is set as the default controller in&#10;     * config/routes.php, it's displayed at http://example.com/&#10;     *&#10;     * So any other public methods not prefixed with an underscore will&#10;     * map to /index.php/welcome/&lt;method_name&gt;&#10;     * @see http://codeigniter.com/user_guide/general/urls.html&#10;     */&#10;&#10;    public function index() {&#10;        $this-&gt;reset_form_data();&#10;        $submitname = &quot;enregistrer&quot;;&#10;        $data['submitname'] = $submitname;&#10;        $data[&quot;specialites&quot;] = $this-&gt;model-&gt;list_all(&quot;specialite&quot;)-&gt;result();&#10;        $data[&quot;pays&quot;] = $this-&gt;model-&gt;list_all(&quot;pays&quot;)-&gt;result();&#10;        $data['action'] = site_url('candidature/add/');&#10;        $this-&gt;template-&gt;layout('candidature', $data);&#10;    }&#10;&#10;    /**&#10;     * Send a confirmation email to the user after form submission&#10;     *&#10;     * @param object $candidature The candidate data object&#10;     * @param string $action The action performed (new submission or update)&#10;     * @return boolean True if email sent successfully&#10;     */&#10;    private function send_confirmation_email($candidature, $action = 'new') {&#10;        // Start by logging the attempt&#10;        log_message('info', 'Attempting to send email to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . (is_object($candidature) ? $candidature-&gt;id : $candidature));&#10;&#10;        $email_setting = array(&#10;            'charset' =&gt; 'utf-8',&#10;            'mailtype' =&gt; 'html'&#10;        );&#10;&#10;        // Load email configuration from config file&#10;        $this-&gt;config-&gt;load('email');&#10;&#10;        $this-&gt;email-&gt;initialize($email_setting);&#10;        $this-&gt;email-&gt;from('noreply@pssfp.net', '[PSSFP] DEPOT de CANDIDATURE 13ème PROMOTION 2025/2026');&#10;        $this-&gt;email-&gt;to($this-&gt;input-&gt;post('email'));&#10;        $this-&gt;email-&gt;newline = &quot;\r\n&quot;;&#10;        $this-&gt;email-&gt;crlf = &quot;\n&quot;;&#10;&#10;        // Log recipient email for debugging&#10;        log_message('debug', 'Email recipient: ' . $this-&gt;input-&gt;post('email'));&#10;&#10;        $candidat_id = isset($candidature-&gt;id) ? $candidature-&gt;id : $candidature;&#10;        $specialite_candidat = $this-&gt;model-&gt;get_by_id2('specialite', $this-&gt;input-&gt;post('id_specialite'));&#10;&#10;        // Set the appropriate subject based on action&#10;        if ($action == 'new') {&#10;            $this-&gt;email-&gt;subject('Confirmation de candidature N°' . $candidat_id . ' - PSSFP');&#10;        } else {&#10;            $this-&gt;email-&gt;subject('Mise à jour de candidature N°' . $candidat_id . ' - PSSFP');&#10;        }&#10;&#10;        // Build the email message with improved formatting&#10;        $message = '&#10;        &lt;!DOCTYPE html&gt;&#10;        &lt;html&gt;&#10;        &lt;head&gt;&#10;            &lt;meta charset=&quot;utf-8&quot;&gt;&#10;            &lt;style&gt;&#10;                body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }&#10;                .container { width: 100%; max-width: 600px; margin: 0 auto; }&#10;                .header { background-color: #0056b3; color: white; padding: 20px; text-align: center; }&#10;                .content { padding: 20px; }&#10;                .footer { background-color: #f8f9fa; padding: 15px; font-size: 12px; color: #666; text-align: center; }&#10;                table { width: 100%; border-collapse: collapse; margin: 20px 0; }&#10;                table td { padding: 8px; border-bottom: 1px solid #eee; }&#10;                .label { font-weight: bold; width: 40%; }&#10;                .actions { background-color: #f5f5f5; padding: 15px; margin: 20px 0; border-left: 4px solid #0056b3; }&#10;                .btn { display: inline-block; background-color: #0056b3; color: white; padding: 10px 20px; &#10;                       text-decoration: none; border-radius: 4px; margin: 10px 0; }&#10;            &lt;/style&gt;&#10;        &lt;/head&gt;&#10;        &lt;body&gt;&#10;            &lt;div class=&quot;container&quot;&gt;&#10;                &lt;div class=&quot;header&quot;&gt;&#10;                    &lt;h2&gt;' . ($action == 'new' ? 'Confirmation de Candidature' : 'Mise à jour de Candidature') . '&lt;/h2&gt;&#10;                &lt;/div&gt;&#10;                &#10;                &lt;div class=&quot;content&quot;&gt;&#10;                    &lt;p&gt;Cher(e) ' . $this-&gt;input-&gt;post('civilite') . ' ' . $this-&gt;input-&gt;post('nom') . ' ' . $this-&gt;input-&gt;post('prenom') . ',&lt;/p&gt;&#10;                    &#10;                    &lt;p&gt;Nous vous informons que votre candidature a bien été ' . ($action == 'new' ? 'enregistrée' : 'mise à jour') . ' avec les détails suivants :&lt;/p&gt;&#10;                    &#10;                    &lt;table&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Dossier N°&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $candidat_id . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;N° de téléphone&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('telephone') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Spécialité&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $specialite_candidat-&gt;nom . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Type de formation&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('type_etude') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Statut professionnel&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('statut_prof') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Administration d\'origine&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('structure') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Nationalité&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('nationalite') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                    &lt;/table&gt;&#10;                    &#10;                    &lt;div class=&quot;actions&quot;&gt;&#10;                        &lt;h3&gt;Actions importantes :&lt;/h3&gt;&#10;                        &lt;p&gt;&#10;                            &lt;a href=&quot;' . site_url('impression/imprimer_fiche/' . $candidat_id) . '&quot; class=&quot;btn&quot;&gt;Télécharger votre fiche de candidature&lt;/a&gt;&#10;                        &lt;/p&gt;&#10;                        &lt;p&gt;&#10;                            &lt;a href=&quot;' . site_url('candidature/initupdate/') . '&quot; class=&quot;btn&quot;&gt;Modifier vos informations&lt;/a&gt;&#10;                        &lt;/p&gt;&#10;                        &#10;                        &lt;p&gt;&lt;strong&gt;Pour toute modification ultérieure, veuillez utiliser les identifiants suivants :&lt;/strong&gt;&lt;/p&gt;&#10;                        &lt;ul&gt;&#10;                            &lt;li&gt;&lt;strong&gt;Numéro d\'ordre&lt;/strong&gt; : ' . $candidat_id . '&lt;/li&gt;&#10;                            &lt;li&gt;&lt;strong&gt;N° de téléphone&lt;/strong&gt; : ' . $this-&gt;input-&gt;post('telephone') . '&lt;/li&gt;&#10;                        &lt;/ul&gt;&#10;                    &lt;/div&gt;&#10;                    &#10;                    &lt;p&gt;Nous vous remercions de votre intérêt pour notre programme et restons à votre disposition pour toute information complémentaire.&lt;/p&gt;&#10;                    &#10;                    &lt;p&gt;Cordialement,&lt;br&gt;L\'équipe PSSFP&lt;/p&gt;&#10;                &lt;/div&gt;&#10;                &#10;                &lt;div class=&quot;footer&quot;&gt;&#10;                    &lt;p&gt;PSSFP: B.P: 16 578 Yaoundé – Cameroun&lt;br&gt;&#10;                    Tel.: + (237) 697 921 332&lt;br&gt;&#10;                    (237) 677 257 272&lt;br&gt;&#10;                    (237) 671 171 808&lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/body&gt;&#10;        &lt;/html&gt;';&#10;&#10;        $this-&gt;email-&gt;message($message);&#10;&#10;        // Try to send the email with enhanced error handling&#10;        try {&#10;            if ($this-&gt;email-&gt;send()) {&#10;                log_message('info', 'Confirmation email sent successfully to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . $candidat_id);&#10;&#10;                log_message('info', 'Confirmation email sent successfully to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . $candidat_id);&#10;                return true;&#10;            } else {&#10;                $error = $this-&gt;email-&gt;print_debugger();&#10;                log_message('error', 'Failed to send confirmation email to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . $candidat_id . '. Error: ' . $error);&#10;&#10;                // Log SMTP configuration for debugging&#10;                log_message('debug', 'SMTP Host: ' . $this-&gt;config-&gt;item('smtp_host', 'email'));&#10;                log_message('debug', 'SMTP Port: ' . $this-&gt;config-&gt;item('smtp_port', 'email'));&#10;                log_message('debug', 'SMTP User: ' . $this-&gt;config-&gt;item('smtp_user', 'email'));&#10;                log_message('debug', 'SMTP Protocol: ' . $this-&gt;config-&gt;item('protocol', 'email'));&#10;                //log_message('error', 'Failed to send confirmation email to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . $candidat_id . '. Error: ' . $error);&#10;&#10;                return false;&#10;            }&#10;        } catch (Exception $e) {&#10;            log_message('error', 'Exception when sending email: ' . $e-&gt;getMessage());&#10;            return false;&#10;        }&#10;    }&#10;&#10;    public function add() {&#10;        $this-&gt;load-&gt;library('form_validation');&#10;        $table = 'candidats';&#10;        $data = array();&#10;        $submitname = &quot;enregistrer&quot;;&#10;        $data['submitname'] = $submitname;&#10;        $data[&quot;specialites&quot;] = $this-&gt;model-&gt;list_all(&quot;specialite&quot;)-&gt;result();&#10;        $data[&quot;pays&quot;] = $this-&gt;model-&gt;list_all(&quot;pays&quot;)-&gt;result();&#10;        $data['action'] = site_url('candidature/add/');&#10;&#10;        // Log to help with debugging&#10;        //log_message('debug', 'Add method accessed. POST data present: ' . (empty($_POST) ? 'No' : 'Yes'));&#10;        //log_message(&quot;&quot;);&#10;        //log_message($submitname, $this-&gt;input-&gt;post($submitname));&#10;&#10;        // Check if form is submitted&#10;        if (empty($_POST) === false) {&#10;            log_message('debug', 'Form submitted with button: ' . $submitname);&#10;&#10;            // Set validation rules&#10;            $this-&gt;form_validation-&gt;set_rules('id_specialite', 'Spécialité', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('type_etude', 'Mode de formation', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('civilite', 'Civilité', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('nom', 'Nom', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('prenom', 'Prénom', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('date_naissance', 'Date de naissance', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('lieu_de_naissce', 'Lieu de naissance', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('nationalite', 'Nationalité', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('paysorigine', 'Pays d\'origine', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('statu_matrimonial', 'Statut matrimonial', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('adresse_candidat', 'Adresse complète', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('ville_residence', 'Ville de résidence', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('pays_residence', 'Pays de résidence', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('telephone', 'Téléphone WhatsApp', 'required|is_unique[candidats.telephone]|is_unique[candidats.telephone2]');&#10;            $this-&gt;form_validation-&gt;set_rules('telephone2', 'Téléphone secondaire', 'trim|differs[telephone]|is_unique[candidats.telephone]|is_unique[candidats.telephone2]');&#10;            $this-&gt;form_validation-&gt;set_rules('email', 'Email', 'required|valid_email|matches[emailverif]|is_unique[candidats.email]');&#10;            $this-&gt;form_validation-&gt;set_rules('emailverif', 'Confirmation Email', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('engagement', 'Engagement', 'required');&#10;&#10;            // Set custom error messages with clear and specific descriptions&#10;            $this-&gt;form_validation-&gt;set_message('required', 'Le champ %s est obligatoire.');&#10;            $this-&gt;form_validation-&gt;set_message('is_unique', 'Ce %s est déjà utilisé par un autre candidat. Veuillez en saisir un autre.');&#10;            $this-&gt;form_validation-&gt;set_message('matches', 'La confirmation de l\'adresse e-mail ne correspond pas à l\'adresse e-mail principale.');&#10;            $this-&gt;form_validation-&gt;set_message('differs', 'Le numéro de téléphone secondaire doit être différent du numéro principal.');&#10;            $this-&gt;form_validation-&gt;set_message('valid_email', 'Veuillez saisir une adresse e-mail valide.');&#10;&#10;            // Store form values for repopulation in case of validation failure&#10;            $this-&gt;form_data = new stdClass();&#10;            foreach ($this-&gt;input-&gt;post() as $key =&gt; $value) {&#10;                $this-&gt;form_data-&gt;$key = $value;&#10;            }&#10;&#10;            $fields = ['type_etude', 'id_specialite', 'civilite', 'nom', 'prenom', 'epouse', 'nombre_enfant',&#10;                      'date_naissance', 'lieu_de_naissce', 'nationalite', 'paysorigine',&#10;                      'region_dorigine', 'dept_dorigine', 'sexe', 'statu_matrimonial', 'langue', 'pays_residence',&#10;                      'adresse_candidat', 'ville_residence', 'telephone', 'telephone2', 'email',&#10;                      'dernier_diplome_intitule', 'dernier_diplome_specialite',&#10;                      'dernier_diplome_domaine', 'dernier_diplome_autre_domaine', 'dernier_diplome_etablissement',&#10;                      'dernier_diplome_pays', 'dernier_diplome_annee', 'dernier_diplome_niveau', 'dernier_diplome_mention',&#10;                      'statut_prof', 'autre_statut_prof', 'structure', 'adresse_structure', 'telephone_structure',&#10;                      'email_structure', 'poste_actuel', 'date_debut_poste', 'lien_finances_publiques',&#10;                      'explication_lien_partiel', 'total_annees_experience', 'howDidYouKnewUs', 'howDidYouKnewUs_autre', 'niveau_connaissance_fp', 'motivation_pssfp', 'utilite_formation', 'domaines_interet_fp'];&#10;&#10;            foreach ($fields as $field) {&#10;                if (!isset($this-&gt;form_data-&gt;$field)) {&#10;                    $this-&gt;form_data-&gt;$field = '';&#10;                }&#10;            }&#10;&#10;            // Run validation and log the result&#10;            $validation_result = $this-&gt;form_validation-&gt;run();&#10;&#10;            if ($validation_result === TRUE) {&#10;&#10;                // Only save data if validation passes&#10;                $candidat_data = array();&#10;                foreach ($fields as $field) {&#10;                    if ($this-&gt;input-&gt;post($field) !== NULL) {&#10;                        $candidat_data[$field] = $this-&gt;input-&gt;post($field);&#10;                    }&#10;                }&#10;&#10;                $candidat_data['date_naissance'] = $this-&gt;input-&gt;post('date_naissance');&#10;                $candidat_data['sexe'] = ($this-&gt;input-&gt;post('civilite') === &quot;Monsieur&quot;) ? &quot;Homme&quot; : &quot;Femme&quot;;&#10;                $candidat_data['accepter_condition'] = true;&#10;                $candidat_data['ordre_candidature'] = time();;&#10;                $candidat_data['date_enregistrement'] = date(&quot;Y-m-d H:i:s&quot;);&#10;                $candidat_data['id_pays'] = $this-&gt;input-&gt;post('pays_residence');&#10;                $candidat_data['a_depose'] = false;&#10;&#10;                // Create the new record&#10;                $candidat_id = $this-&gt;model-&gt;save($table, $candidat_data);&#10;&#10;                if ($candidat_id) {&#10;                    // Send confirmation email to the candidate&#10;                    //$email_sent = $this-&gt;send_confirmation_email($candidat_id, 'new');&#10;                    $email_sent = true;&#10;&#10;                    // Store info in session for the success page&#10;                    $this-&gt;session-&gt;set_flashdata('id', $candidat_id);&#10;                    $this-&gt;session-&gt;set_flashdata('numordre', $candidat_id);&#10;                    $this-&gt;session-&gt;set_flashdata('telephone', $this-&gt;input-&gt;post('telephone'));&#10;                    $this-&gt;session-&gt;set_flashdata('email', $this-&gt;input-&gt;post('email'));&#10;                    $this-&gt;session-&gt;set_flashdata('email_sent', $email_sent);&#10;&#10;                    // If email sending failed, get the error message&#10;                    if (!$email_sent) {&#10;                        $error = $this-&gt;email-&gt;print_debugger();&#10;                        $this-&gt;session-&gt;set_flashdata('email_error', $error);&#10;                        log_message('error', 'Email sending failed for candidate ID: ' . $candidat_id . '. Error: ' . $error);&#10;                    } else {&#10;                        log_message('info', 'Email successfully sent for candidate ID: ' . $candidat_id);&#10;                    }&#10;&#10;                    // Ensure the redirect URL is correct and properly formed&#10;                    $redirect_url = site_url('candidature/success');&#10;                    log_message('debug', 'Redirecting to success page: ' . $redirect_url);&#10;&#10;                    // Force a proper redirect with header&#10;                    header('Location: ' . $redirect_url);&#10;                    exit(); // Stop further execution to ensure the redirect takes place&#10;                } else {&#10;                    // Database insertion failed&#10;                    $data['error'] = 'Échec de l\'enregistrement de la candidature. Veuillez réessayer.';&#10;                    log_message('error', 'Failed to create candidate record in database');&#10;                    $this-&gt;template-&gt;layout('candidature', $data);&#10;                }&#10;            } else {&#10;                // Validation failed - log and display the form with errors&#10;                var_dump('debug', 'Form validation failed. Errors: ' . validation_errors());&#10;                $this-&gt;template-&gt;layout('candidature', $data);&#10;            }&#10;        } else {&#10;            // First time loading the form - reset form data&#10;            log_message('debug', 'Initial form load - resetting form data');&#10;            $this-&gt;reset_form_data();&#10;            $this-&gt;template-&gt;layout('candidature', $data);&#10;        }&#10;    }&#10;&#10;    public function success() {&#10;        // Add detailed logging about the session data for debugging&#10;        log_message('debug', 'Success page accessed. Session data: ' .&#10;            'numordre=' . $this-&gt;session-&gt;flashdata('numordre') . ', ' .&#10;            'email=' . $this-&gt;session-&gt;flashdata('email') . ', ' .&#10;            'email_sent=' . ($this-&gt;session-&gt;flashdata('email_sent') ? 'true' : 'false'));&#10;&#10;        $this-&gt;template-&gt;layout('success_page', array()); // Create a success view&#10;    }&#10;&#10;    public function viewnumordre(){&#10;        $data=array();&#10;        $this-&gt;template-&gt;layout('numOrdreCandidature', $data);&#10;    }&#10;&#10;    public function initupdate() {&#10;        $this-&gt;form_data = new stdclass;&#10;        $this-&gt;form_data-&gt;numordre = '';&#10;        $this-&gt;form_data-&gt;telephone = '';&#10;        $submitname = &quot;modifier&quot;;&#10;        $data['submitname'] = $submitname;&#10;        $data['action'] = site_url('candidature/verifinitupdate/');&#10;        $this-&gt;template-&gt;layout('firstformupdate', $data);&#10;    }&#10;&#10;    public function verifinitupdate() {&#10;        $table = 'candidats';&#10;        $submitname = &quot;modifier&quot;;&#10;        $data['submitname'] = $submitname;&#10;        $numordre = $this-&gt;input-&gt;post('numordre');&#10;        $phone = $this-&gt;input-&gt;post('telephone');&#10;        $candidature = $this-&gt;model-&gt;get_by_id($table, $numordre, 'ordre_candidature')-&gt;row();&#10;        if ($candidature == null || $candidature-&gt;telephone !== $phone) {&#10;            $this-&gt;form_data = new stdclass;&#10;            $this-&gt;form_data-&gt;numordre = $this-&gt;input-&gt;post('numordre');&#10;            $this-&gt;form_data-&gt;telephone = $this-&gt;input-&gt;post('telephone');&#10;            $data['action'] = site_url('candidature/verifinitupdate/');&#10;            $data['message'] = &quot;Vérifier vos informations&quot;;&#10;            $this-&gt;template-&gt;layout('firstformupdate', $data);&#10;        } else {&#10;            redirect('candidature/update/'.$numordre.&quot;/&quot;.$phone);&#10;        }&#10;    }&#10;&#10;    public function marquerdeposer($id_candidat) {&#10;        $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;        $candidat = array(&#10;            'a_depose' =&gt; true&#10;        );&#10;        $this-&gt;model-&gt;update(&quot;candidats&quot;, 'id', $id_candidat, $candidat);&#10;        redirect('liste');&#10;    }&#10;&#10;    public function update($numordre = 0, $phone = '') {&#10;        $table = 'candidats';&#10;        $submitname = &quot;modifier&quot;;&#10;        $data['submitname'] = $submitname;&#10;&#10;        // Get candidate data&#10;        $candidature = $this-&gt;model-&gt;get_by_id($table, $numordre, 'ordre_candidature')-&gt;row();&#10;        if (!$candidature) {&#10;            // No candidate found with this order number&#10;            $this-&gt;session-&gt;set_flashdata('error', 'Aucune candidature trouvée avec ce numéro d\'ordre.');&#10;            redirect('candidature/initupdate');&#10;            return;&#10;        }&#10;&#10;        $data[&quot;specialites&quot;] = $this-&gt;model-&gt;list_all(&quot;specialite&quot;)-&gt;result();&#10;        $data[&quot;pays&quot;] = $this-&gt;model-&gt;list_all(&quot;pays&quot;)-&gt;result();&#10;        $data['action'] = site_url('candidature/update/'.$numordre.&quot;/&quot;.$phone);&#10;&#10;        // Load all current data into form_data&#10;        $this-&gt;form_data = new stdclass;&#10;        $this-&gt;form_data-&gt;type_etude = $candidature-&gt;type_etude;&#10;        $this-&gt;form_data-&gt;specialite = $candidature-&gt;id_specialite;&#10;        $this-&gt;form_data-&gt;civilite = $candidature-&gt;civilite;&#10;        $this-&gt;form_data-&gt;nom = $candidature-&gt;nom;&#10;        $this-&gt;form_data-&gt;prenom = $candidature-&gt;prenom;&#10;        $this-&gt;form_data-&gt;epouse = $candidature-&gt;epouse;&#10;        $this-&gt;form_data-&gt;nombre_enfant = $candidature-&gt;nombre_enfant;&#10;        $this-&gt;form_data-&gt;date_naissance = $candidature-&gt;date_naissance; // Use the date directly&#10;        $this-&gt;form_data-&gt;lieu_de_naissce = $candidature-&gt;lieu_de_naissce;&#10;        $this-&gt;form_data-&gt;nationalite = $candidature-&gt;nationalite;&#10;        $this-&gt;form_data-&gt;paysorigine = $candidature-&gt;paysorigine;&#10;        $this-&gt;form_data-&gt;region_dorigine = $candidature-&gt;region_dorigine;&#10;        $this-&gt;form_data-&gt;dept_dorigine = $candidature-&gt;dept_dorigine;&#10;        $this-&gt;form_data-&gt;sexe = $candidature-&gt;sexe;&#10;        $this-&gt;form_data-&gt;statu_matrimonial = $candidature-&gt;statu_matrimonial;&#10;        $this-&gt;form_data-&gt;langue = $candidature-&gt;langue;&#10;        $this-&gt;form_data-&gt;pays_residence = $candidature-&gt;id_pays;&#10;        $this-&gt;form_data-&gt;adresse_candidat = $candidature-&gt;adresse_candidat;&#10;        $this-&gt;form_data-&gt;ville_residence = $candidature-&gt;ville_residence;&#10;        $this-&gt;form_data-&gt;telephone = $candidature-&gt;telephone;&#10;        $this-&gt;form_data-&gt;telephone2 = $candidature-&gt;telephone2;&#10;        $this-&gt;form_data-&gt;email = $candidature-&gt;email;&#10;        $this-&gt;form_data-&gt;emailverif = $candidature-&gt;email;&#10;        $this-&gt;form_data-&gt;dernier_diplome_intitule = $candidature-&gt;dernier_diplome_intitule;&#10;        $this-&gt;form_data-&gt;dernier_diplome_specialite = $candidature-&gt;dernier_diplome_specialite;&#10;        $this-&gt;form_data-&gt;dernier_diplome_domaine = $candidature-&gt;dernier_diplome_domaine;&#10;        $this-&gt;form_data-&gt;dernier_diplome_autre_domaine = $candidature-&gt;dernier_diplome_autre_domaine;&#10;        $this-&gt;form_data-&gt;dernier_diplome_etablissement = $candidature-&gt;dernier_diplome_etablissement;&#10;        $this-&gt;form_data-&gt;dernier_diplome_pays = $candidature-&gt;dernier_diplome_pays;&#10;        $this-&gt;form_data-&gt;dernier_diplome_annee = $candidature-&gt;dernier_diplome_annee;&#10;        $this-&gt;form_data-&gt;dernier_diplome_niveau = $candidature-&gt;dernier_diplome_niveau;&#10;        $this-&gt;form_data-&gt;dernier_diplome_mention = $candidature-&gt;dernier_diplome_mention;&#10;        $this-&gt;form_data-&gt;statut_prof = $candidature-&gt;statut_prof;&#10;        $this-&gt;form_data-&gt;autre_statut_prof = $candidature-&gt;autre_statut_prof;&#10;        $this-&gt;form_data-&gt;structure = $candidature-&gt;structure;&#10;        $this-&gt;form_data-&gt;adresse_structure = $candidature-&gt;adresse_structure;&#10;        $this-&gt;form_data-&gt;telephone_structure = $candidature-&gt;telephone_structure;&#10;        $this-&gt;form_data-&gt;email_structure = $candidature-&gt;email_structure;&#10;        $this-&gt;form_data-&gt;poste_actuel = $candidature-&gt;poste_actuel;&#10;        $this-&gt;form_data-&gt;date_debut_poste = $candidature-&gt;date_debut_poste;&#10;        $this-&gt;form_data-&gt;lien_finances_publiques = $candidature-&gt;lien_finances_publiques;&#10;        $this-&gt;form_data-&gt;explication_lien_partiel = $candidature-&gt;explication_lien_partiel;&#10;        $this-&gt;form_data-&gt;total_annees_experience = $candidature-&gt;total_annees_experience;&#10;        $this-&gt;form_data-&gt;howDidYouKnewUs = $candidature-&gt;howDidYouKnewUs;&#10;        $this-&gt;form_data-&gt;howDidYouKnewUs_autre = $candidature-&gt;howDidYouKnewUs_autre;&#10;        //$this-&gt;form_data-&gt;accepter_condition              Pas besoin d'enregistrer cette variable&#10;&#10;        if (isset($_POST[$submitname])) {&#10;            // Validation rules for update - exclude current record from uniqueness check&#10;            $this-&gt;form_validation-&gt;set_rules('telephone', 'Numéro de téléphone principal', 'trim|required|is_unique[candidats.telephone.id.' . $candidature-&gt;id . ']|is_unique[candidats.telephone2.id.' . $candidature-&gt;id . ']');&#10;            $this-&gt;form_validation-&gt;set_rules('telephone2', 'Numéro de téléphone secondaire', 'trim|is_unique[candidats.telephone2.id.' . $candidature-&gt;id . ']|is_unique[candidats.telephone.id.' . $candidature-&gt;id . ']|differs[telephone]');&#10;            $this-&gt;form_validation-&gt;set_rules('email', 'Adresse e-mail', 'trim|required|valid_email|is_unique[candidats.email.id.' . $candidature-&gt;id . ']');&#10;            $this-&gt;form_validation-&gt;set_rules('emailverif', 'Confirmation de l\'adresse e-mail', 'trim|required|valid_email|matches[email]');&#10;            $this-&gt;form_validation-&gt;set_rules('date_naissance', 'Date de naissance', 'required');&#10;&#10;            // Set custom error messages with clear and specific descriptions&#10;            $this-&gt;form_validation-&gt;set_message('required', 'Le champ %s est obligatoire.');&#10;            $this-&gt;form_validation-&gt;set_message('is_unique', 'Ce %s est déjà utilisé par un autre candidat. Veuillez en saisir un autre.');&#10;            $this-&gt;form_validation-&gt;set_message('matches', 'La confirmation de l\'adresse e-mail ne correspond pas à l\'adresse e-mail principale.');&#10;            $this-&gt;form_validation-&gt;set_message('differs', 'Le numéro de téléphone secondaire doit être différent du numéro principal.');&#10;            $this-&gt;form_validation-&gt;set_message('valid_email', 'Veuillez saisir une adresse e-mail valide.');&#10;&#10;            // Store form values for repopulation in case of validation failure&#10;            foreach ($this-&gt;input-&gt;post() as $key =&gt; $value) {&#10;                $this-&gt;form_data-&gt;$key = $value;&#10;            }&#10;&#10;            if ($this-&gt;form_validation-&gt;run() == TRUE) {&#10;                // Build update data array with all fields&#10;                $candidat = array(&#10;                    'civilite' =&gt; $this-&gt;input-&gt;post('civilite'),&#10;                    'type_etude' =&gt; $this-&gt;input-&gt;post('type_etude'),&#10;                    'nom' =&gt; $this-&gt;input-&gt;post('nom'),&#10;                    'prenom' =&gt; $this-&gt;input-&gt;post('prenom'),&#10;                    'epouse' =&gt; $this-&gt;input-&gt;post('epouse'),&#10;                    'nombre_enfant' =&gt; $this-&gt;input-&gt;post('nombre_enfant'),&#10;                    'date_naissance' =&gt; $this-&gt;input-&gt;post('date_naissance'),&#10;                    'lieu_de_naissce' =&gt; $this-&gt;input-&gt;post('lieu_de_naissce'),&#10;                    'nationalite' =&gt; $this-&gt;input-&gt;post('nationalite'),&#10;                    'paysorigine' =&gt; $this-&gt;input-&gt;post('paysorigine'),&#10;                    'region_dorigine' =&gt; $this-&gt;input-&gt;post('region_dorigine'),&#10;                    'dept_dorigine' =&gt; $this-&gt;input-&gt;post('dept_dorigine'),&#10;                    'statu_matrimonial' =&gt; $this-&gt;input-&gt;post('statu_matrimonial'),&#10;                    'adresse_candidat' =&gt; $this-&gt;input-&gt;post('adresse_candidat'),&#10;                    'telephone' =&gt; $this-&gt;input-&gt;post('telephone'),&#10;                    'telephone2' =&gt; $this-&gt;input-&gt;post('telephone2'),&#10;                    'email' =&gt; $this-&gt;input-&gt;post('email'),&#10;                    'ville_residence' =&gt; $this-&gt;input-&gt;post('ville_residence'),&#10;                    'dernier_diplome_intitule' =&gt; $this-&gt;input-&gt;post('dernier_diplome_intitule'),&#10;                    'dernier_diplome_specialite' =&gt; $this-&gt;input-&gt;post('dernier_diplome_specialite'),&#10;                    'dernier_diplome_domaine' =&gt; $this-&gt;input-&gt;post('dernier_diplome_domaine'),&#10;                    'dernier_diplome_autre_domaine' =&gt; $this-&gt;input-&gt;post('dernier_diplome_autre_domaine'),&#10;                    'dernier_diplome_etablissement' =&gt; $this-&gt;input-&gt;post('dernier_diplome_etablissement'),&#10;                    'dernier_diplome_pays' =&gt; $this-&gt;input-&gt;post('dernier_diplome_pays'),&#10;                    'dernier_diplome_annee' =&gt; $this-&gt;input-&gt;post('dernier_diplome_annee'),&#10;                    'dernier_diplome_niveau' =&gt; $this-&gt;input-&gt;post('dernier_diplome_niveau'),&#10;                    'dernier_diplome_mention' =&gt; $this-&gt;input-&gt;post('dernier_diplome_mention'),&#10;                    'statut_prof' =&gt; $this-&gt;input-&gt;post('statut_prof'),&#10;                    'autre_statut_prof' =&gt; $this-&gt;input-&gt;post('autre_statut_prof'),&#10;                    'structure' =&gt; $this-&gt;input-&gt;post('structure'),&#10;                    'adresse_structure' =&gt; $this-&gt;input-&gt;post('adresse_structure'),&#10;                    'email_structure' =&gt; $this-&gt;input-&gt;post('email_structure'),&#10;                    'telephone_structure' =&gt; $this-&gt;input-&gt;post('telephone_structure'),&#10;                    'poste_actuel' =&gt; $this-&gt;input-&gt;post('poste_actuel'),&#10;                    'date_debut_poste' =&gt; $this-&gt;input-&gt;post('date_debut_poste'),&#10;                    'lien_finances_publiques' =&gt; $this-&gt;input-&gt;post('lien_finances_publiques'),&#10;                    'explication_lien_partiel' =&gt; $this-&gt;input-&gt;post('explication_lien_partiel'),&#10;                    'total_annees_experience' =&gt; $this-&gt;input-&gt;post('total_annees_experience'),&#10;                    'howDidYouKnewUs' =&gt; $this-&gt;input-&gt;post('howDidYouKnewUs'),&#10;                    'howDidYouKnewUs_autre' =&gt; $this-&gt;input-&gt;post('howDidYouKnewUs_autre'),&#10;                    'langue' =&gt; $this-&gt;input-&gt;post('langue'),&#10;                    'id_specialite' =&gt; $this-&gt;input-&gt;post('pays_residence'),&#10;                    'id_pays' =&gt; $this-&gt;input-&gt;post('pays_residence'),&#10;                    'pays_residence' =&gt; $this-&gt;model-&gt;get_by_id(&quot;pays&quot;, $this-&gt;input-&gt;post('pays_residence'), &quot;id&quot;)-&gt;row()-&gt;nom,&#10;                    'date_enregistrement' =&gt; date(&quot;Y-m-d H:i:s&quot;),&#10;                    'sexe' =&gt; ($this-&gt;input-&gt;post('civilite') === &quot;Monsieur&quot;) ? &quot;Homme&quot; : &quot;Femme&quot;,&#10;                    'accepter_condition' =&gt; true&#10;                );&#10;&#10;                // Update the record&#10;                $update_result = $this-&gt;model-&gt;update($table, 'id', $candidature-&gt;id, $candidat);&#10;&#10;                if ($update_result) {&#10;                    // Send confirmation email to the candidate&#10;                    $email_sent = $this-&gt;send_confirmation_email($candidature, 'update');&#10;&#10;                    $this-&gt;session-&gt;set_flashdata('succes', 'Modification de la Candidature enregistrée avec succès, votre numéro d\'ordre a été envoyé à votre adresse mail!');&#10;                    $this-&gt;session-&gt;set_flashdata('id', $candidature-&gt;ordre_candidature);&#10;                    $this-&gt;session-&gt;set_flashdata('numordre', $candidature-&gt;ordre_candidature);&#10;                    $this-&gt;session-&gt;set_flashdata('telephone', $this-&gt;input-&gt;post('telephone'));&#10;                    $this-&gt;session-&gt;set_flashdata('email', $this-&gt;input-&gt;post('email'));&#10;                    $this-&gt;session-&gt;set_flashdata('email_sent', $email_sent);&#10;&#10;                    // If email sending failed, get the error message&#10;                    if (!$email_sent) {&#10;                        $error = $this-&gt;email-&gt;print_debugger();&#10;                        $this-&gt;session-&gt;set_flashdata('email_error', $error);&#10;                        log_message('error', 'Email sending failed for update of candidate ID: ' . $candidature-&gt;id . '. Error: ' . $error);&#10;                    } else {&#10;                        log_message('info', 'Email successfully sent for update of candidate ID: ' . $candidature-&gt;id);&#10;                    }&#10;&#10;                    // Redirect to prevent form resubmission&#10;                    redirect('candidature/viewnumordre');&#10;                } else {&#10;                    // Database update failed&#10;                    $data['message'] = 'Échec de la mise à jour de la candidature. Veuillez réessayer.';&#10;                    $this-&gt;template-&gt;layout('candidature', $data);&#10;                }&#10;            } else {&#10;                // Validation failed&#10;                $data['message'] = 'Des erreurs ont été rencontrées lors de l\'enregistrement de votre fiche&lt;br/&gt; verifier vos informations et corriger les problèmes signalés';&#10;                $this-&gt;template-&gt;layout('candidature', $data);&#10;            }&#10;        } else {&#10;            // Initial page load - just display the form&#10;            $this-&gt;template-&gt;layout('candidature', $data);&#10;        }&#10;    }&#10;&#10;    public function initRecupOrdre(){&#10;        $data=array();&#10;        $this-&gt;template-&gt;layout('formEmailForNumOrdre', array());&#10;    }&#10;&#10;    /**&#10;     * Reset form data by initializing all properties to empty values&#10;     */&#10;    private function reset_form_data() {&#10;        // Initialize form_data object if it doesn't exist&#10;        if (!isset($this-&gt;form_data)) {&#10;            $this-&gt;form_data = new stdClass();&#10;        }&#10;&#10;        // Reset all form fields to empty values&#10;        $this-&gt;form_data-&gt;specialite = '';&#10;        $this-&gt;form_data-&gt;type_etude = '';&#10;        $this-&gt;form_data-&gt;civilite = '';&#10;        $this-&gt;form_data-&gt;nom = '';&#10;        $this-&gt;form_data-&gt;prenom = '';&#10;        $this-&gt;form_data-&gt;epouse = '';&#10;        $this-&gt;form_data-&gt;nombre_enfant = '';&#10;        $this-&gt;form_data-&gt;datenaiss_jj = '';&#10;        $this-&gt;form_data-&gt;datenaiss_mm = '';&#10;        $this-&gt;form_data-&gt;datenaiss_yy = '';&#10;        $this-&gt;form_data-&gt;lieu_de_naissce = '';&#10;        $this-&gt;form_data-&gt;nationalite = '';&#10;        $this-&gt;form_data-&gt;paysorigine = '';&#10;        $this-&gt;form_data-&gt;region_dorigine = '';&#10;        $this-&gt;form_data-&gt;dept_dorigine = '';&#10;        $this-&gt;form_data-&gt;sexe = '';&#10;        $this-&gt;form_data-&gt;statu_matrimonial = '';&#10;        $this-&gt;form_data-&gt;langue = '';&#10;        $this-&gt;form_data-&gt;pays_residence = '';&#10;        $this-&gt;form_data-&gt;adresse_candidat = '';&#10;        $this-&gt;form_data-&gt;ville_residence = '';&#10;        $this-&gt;form_data-&gt;telephone = '';&#10;        $this-&gt;form_data-&gt;telephone2 = '';&#10;        $this-&gt;form_data-&gt;email = '';&#10;        $this-&gt;form_data-&gt;emailverif = '';&#10;        $this-&gt;form_data-&gt;nombre_annee_etude_sup = '';&#10;        $this-&gt;form_data-&gt;dernier_diplome = '';&#10;        $this-&gt;form_data-&gt;specialite_requise = '';&#10;        $this-&gt;form_data-&gt;diplome_requis = '';&#10;        $this-&gt;form_data-&gt;diplome_obtenu_a = '';&#10;        $this-&gt;form_data-&gt;annee_optention_diplome = '';&#10;        $this-&gt;form_data-&gt;statut_prof = '';&#10;        $this-&gt;form_data-&gt;structure = '';&#10;        $this-&gt;form_data-&gt;adresse_structure = '';&#10;        $this-&gt;form_data-&gt;telephone_structure = '';&#10;        $this-&gt;form_data-&gt;email_structure = '';&#10;        $this-&gt;form_data-&gt;howDidYouKnewUs = '';&#10;    }&#10;&#10;    public function get_all_regions() {&#10;        return $this-&gt;db-&gt;get('regions')-&gt;result();&#10;    }&#10;&#10;    public function get_departements() {&#10;        $region_id = $this-&gt;input-&gt;post('region_id');&#10;&#10;        if (!$region_id) {&#10;            echo '&lt;option value=&quot;&quot;&gt;Aucune région reçue&lt;/option&gt;';&#10;            return;&#10;        }&#10;&#10;        $query = $this-&gt;db-&gt;get_where('departements', ['region_id' =&gt; $region_id]);&#10;        $departements = $query-&gt;result();&#10;&#10;        if (empty($departements)) {&#10;            echo '&lt;option value=&quot;&quot;&gt;Aucun département trouvé&lt;/option&gt;';&#10;        } else {&#10;            echo '&lt;option value=&quot;&quot;&gt;--Sélectionner un département--&lt;/option&gt;';&#10;            foreach ($departements as $dept) {&#10;                echo '&lt;option value=&quot;' . $dept-&gt;nom . '&quot;&gt;' . $dept-&gt;nom . '&lt;/option&gt;';&#10;            }&#10;        }&#10;    }&#10;&#10;&#10;&#10;    public function get_departements_by_region($region_id) {&#10;        $this-&gt;db-&gt;where('region_id', 2);&#10;        $query = $this-&gt;db-&gt;get('departements');&#10;        return $query-&gt;result();&#10;    }&#10;&#10;&#10;    function _remap($method)&#10;    {&#10;        $param_offset = 2;&#10;        $params = func_get_args();&#10;        array_shift($params);&#10;        if (method_exists($this, $method))&#10;        {&#10;            // Call the method with the remaining parameters&#10;            return call_user_func_array(array($this, $method), $params);&#10;        }&#10;        else&#10;        {&#10;            // Method doesn't exist, show 404&#10;            show_404();&#10;        }&#10;    }&#10;}&#10;&#10;/* End of file welcome.php */&#10;/* Location: ./application/controllers/welcome.php */&#10;" />
              <option name="updatedContent" value="&lt;?php&#10;&#10;if (!defined('BASEPATH'))&#10;    exit('No direct script access allowed');&#10;&#10;class Candidature extends MY_Controller {&#10;&#10;    public $load;&#10;    public $form_data;&#10;    public $region_model;&#10;&#10;&#10;    function __construct()&#10;    {&#10;        parent::__construct();&#10;        // load model&#10;        $this-&gt;load-&gt;model('model_generique', 'model', TRUE);&#10;        $this-&gt;load-&gt;model('region_model');&#10;&#10;        // load library&#10;        $this-&gt;load-&gt;library(['form_validation', 'session', 'email', 'table']);&#10;&#10;        // load helper&#10;        $this-&gt;load-&gt;helper(['form', 'url']);&#10;    }&#10;&#10;    /**&#10;     * Index Page for this controller.&#10;     *&#10;     * Maps to the following URL&#10;     * &#9;&#9;http://example.com/index.php/welcome&#10;     * &#9;- or -&#10;     * &#9;&#9;http://example.com/index.php/welcome/index&#10;     * &#9;- or -&#10;     * Since this controller is set as the default controller in&#10;     * config/routes.php, it's displayed at http://example.com/&#10;     *&#10;     * So any other public methods not prefixed with an underscore will&#10;     * map to /index.php/welcome/&lt;method_name&gt;&#10;     * @see http://codeigniter.com/user_guide/general/urls.html&#10;     */&#10;&#10;    public function index() {&#10;        $this-&gt;reset_form_data();&#10;        $submitname = &quot;enregistrer&quot;;&#10;        $data['submitname'] = $submitname;&#10;        $data[&quot;specialites&quot;] = $this-&gt;model-&gt;list_all(&quot;specialite&quot;)-&gt;result();&#10;        $data[&quot;pays&quot;] = $this-&gt;model-&gt;list_all(&quot;pays&quot;)-&gt;result();&#10;        $data['action'] = site_url('candidature/add/');&#10;        $this-&gt;template-&gt;layout('candidature', $data);&#10;    }&#10;&#10;    /**&#10;     * Send a confirmation email to the user after form submission&#10;     *&#10;     * @param object $candidature The candidate data object&#10;     * @param string $action The action performed (new submission or update)&#10;     * @return boolean True if email sent successfully&#10;     */&#10;    private function send_confirmation_email($candidature, $action = 'new') {&#10;        // Start by logging the attempt&#10;        log_message('info', 'Attempting to send email to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . (is_object($candidature) ? $candidature-&gt;id : $candidature));&#10;&#10;        $email_setting = array(&#10;            'charset' =&gt; 'utf-8',&#10;            'mailtype' =&gt; 'html'&#10;        );&#10;&#10;        // Load email configuration from config file&#10;        $this-&gt;config-&gt;load('email');&#10;&#10;        $this-&gt;email-&gt;initialize($email_setting);&#10;        $this-&gt;email-&gt;from('noreply@pssfp.net', '[PSSFP] DEPOT de CANDIDATURE 13ème PROMOTION 2025/2026');&#10;        $this-&gt;email-&gt;to($this-&gt;input-&gt;post('email'));&#10;        $this-&gt;email-&gt;newline = &quot;\r\n&quot;;&#10;        $this-&gt;email-&gt;crlf = &quot;\n&quot;;&#10;&#10;        // Log recipient email for debugging&#10;        log_message('debug', 'Email recipient: ' . $this-&gt;input-&gt;post('email'));&#10;&#10;        $candidat_id = isset($candidature-&gt;id) ? $candidature-&gt;id : $candidature;&#10;        $specialite_candidat = $this-&gt;model-&gt;get_by_id2('specialite', $this-&gt;input-&gt;post('id_specialite'));&#10;&#10;        // Set the appropriate subject based on action&#10;        if ($action == 'new') {&#10;            $this-&gt;email-&gt;subject('Confirmation de candidature N°' . $candidat_id . ' - PSSFP');&#10;        } else {&#10;            $this-&gt;email-&gt;subject('Mise à jour de candidature N°' . $candidat_id . ' - PSSFP');&#10;        }&#10;&#10;        // Build the email message with improved formatting&#10;        $message = '&#10;        &lt;!DOCTYPE html&gt;&#10;        &lt;html&gt;&#10;        &lt;head&gt;&#10;            &lt;meta charset=&quot;utf-8&quot;&gt;&#10;            &lt;style&gt;&#10;                body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }&#10;                .container { width: 100%; max-width: 600px; margin: 0 auto; }&#10;                .header { background-color: #0056b3; color: white; padding: 20px; text-align: center; }&#10;                .content { padding: 20px; }&#10;                .footer { background-color: #f8f9fa; padding: 15px; font-size: 12px; color: #666; text-align: center; }&#10;                table { width: 100%; border-collapse: collapse; margin: 20px 0; }&#10;                table td { padding: 8px; border-bottom: 1px solid #eee; }&#10;                .label { font-weight: bold; width: 40%; }&#10;                .actions { background-color: #f5f5f5; padding: 15px; margin: 20px 0; border-left: 4px solid #0056b3; }&#10;                .btn { display: inline-block; background-color: #0056b3; color: white; padding: 10px 20px; &#10;                       text-decoration: none; border-radius: 4px; margin: 10px 0; }&#10;            &lt;/style&gt;&#10;        &lt;/head&gt;&#10;        &lt;body&gt;&#10;            &lt;div class=&quot;container&quot;&gt;&#10;                &lt;div class=&quot;header&quot;&gt;&#10;                    &lt;h2&gt;' . ($action == 'new' ? 'Confirmation de Candidature' : 'Mise à jour de Candidature') . '&lt;/h2&gt;&#10;                &lt;/div&gt;&#10;                &#10;                &lt;div class=&quot;content&quot;&gt;&#10;                    &lt;p&gt;Cher(e) ' . $this-&gt;input-&gt;post('civilite') . ' ' . $this-&gt;input-&gt;post('nom') . ' ' . $this-&gt;input-&gt;post('prenom') . ',&lt;/p&gt;&#10;                    &#10;                    &lt;p&gt;Nous vous informons que votre candidature a bien été ' . ($action == 'new' ? 'enregistrée' : 'mise à jour') . ' avec les détails suivants :&lt;/p&gt;&#10;                    &#10;                    &lt;table&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Dossier N°&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $candidat_id . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;N° de téléphone&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('telephone') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Spécialité&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $specialite_candidat-&gt;nom . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Type de formation&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('type_etude') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Statut professionnel&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('statut_prof') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Administration d\'origine&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('structure') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                        &lt;tr&gt;&#10;                            &lt;td class=&quot;label&quot;&gt;Nationalité&lt;/td&gt;&#10;                            &lt;td&gt;: ' . $this-&gt;input-&gt;post('nationalite') . '&lt;/td&gt;&#10;                        &lt;/tr&gt;&#10;                    &lt;/table&gt;&#10;                    &#10;                    &lt;div class=&quot;actions&quot;&gt;&#10;                        &lt;h3&gt;Actions importantes :&lt;/h3&gt;&#10;                        &lt;p&gt;&#10;                            &lt;a href=&quot;' . site_url('impression/imprimer_fiche/' . $candidat_id) . '&quot; class=&quot;btn&quot;&gt;Télécharger votre fiche de candidature&lt;/a&gt;&#10;                        &lt;/p&gt;&#10;                        &lt;p&gt;&#10;                            &lt;a href=&quot;' . site_url('candidature/initupdate/') . '&quot; class=&quot;btn&quot;&gt;Modifier vos informations&lt;/a&gt;&#10;                        &lt;/p&gt;&#10;                        &#10;                        &lt;p&gt;&lt;strong&gt;Pour toute modification ultérieure, veuillez utiliser les identifiants suivants :&lt;/strong&gt;&lt;/p&gt;&#10;                        &lt;ul&gt;&#10;                            &lt;li&gt;&lt;strong&gt;Numéro d\'ordre&lt;/strong&gt; : ' . $candidat_id . '&lt;/li&gt;&#10;                            &lt;li&gt;&lt;strong&gt;N° de téléphone&lt;/strong&gt; : ' . $this-&gt;input-&gt;post('telephone') . '&lt;/li&gt;&#10;                        &lt;/ul&gt;&#10;                    &lt;/div&gt;&#10;                    &#10;                    &lt;p&gt;Nous vous remercions de votre intérêt pour notre programme et restons à votre disposition pour toute information complémentaire.&lt;/p&gt;&#10;                    &#10;                    &lt;p&gt;Cordialement,&lt;br&gt;L\'équipe PSSFP&lt;/p&gt;&#10;                &lt;/div&gt;&#10;                &#10;                &lt;div class=&quot;footer&quot;&gt;&#10;                    &lt;p&gt;PSSFP: B.P: 16 578 Yaoundé – Cameroun&lt;br&gt;&#10;                    Tel.: + (237) 697 921 332&lt;br&gt;&#10;                    (237) 677 257 272&lt;br&gt;&#10;                    (237) 671 171 808&lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/body&gt;&#10;        &lt;/html&gt;';&#10;&#10;        $this-&gt;email-&gt;message($message);&#10;&#10;        // Try to send the email with enhanced error handling&#10;        try {&#10;            if ($this-&gt;email-&gt;send()) {&#10;                log_message('info', 'Confirmation email sent successfully to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . $candidat_id);&#10;&#10;                log_message('info', 'Confirmation email sent successfully to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . $candidat_id);&#10;                return true;&#10;            } else {&#10;                $error = $this-&gt;email-&gt;print_debugger();&#10;                log_message('error', 'Failed to send confirmation email to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . $candidat_id . '. Error: ' . $error);&#10;&#10;                // Log SMTP configuration for debugging&#10;                log_message('debug', 'SMTP Host: ' . $this-&gt;config-&gt;item('smtp_host', 'email'));&#10;                log_message('debug', 'SMTP Port: ' . $this-&gt;config-&gt;item('smtp_port', 'email'));&#10;                log_message('debug', 'SMTP User: ' . $this-&gt;config-&gt;item('smtp_user', 'email'));&#10;                log_message('debug', 'SMTP Protocol: ' . $this-&gt;config-&gt;item('protocol', 'email'));&#10;                //log_message('error', 'Failed to send confirmation email to: ' . $this-&gt;input-&gt;post('email') . ' for candidate ID: ' . $candidat_id . '. Error: ' . $error);&#10;&#10;                return false;&#10;            }&#10;        } catch (Exception $e) {&#10;            log_message('error', 'Exception when sending email: ' . $e-&gt;getMessage());&#10;            return false;&#10;        }&#10;    }&#10;&#10;    public function add() {&#10;        $this-&gt;load-&gt;library('form_validation');&#10;        $table = 'candidats';&#10;        $data = array();&#10;        $submitname = &quot;enregistrer&quot;;&#10;        $data['submitname'] = $submitname;&#10;        $data[&quot;specialites&quot;] = $this-&gt;model-&gt;list_all(&quot;specialite&quot;)-&gt;result();&#10;        $data[&quot;pays&quot;] = $this-&gt;model-&gt;list_all(&quot;pays&quot;)-&gt;result();&#10;        $data['action'] = site_url('candidature/add/');&#10;&#10;        // Log to help with debugging&#10;        //log_message('debug', 'Add method accessed. POST data present: ' . (empty($_POST) ? 'No' : 'Yes'));&#10;        //log_message(&quot;&quot;);&#10;        //log_message($submitname, $this-&gt;input-&gt;post($submitname));&#10;&#10;        // Check if form is submitted&#10;        if (empty($_POST) === false) {&#10;            log_message('debug', 'Form submitted with button: ' . $submitname);&#10;&#10;            // Set validation rules&#10;            $this-&gt;form_validation-&gt;set_rules('id_specialite', 'Spécialité', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('type_etude', 'Mode de formation', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('civilite', 'Civilité', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('nom', 'Nom', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('prenom', 'Prénom', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('date_naissance', 'Date de naissance', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('lieu_de_naissce', 'Lieu de naissance', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('nationalite', 'Nationalité', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('paysorigine', 'Pays d\'origine', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('statu_matrimonial', 'Statut matrimonial', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('adresse_candidat', 'Adresse complète', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('ville_residence', 'Ville de résidence', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('pays_residence', 'Pays de résidence', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('telephone', 'Téléphone WhatsApp', 'required|is_unique[candidats.telephone]|is_unique[candidats.telephone2]');&#10;            $this-&gt;form_validation-&gt;set_rules('telephone2', 'Téléphone secondaire', 'trim|differs[telephone]|is_unique[candidats.telephone]|is_unique[candidats.telephone2]');&#10;            $this-&gt;form_validation-&gt;set_rules('email', 'Email', 'required|valid_email|matches[emailverif]|is_unique[candidats.email]');&#10;            $this-&gt;form_validation-&gt;set_rules('emailverif', 'Confirmation Email', 'required');&#10;            $this-&gt;form_validation-&gt;set_rules('engagement', 'Engagement', 'required');&#10;&#10;            // Set custom error messages with clear and specific descriptions&#10;            $this-&gt;form_validation-&gt;set_message('required', 'Le champ %s est obligatoire.');&#10;            $this-&gt;form_validation-&gt;set_message('is_unique', 'Ce %s est déjà utilisé par un autre candidat. Veuillez en saisir un autre.');&#10;            $this-&gt;form_validation-&gt;set_message('matches', 'La confirmation de l\'adresse e-mail ne correspond pas à l\'adresse e-mail principale.');&#10;            $this-&gt;form_validation-&gt;set_message('differs', 'Le numéro de téléphone secondaire doit être différent du numéro principal.');&#10;            $this-&gt;form_validation-&gt;set_message('valid_email', 'Veuillez saisir une adresse e-mail valide.');&#10;&#10;            // Store form values for repopulation in case of validation failure&#10;            $this-&gt;form_data = new stdClass();&#10;            foreach ($this-&gt;input-&gt;post() as $key =&gt; $value) {&#10;                $this-&gt;form_data-&gt;$key = $value;&#10;            }&#10;&#10;            $fields = ['type_etude', 'id_specialite', 'civilite', 'nom', 'prenom', 'epouse', 'nombre_enfant',&#10;                      'date_naissance', 'lieu_de_naissce', 'nationalite', 'paysorigine',&#10;                      'region_dorigine', 'dept_dorigine', 'sexe', 'statu_matrimonial', 'langue', 'pays_residence',&#10;                      'adresse_candidat', 'ville_residence', 'telephone', 'telephone2', 'email',&#10;                      'dernier_diplome_intitule', 'dernier_diplome_specialite',&#10;                      'dernier_diplome_domaine', 'dernier_diplome_autre_domaine', 'dernier_diplome_etablissement',&#10;                      'dernier_diplome_pays', 'dernier_diplome_annee', 'dernier_diplome_niveau', 'dernier_diplome_mention',&#10;                      'statut_prof', 'autre_statut_prof', 'structure', 'adresse_structure', 'telephone_structure',&#10;                      'email_structure', 'poste_actuel', 'date_debut_poste', 'lien_finances_publiques',&#10;                      'explication_lien_partiel', 'total_annees_experience', 'howDidYouKnewUs', 'howDidYouKnewUs_autre', 'niveau_connaissance_fp', 'motivation_pssfp', 'utilite_formation', 'domaines_interet_fp'];&#10;&#10;            foreach ($fields as $field) {&#10;                if (!isset($this-&gt;form_data-&gt;$field)) {&#10;                    $this-&gt;form_data-&gt;$field = '';&#10;                }&#10;            }&#10;&#10;            // Run validation and log the result&#10;            $validation_result = $this-&gt;form_validation-&gt;run();&#10;&#10;            if ($validation_result === TRUE) {&#10;&#10;                // Only save data if validation passes&#10;                $candidat_data = array();&#10;                foreach ($fields as $field) {&#10;                    if ($this-&gt;input-&gt;post($field) !== NULL) {&#10;                        $candidat_data[$field] = $this-&gt;input-&gt;post($field);&#10;                    }&#10;                }&#10;&#10;                $candidat_data['date_naissance'] = $this-&gt;input-&gt;post('date_naissance');&#10;                $candidat_data['sexe'] = ($this-&gt;input-&gt;post('civilite') === &quot;Monsieur&quot;) ? &quot;Homme&quot; : &quot;Femme&quot;;&#10;                $candidat_data['accepter_condition'] = true;&#10;                $candidat_data['ordre_candidature'] = time();;&#10;                $candidat_data['date_enregistrement'] = date(&quot;Y-m-d H:i:s&quot;);&#10;                $candidat_data['id_pays'] = $this-&gt;input-&gt;post('pays_residence');&#10;                $candidat_data['a_depose'] = false;&#10;&#10;                // Create the new record&#10;                $candidat_id = $this-&gt;model-&gt;save($table, $candidat_data);&#10;&#10;                if ($candidat_id) {&#10;                    // Send confirmation email to the candidate&#10;                    //$email_sent = $this-&gt;send_confirmation_email($candidat_id, 'new');&#10;                    $email_sent = true;&#10;&#10;                    // Store info in session for the success page&#10;                    $this-&gt;session-&gt;set_flashdata('id', $candidat_id);&#10;                    $this-&gt;session-&gt;set_flashdata('numordre', $candidat_id);&#10;                    $this-&gt;session-&gt;set_flashdata('telephone', $this-&gt;input-&gt;post('telephone'));&#10;                    $this-&gt;session-&gt;set_flashdata('email', $this-&gt;input-&gt;post('email'));&#10;                    $this-&gt;session-&gt;set_flashdata('email_sent', $email_sent);&#10;&#10;                    // If email sending failed, get the error message&#10;                    if (!$email_sent) {&#10;                        $error = $this-&gt;email-&gt;print_debugger();&#10;                        $this-&gt;session-&gt;set_flashdata('email_error', $error);&#10;                        log_message('error', 'Email sending failed for candidate ID: ' . $candidat_id . '. Error: ' . $error);&#10;                    } else {&#10;                        log_message('info', 'Email successfully sent for candidate ID: ' . $candidat_id);&#10;                    }&#10;&#10;                    // Ensure the redirect URL is correct and properly formed&#10;                    $redirect_url = site_url('candidature/success');&#10;                    log_message('debug', 'Redirecting to success page: ' . $redirect_url);&#10;&#10;                    // Force a proper redirect with header&#10;                    header('Location: ' . $redirect_url);&#10;                    exit(); // Stop further execution to ensure the redirect takes place&#10;                } else {&#10;                    // Database insertion failed&#10;                    $data['error'] = 'Échec de l\'enregistrement de la candidature. Veuillez réessayer.';&#10;                    log_message('error', 'Failed to create candidate record in database');&#10;                    $this-&gt;template-&gt;layout('candidature', $data);&#10;                }&#10;            } else {&#10;                // Validation failed - log and display the form with errors&#10;                var_dump('debug', 'Form validation failed. Errors: ' . validation_errors());&#10;                $this-&gt;template-&gt;layout('candidature', $data);&#10;            }&#10;        } else {&#10;            // First time loading the form - reset form data&#10;            log_message('debug', 'Initial form load - resetting form data');&#10;            $this-&gt;reset_form_data();&#10;            $this-&gt;template-&gt;layout('candidature', $data);&#10;        }&#10;    }&#10;&#10;    public function success() {&#10;        // Add detailed logging about the session data for debugging&#10;        log_message('debug', 'Success page accessed. Session data: ' .&#10;            'numordre=' . $this-&gt;session-&gt;flashdata('numordre') . ', ' .&#10;            'email=' . $this-&gt;session-&gt;flashdata('email') . ', ' .&#10;            'email_sent=' . ($this-&gt;session-&gt;flashdata('email_sent') ? 'true' : 'false'));&#10;&#10;        $this-&gt;template-&gt;layout('success_page', array()); // Create a success view&#10;    }&#10;&#10;    public function viewnumordre(){&#10;        $data=array();&#10;        $this-&gt;template-&gt;layout('numOrdreCandidature', $data);&#10;    }&#10;&#10;    public function initupdate() {&#10;        $this-&gt;form_data = new stdclass;&#10;        $this-&gt;form_data-&gt;numordre = '';&#10;        $this-&gt;form_data-&gt;telephone = '';&#10;        $submitname = &quot;modifier&quot;;&#10;        $data['submitname'] = $submitname;&#10;        $data['action'] = site_url('candidature/verifinitupdate/');&#10;        $this-&gt;template-&gt;layout('firstformupdate', $data);&#10;    }&#10;&#10;    public function verifinitupdate() {&#10;        $table = 'candidats';&#10;        $submitname = &quot;modifier&quot;;&#10;        $data['submitname'] = $submitname;&#10;        $numordre = $this-&gt;input-&gt;post('numordre');&#10;        $phone = $this-&gt;input-&gt;post('telephone');&#10;        $candidature = $this-&gt;model-&gt;get_by_id($table, $numordre, 'ordre_candidature')-&gt;row();&#10;        if ($candidature == null || $candidature-&gt;telephone !== $phone) {&#10;            $this-&gt;form_data = new stdclass;&#10;            $this-&gt;form_data-&gt;numordre = $this-&gt;input-&gt;post('numordre');&#10;            $this-&gt;form_data-&gt;telephone = $this-&gt;input-&gt;post('telephone');&#10;            $data['action'] = site_url('candidature/verifinitupdate/');&#10;            $data['message'] = &quot;Vérifier vos informations&quot;;&#10;            $this-&gt;template-&gt;layout('firstformupdate', $data);&#10;        } else {&#10;            redirect('candidature/update/'.$numordre.&quot;/&quot;.$phone);&#10;        }&#10;    }&#10;&#10;    public function marquerdeposer($id_candidat) {&#10;        $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;        $candidat = array(&#10;            'a_depose' =&gt; true&#10;        );&#10;        $this-&gt;model-&gt;update(&quot;candidats&quot;, 'id', $id_candidat, $candidat);&#10;        redirect('liste');&#10;    }&#10;&#10;    public function update($numordre = 0, $phone = '') {&#10;        $table = 'candidats';&#10;        $submitname = &quot;modifier&quot;;&#10;        $data['submitname'] = $submitname;&#10;&#10;        // Get candidate data&#10;        $candidature = $this-&gt;model-&gt;get_by_id($table, $numordre, 'ordre_candidature')-&gt;row();&#10;        if (!$candidature) {&#10;            // No candidate found with this order number&#10;            $this-&gt;session-&gt;set_flashdata('error', 'Aucune candidature trouvée avec ce numéro d\'ordre.');&#10;            redirect('candidature/initupdate');&#10;            return;&#10;        }&#10;&#10;        $data[&quot;specialites&quot;] = $this-&gt;model-&gt;list_all(&quot;specialite&quot;)-&gt;result();&#10;        $data[&quot;pays&quot;] = $this-&gt;model-&gt;list_all(&quot;pays&quot;)-&gt;result();&#10;        $data['action'] = site_url('candidature/update/'.$numordre.&quot;/&quot;.$phone);&#10;&#10;        // Load all current data into form_data&#10;        $this-&gt;form_data = new stdclass;&#10;        $this-&gt;form_data-&gt;type_etude = $candidature-&gt;type_etude;&#10;        $this-&gt;form_data-&gt;specialite = $candidature-&gt;id_specialite;&#10;        $this-&gt;form_data-&gt;civilite = $candidature-&gt;civilite;&#10;        $this-&gt;form_data-&gt;nom = $candidature-&gt;nom;&#10;        $this-&gt;form_data-&gt;prenom = $candidature-&gt;prenom;&#10;        $this-&gt;form_data-&gt;epouse = $candidature-&gt;epouse;&#10;        $this-&gt;form_data-&gt;nombre_enfant = $candidature-&gt;nombre_enfant;&#10;        $this-&gt;form_data-&gt;date_naissance = $candidature-&gt;date_naissance; // Use the date directly&#10;        $this-&gt;form_data-&gt;lieu_de_naissce = $candidature-&gt;lieu_de_naissce;&#10;        $this-&gt;form_data-&gt;nationalite = $candidature-&gt;nationalite;&#10;        $this-&gt;form_data-&gt;paysorigine = $candidature-&gt;paysorigine;&#10;        $this-&gt;form_data-&gt;region_dorigine = $candidature-&gt;region_dorigine;&#10;        $this-&gt;form_data-&gt;dept_dorigine = $candidature-&gt;dept_dorigine;&#10;        $this-&gt;form_data-&gt;sexe = $candidature-&gt;sexe;&#10;        $this-&gt;form_data-&gt;statu_matrimonial = $candidature-&gt;statu_matrimonial;&#10;        $this-&gt;form_data-&gt;langue = $candidature-&gt;langue;&#10;        $this-&gt;form_data-&gt;pays_residence = $candidature-&gt;id_pays;&#10;        $this-&gt;form_data-&gt;adresse_candidat = $candidature-&gt;adresse_candidat;&#10;        $this-&gt;form_data-&gt;ville_residence = $candidature-&gt;ville_residence;&#10;        $this-&gt;form_data-&gt;telephone = $candidature-&gt;telephone;&#10;        $this-&gt;form_data-&gt;telephone2 = $candidature-&gt;telephone2;&#10;        $this-&gt;form_data-&gt;email = $candidature-&gt;email;&#10;        $this-&gt;form_data-&gt;emailverif = $candidature-&gt;email;&#10;        $this-&gt;form_data-&gt;dernier_diplome_intitule = $candidature-&gt;dernier_diplome_intitule;&#10;        $this-&gt;form_data-&gt;dernier_diplome_specialite = $candidature-&gt;dernier_diplome_specialite;&#10;        $this-&gt;form_data-&gt;dernier_diplome_domaine = $candidature-&gt;dernier_diplome_domaine;&#10;        $this-&gt;form_data-&gt;dernier_diplome_autre_domaine = $candidature-&gt;dernier_diplome_autre_domaine;&#10;        $this-&gt;form_data-&gt;dernier_diplome_etablissement = $candidature-&gt;dernier_diplome_etablissement;&#10;        $this-&gt;form_data-&gt;dernier_diplome_pays = $candidature-&gt;dernier_diplome_pays;&#10;        $this-&gt;form_data-&gt;dernier_diplome_annee = $candidature-&gt;dernier_diplome_annee;&#10;        $this-&gt;form_data-&gt;dernier_diplome_niveau = $candidature-&gt;dernier_diplome_niveau;&#10;        $this-&gt;form_data-&gt;dernier_diplome_mention = $candidature-&gt;dernier_diplome_mention;&#10;        $this-&gt;form_data-&gt;statut_prof = $candidature-&gt;statut_prof;&#10;        $this-&gt;form_data-&gt;autre_statut_prof = $candidature-&gt;autre_statut_prof;&#10;        $this-&gt;form_data-&gt;structure = $candidature-&gt;structure;&#10;        $this-&gt;form_data-&gt;adresse_structure = $candidature-&gt;adresse_structure;&#10;        $this-&gt;form_data-&gt;telephone_structure = $candidature-&gt;telephone_structure;&#10;        $this-&gt;form_data-&gt;email_structure = $candidature-&gt;email_structure;&#10;        $this-&gt;form_data-&gt;poste_actuel = $candidature-&gt;poste_actuel;&#10;        $this-&gt;form_data-&gt;date_debut_poste = $candidature-&gt;date_debut_poste;&#10;        $this-&gt;form_data-&gt;lien_finances_publiques = $candidature-&gt;lien_finances_publiques;&#10;        $this-&gt;form_data-&gt;explication_lien_partiel = $candidature-&gt;explication_lien_partiel;&#10;        $this-&gt;form_data-&gt;total_annees_experience = $candidature-&gt;total_annees_experience;&#10;        $this-&gt;form_data-&gt;howDidYouKnewUs = $candidature-&gt;howDidYouKnewUs;&#10;        $this-&gt;form_data-&gt;howDidYouKnewUs_autre = $candidature-&gt;howDidYouKnewUs_autre;&#10;        //$this-&gt;form_data-&gt;accepter_condition              Pas besoin d'enregistrer cette variable&#10;&#10;        if (isset($_POST[$submitname])) {&#10;            // Validation rules for update - exclude current record from uniqueness check&#10;            $this-&gt;form_validation-&gt;set_rules('telephone', 'Numéro de téléphone principal', 'trim|required|is_unique[candidats.telephone.id.' . $candidature-&gt;id . ']|is_unique[candidats.telephone2.id.' . $candidature-&gt;id . ']');&#10;            $this-&gt;form_validation-&gt;set_rules('telephone2', 'Numéro de téléphone secondaire', 'trim|is_unique[candidats.telephone2.id.' . $candidature-&gt;id . ']|is_unique[candidats.telephone.id.' . $candidature-&gt;id . ']|differs[telephone]');&#10;            $this-&gt;form_validation-&gt;set_rules('email', 'Adresse e-mail', 'trim|required|valid_email|is_unique[candidats.email.id.' . $candidature-&gt;id . ']');&#10;            $this-&gt;form_validation-&gt;set_rules('emailverif', 'Confirmation de l\'adresse e-mail', 'trim|required|valid_email|matches[email]');&#10;            $this-&gt;form_validation-&gt;set_rules('date_naissance', 'Date de naissance', 'required');&#10;&#10;            // Set custom error messages with clear and specific descriptions&#10;            $this-&gt;form_validation-&gt;set_message('required', 'Le champ %s est obligatoire.');&#10;            $this-&gt;form_validation-&gt;set_message('is_unique', 'Ce %s est déjà utilisé par un autre candidat. Veuillez en saisir un autre.');&#10;            $this-&gt;form_validation-&gt;set_message('matches', 'La confirmation de l\'adresse e-mail ne correspond pas à l\'adresse e-mail principale.');&#10;            $this-&gt;form_validation-&gt;set_message('differs', 'Le numéro de téléphone secondaire doit être différent du numéro principal.');&#10;            $this-&gt;form_validation-&gt;set_message('valid_email', 'Veuillez saisir une adresse e-mail valide.');&#10;&#10;            // Store form values for repopulation in case of validation failure&#10;            foreach ($this-&gt;input-&gt;post() as $key =&gt; $value) {&#10;                $this-&gt;form_data-&gt;$key = $value;&#10;            }&#10;&#10;            if ($this-&gt;form_validation-&gt;run() == TRUE) {&#10;                // Build update data array with all fields&#10;                $candidat = array(&#10;                    'civilite' =&gt; $this-&gt;input-&gt;post('civilite'),&#10;                    'type_etude' =&gt; $this-&gt;input-&gt;post('type_etude'),&#10;                    'nom' =&gt; $this-&gt;input-&gt;post('nom'),&#10;                    'prenom' =&gt; $this-&gt;input-&gt;post('prenom'),&#10;                    'epouse' =&gt; $this-&gt;input-&gt;post('epouse'),&#10;                    'nombre_enfant' =&gt; $this-&gt;input-&gt;post('nombre_enfant'),&#10;                    'date_naissance' =&gt; $this-&gt;input-&gt;post('date_naissance'),&#10;                    'lieu_de_naissce' =&gt; $this-&gt;input-&gt;post('lieu_de_naissce'),&#10;                    'nationalite' =&gt; $this-&gt;input-&gt;post('nationalite'),&#10;                    'paysorigine' =&gt; $this-&gt;input-&gt;post('paysorigine'),&#10;                    'region_dorigine' =&gt; $this-&gt;input-&gt;post('region_dorigine'),&#10;                    'dept_dorigine' =&gt; $this-&gt;input-&gt;post('dept_dorigine'),&#10;                    'statu_matrimonial' =&gt; $this-&gt;input-&gt;post('statu_matrimonial'),&#10;                    'adresse_candidat' =&gt; $this-&gt;input-&gt;post('adresse_candidat'),&#10;                    'telephone' =&gt; $this-&gt;input-&gt;post('telephone'),&#10;                    'telephone2' =&gt; $this-&gt;input-&gt;post('telephone2'),&#10;                    'email' =&gt; $this-&gt;input-&gt;post('email'),&#10;                    'ville_residence' =&gt; $this-&gt;input-&gt;post('ville_residence'),&#10;                    'dernier_diplome_intitule' =&gt; $this-&gt;input-&gt;post('dernier_diplome_intitule'),&#10;                    'dernier_diplome_specialite' =&gt; $this-&gt;input-&gt;post('dernier_diplome_specialite'),&#10;                    'dernier_diplome_domaine' =&gt; $this-&gt;input-&gt;post('dernier_diplome_domaine'),&#10;                    'dernier_diplome_autre_domaine' =&gt; $this-&gt;input-&gt;post('dernier_diplome_autre_domaine'),&#10;                    'dernier_diplome_etablissement' =&gt; $this-&gt;input-&gt;post('dernier_diplome_etablissement'),&#10;                    'dernier_diplome_pays' =&gt; $this-&gt;input-&gt;post('dernier_diplome_pays'),&#10;                    'dernier_diplome_annee' =&gt; $this-&gt;input-&gt;post('dernier_diplome_annee'),&#10;                    'dernier_diplome_niveau' =&gt; $this-&gt;input-&gt;post('dernier_diplome_niveau'),&#10;                    'dernier_diplome_mention' =&gt; $this-&gt;input-&gt;post('dernier_diplome_mention'),&#10;                    'statut_prof' =&gt; $this-&gt;input-&gt;post('statut_prof'),&#10;                    'autre_statut_prof' =&gt; $this-&gt;input-&gt;post('autre_statut_prof'),&#10;                    'structure' =&gt; $this-&gt;input-&gt;post('structure'),&#10;                    'adresse_structure' =&gt; $this-&gt;input-&gt;post('adresse_structure'),&#10;                    'email_structure' =&gt; $this-&gt;input-&gt;post('email_structure'),&#10;                    'telephone_structure' =&gt; $this-&gt;input-&gt;post('telephone_structure'),&#10;                    'poste_actuel' =&gt; $this-&gt;input-&gt;post('poste_actuel'),&#10;                    'date_debut_poste' =&gt; $this-&gt;input-&gt;post('date_debut_poste'),&#10;                    'lien_finances_publiques' =&gt; $this-&gt;input-&gt;post('lien_finances_publiques'),&#10;                    'explication_lien_partiel' =&gt; $this-&gt;input-&gt;post('explication_lien_partiel'),&#10;                    'total_annees_experience' =&gt; $this-&gt;input-&gt;post('total_annees_experience'),&#10;                    'howDidYouKnewUs' =&gt; $this-&gt;input-&gt;post('howDidYouKnewUs'),&#10;                    'howDidYouKnewUs_autre' =&gt; $this-&gt;input-&gt;post('howDidYouKnewUs_autre'),&#10;                    'langue' =&gt; $this-&gt;input-&gt;post('langue'),&#10;                    'id_specialite' =&gt; $this-&gt;input-&gt;post('pays_residence'),&#10;                    'id_pays' =&gt; $this-&gt;input-&gt;post('pays_residence'),&#10;                    'pays_residence' =&gt; $this-&gt;model-&gt;get_by_id(&quot;pays&quot;, $this-&gt;input-&gt;post('pays_residence'), &quot;id&quot;)-&gt;row()-&gt;nom,&#10;                    'date_enregistrement' =&gt; date(&quot;Y-m-d H:i:s&quot;),&#10;                    'sexe' =&gt; ($this-&gt;input-&gt;post('civilite') === &quot;Monsieur&quot;) ? &quot;Homme&quot; : &quot;Femme&quot;,&#10;                    'accepter_condition' =&gt; true&#10;                );&#10;&#10;                // Update the record&#10;                $update_result = $this-&gt;model-&gt;update($table, 'id', $candidature-&gt;id, $candidat);&#10;&#10;                if ($update_result) {&#10;                    // Send confirmation email to the candidate&#10;                    $email_sent = $this-&gt;send_confirmation_email($candidature, 'update');&#10;&#10;                    $this-&gt;session-&gt;set_flashdata('succes', 'Modification de la Candidature enregistrée avec succès, votre numéro d\'ordre a été envoyé à votre adresse mail!');&#10;                    $this-&gt;session-&gt;set_flashdata('id', $candidature-&gt;ordre_candidature);&#10;                    $this-&gt;session-&gt;set_flashdata('numordre', $candidature-&gt;ordre_candidature);&#10;                    $this-&gt;session-&gt;set_flashdata('telephone', $this-&gt;input-&gt;post('telephone'));&#10;                    $this-&gt;session-&gt;set_flashdata('email', $this-&gt;input-&gt;post('email'));&#10;                    $this-&gt;session-&gt;set_flashdata('email_sent', $email_sent);&#10;&#10;                    // If email sending failed, get the error message&#10;                    if (!$email_sent) {&#10;                        $error = $this-&gt;email-&gt;print_debugger();&#10;                        $this-&gt;session-&gt;set_flashdata('email_error', $error);&#10;                        log_message('error', 'Email sending failed for update of candidate ID: ' . $candidature-&gt;id . '. Error: ' . $error);&#10;                    } else {&#10;                        log_message('info', 'Email successfully sent for update of candidate ID: ' . $candidature-&gt;id);&#10;                    }&#10;&#10;                    // Redirect to prevent form resubmission&#10;                    redirect('candidature/viewnumordre');&#10;                } else {&#10;                    // Database update failed&#10;                    $data['message'] = 'Échec de la mise à jour de la candidature. Veuillez réessayer.';&#10;                    $this-&gt;template-&gt;layout('candidature', $data);&#10;                }&#10;            } else {&#10;                // Validation failed&#10;                $data['message'] = 'Des erreurs ont été rencontrées lors de l\'enregistrement de votre fiche&lt;br/&gt; verifier vos informations et corriger les problèmes signalés';&#10;                $this-&gt;template-&gt;layout('candidature', $data);&#10;            }&#10;        } else {&#10;            // Initial page load - just display the form&#10;            $this-&gt;template-&gt;layout('candidature', $data);&#10;        }&#10;    }&#10;&#10;    public function initRecupOrdre(){&#10;        $data=array();&#10;        $this-&gt;template-&gt;layout('formEmailForNumOrdre', array());&#10;    }&#10;&#10;    /**&#10;     * Reset form data by initializing all properties to empty values&#10;     */&#10;    private function reset_form_data() {&#10;        // Initialize form_data object if it doesn't exist&#10;        if (!isset($this-&gt;form_data)) {&#10;            $this-&gt;form_data = new stdClass();&#10;        }&#10;&#10;        // Reset all form fields to empty values&#10;        $this-&gt;form_data-&gt;specialite = '';&#10;        $this-&gt;form_data-&gt;type_etude = '';&#10;        $this-&gt;form_data-&gt;civilite = '';&#10;        $this-&gt;form_data-&gt;nom = '';&#10;        $this-&gt;form_data-&gt;prenom = '';&#10;        $this-&gt;form_data-&gt;epouse = '';&#10;        $this-&gt;form_data-&gt;nombre_enfant = '';&#10;        $this-&gt;form_data-&gt;datenaiss_jj = '';&#10;        $this-&gt;form_data-&gt;datenaiss_mm = '';&#10;        $this-&gt;form_data-&gt;datenaiss_yy = '';&#10;        $this-&gt;form_data-&gt;lieu_de_naissce = '';&#10;        $this-&gt;form_data-&gt;nationalite = '';&#10;        $this-&gt;form_data-&gt;paysorigine = '';&#10;        $this-&gt;form_data-&gt;region_dorigine = '';&#10;        $this-&gt;form_data-&gt;dept_dorigine = '';&#10;        $this-&gt;form_data-&gt;sexe = '';&#10;        $this-&gt;form_data-&gt;statu_matrimonial = '';&#10;        $this-&gt;form_data-&gt;langue = '';&#10;        $this-&gt;form_data-&gt;pays_residence = '';&#10;        $this-&gt;form_data-&gt;adresse_candidat = '';&#10;        $this-&gt;form_data-&gt;ville_residence = '';&#10;        $this-&gt;form_data-&gt;telephone = '';&#10;        $this-&gt;form_data-&gt;telephone2 = '';&#10;        $this-&gt;form_data-&gt;email = '';&#10;        $this-&gt;form_data-&gt;emailverif = '';&#10;        $this-&gt;form_data-&gt;nombre_annee_etude_sup = '';&#10;        $this-&gt;form_data-&gt;dernier_diplome = '';&#10;        $this-&gt;form_data-&gt;specialite_requise = '';&#10;        $this-&gt;form_data-&gt;diplome_requis = '';&#10;        $this-&gt;form_data-&gt;diplome_obtenu_a = '';&#10;        $this-&gt;form_data-&gt;annee_optention_diplome = '';&#10;        $this-&gt;form_data-&gt;statut_prof = '';&#10;        $this-&gt;form_data-&gt;structure = '';&#10;        $this-&gt;form_data-&gt;adresse_structure = '';&#10;        $this-&gt;form_data-&gt;telephone_structure = '';&#10;        $this-&gt;form_data-&gt;email_structure = '';&#10;        $this-&gt;form_data-&gt;howDidYouKnewUs = '';&#10;    }&#10;&#10;    public function get_all_regions() {&#10;        return $this-&gt;db-&gt;get('regions')-&gt;result();&#10;    }&#10;&#10;    public function get_departements() {&#10;        $region_id = $this-&gt;input-&gt;post('region_id');&#10;&#10;        if (!$region_id) {&#10;            echo '&lt;option value=&quot;&quot;&gt;Aucune région reçue&lt;/option&gt;';&#10;            return;&#10;        }&#10;&#10;        $query = $this-&gt;db-&gt;get_where('departements', ['region_id' =&gt; $region_id]);&#10;        $departements = $query-&gt;result();&#10;&#10;        if (empty($departements)) {&#10;            echo '&lt;option value=&quot;&quot;&gt;Aucun département trouvé&lt;/option&gt;';&#10;        } else {&#10;            echo '&lt;option value=&quot;&quot;&gt;--Sélectionner un département--&lt;/option&gt;';&#10;            foreach ($departements as $dept) {&#10;                echo '&lt;option value=&quot;' . $dept-&gt;nom . '&quot;&gt;' . $dept-&gt;nom . '&lt;/option&gt;';&#10;            }&#10;        }&#10;    }&#10;&#10;    public function get_departements_by_region($region_id) {&#10;        header('Content-Type: application/json');&#10;        if (is_array($region_id)) {&#10;            $region_id = $region_id[0];&#10;        }&#10;        $departements = $this-&gt;region_model-&gt;get_departements_by_region($region_id);&#10;        echo json_encode($departements);&#10;    }&#10;&#10;    public function get_departements_json($region_id) {&#10;        $departements = $this-&gt;region_model-&gt;get_departements_by_region($region_id);&#10;        header('Content-Type: application/json');&#10;        echo json_encode($departements);&#10;    }&#10;&#10;    function _remap($method)&#10;    {&#10;        $param_offset = 2;&#10;        $params = func_get_args();&#10;        array_shift($params);&#10;        if (method_exists($this, $method))&#10;        {&#10;            // Call the method with the remaining parameters&#10;            return call_user_func_array(array($this, $method), $params);&#10;        }&#10;        else&#10;        {&#10;            // Method doesn't exist, show 404&#10;            show_404();&#10;        }&#10;    }&#10;}&#10;&#10;/* End of file welcome.php */&#10;/* Location: ./application/controllers/welcome.php */" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/application/controllers/impression.php">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/application/controllers/impression.php" />
              <option name="originalContent" value="&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');&#10;&#10;&#10;use Dompdf\Options;&#10;use Dompdf\Dompdf;&#10;class Impression extends MY_Controller {&#10;&#10;&#9;/**&#10;&#9; * Index Page for this controller.&#10;&#9; *&#10;&#9; * Maps to the following URL&#10;&#9; * &#9;&#9;http://example.com/index.php/welcome&#10;&#9; *&#9;- or -  &#10;&#9; * &#9;&#9;http://example.com/index.php/welcome/index&#10;&#9; *&#9;- or -&#10;&#9; * Since this controller is set as the default controller in &#10;&#9; * config/routes.php, it's displayed at http://example.com/&#10;&#9; *&#10;&#9; * So any other public methods not prefixed with an underscore will&#10;&#9; * map to /index.php/welcome/&lt;method_name&gt;&#10;&#9; * @see http://codeigniter.com/user_guide/general/urls.html&#10;&#9; */&#10;&#10;&#9;// Declare properties to avoid dynamic property creation warnings&#10;&#9;public $impression_model;&#10;&#9;public $pdf;&#10;&#10;&#9;public function index()&#10;&#9;{&#10;            //&#9;$this-&gt;load-&gt;view('welcome_message');&#10;            $data = array();&#10;            $this-&gt;template-&gt;layout('candidature', $data);&#10;&#9;}&#10;&#10;&#10;&#10;    public function imprimer_fiche($id_candidat)&#10;    {&#10;&#10;        // Charger le modèle&#10;        $this-&gt;load-&gt;model('impression_model', '', true);&#10;&#10;        // Préparer les données&#10;        $data['candidat'] = $this-&gt;impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#10;        // Charger la vue HTML dans une variable&#10;        $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#10;        // Configurer les options de Dompdf&#10;        $options = new Options();&#10;        $options-&gt;set('isHtml5ParserEnabled', true);&#10;        $options-&gt;set('isRemoteEnabled', true); // Pour autoriser les images externes&#10;        // Créer l'instance Dompdf&#10;        $dompdf = new Dompdf($options);&#10;&#10;        // Charger le HTML&#10;        $dompdf-&gt;loadHtml($html);&#10;&#10;        // Configuration de la page (portrait ou landscape)&#10;        $dompdf-&gt;setPaper('A4', 'portrait');&#10;&#10;        // Générer le PDF&#10;        $dompdf-&gt;render();&#10;&#10;        // Envoyer le PDF au navigateur&#10;        $dompdf-&gt;stream(&quot;Fiche_de_candidature_N0_&quot; . $id_candidat, array(&quot;Attachment&quot; =&gt; false));&#10;    }&#10;&#10;&#10;    function imprimer_fiche_old($id_candidat){&#10;&#9;&#10;&#9; $this-&gt;load-&gt;helper(array('dompdf', 'file'));&#10;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;     // page info here, db calls, etc. &#10;&#9; &#10;&#9; $data['candidat'] = $this-&gt;Impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#10;     $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;     pdf_create($html, 'fiche_candidature');&#10;&#9;&#10;&#9;}&#10;&#9;&#10;&#9;function impri($id_candidat){&#10;&#9;&#9; $data = array();&#10;&#9;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; $this-&gt;load-&gt;library('pdf');&#10;&#9;&#9; $dompdf = new Dompdf\Dompdf();&#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; // Set Font Style&#10;&#9;&#9; //$dompdf-&gt;set_option('defaultFont', 'Courier');&#10;&#9;&#9; $html = '&lt;center&gt;&lt;strong&gt;&lt;h2&gt; COMMUNIQUE &lt;/h2&gt;&lt;/strong&gt;&lt;/center&gt;';&#10;&#9;&#9; $data['candidat'] = $this-&gt;impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#9;&#9; //$html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#9;&#9; &#10;&#9;&#9; //echo $html;exit;&#10;&#9;&#9; &#10;&#9;&#9; $dompdf-&gt;load_html($html);&#10;&#9;&#9; // To Setup the paper size and orientatio//$dompdf-&gt;setPaper('A4', 'landscape');n&#10;&#9;&#9; //$dompdf-&gt;setPaper('A4', 'landscape');&#10;&#9;&#9; // Render the HTML as PDF&#10;&#9;&#9; $dompdf-&gt;render();&#10;&#9;&#9; &#10;&#9;&#9; // Get the generated PDF file contents&#10;&#9;&#9; $pdf = $dompdf-&gt;output();&#10;&#9;&#9; &#10;&#9;&#9; // Output the generated PDF to Browser&#10;&#9;&#9; $dompdf-&gt;stream(&quot;fiche_candidature&quot;);&#10;&#9;&#9; &#10;&#9;}&#9;&#10;&#9;&#10;&#9;function imprimer_liste($specialite=null){&#10;&#9;&#10;&#9;&#9; $this-&gt;load-&gt;helper(array('dompdf', 'file'));&#10;&#9;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;&#9;&#9; // page info here, db calls, etc. &#10;&#9;&#9; &#10;&#9;&#9;$data['candidats'] = $this-&gt;Impression_model-&gt;get_liste($specialite)-&gt;result();&#10;&#9;&#9;&#10;&#9;&#9;switch ($specialite) {&#10;&#9;&#9;  case 1:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Comptabilité Publique';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;  case 2:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Gestion Budgétaire';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;  case 3:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Finances Publiques Locales';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;default:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits';&#10;&#9;&#9;}&#10;&#9;&#9;&#10;&#9;&#9;if($specialite==null){&#10;&#9;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/liste_candidats_all', $data, true);&#10;&#9;&#9;}else{&#10;&#9;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/liste_candidats', $data, true);&#10;&#9;&#9;}&#10;&#9;&#9;&#10;&#9;&#9; pdf_create($html, 'liste_candidats');&#10;&#9;&#10;&#9;}&#10;}&#10;&#10;/* End of file welcome.php */&#10;/* Location: ./application/controllers/welcome.php */" />
              <option name="updatedContent" value="&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');&#10;&#10;&#10;use Dompdf\Options;&#10;use Dompdf\Dompdf;&#10;class Impression extends MY_Controller {&#10;&#10;&#9;/**&#10;&#9; * Index Page for this controller.&#10;&#9; *&#10;&#9; * Maps to the following URL&#10;&#9; * &#9;&#9;http://example.com/index.php/welcome&#10;&#9; *&#9;- or -  &#10;&#9; * &#9;&#9;http://example.com/index.php/welcome/index&#10;&#9; *&#9;- or -&#10;&#9; * Since this controller is set as the default controller in &#10;&#9; * config/routes.php, it's displayed at http://example.com/&#10;&#9; *&#10;&#9; * So any other public methods not prefixed with an underscore will&#10;&#9; * map to /index.php/welcome/&lt;method_name&gt;&#10;&#9; * @see http://codeigniter.com/user_guide/general/urls.html&#10;&#9; */&#10;&#10;&#9;// Declare properties to avoid dynamic property creation warnings&#10;&#9;public $impression_model;&#10;&#9;public $pdf;&#10;&#10;&#9;public function index()&#10;&#9;{&#10;            //&#9;$this-&gt;load-&gt;view('welcome_message');&#10;            $data = array();&#10;            $this-&gt;template-&gt;layout('candidature', $data);&#10;&#9;}&#10;&#10;&#10;&#10;    public function imprimer_fiche($id_candidat)&#10;    {&#10;&#10;        // Charger le modèle&#10;        $this-&gt;load-&gt;model('impression_model', '', true);&#10;&#10;        // Préparer les données&#10;        $data['candidat'] = $this-&gt;impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#10;        // Charger la vue HTML dans une variable&#10;        $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#10;        // Configurer les options de Dompdf&#10;        $options = new Options();&#10;        $options-&gt;set('isHtml5ParserEnabled', true);&#10;        $options-&gt;set('isRemoteEnabled', true); // Pour autoriser les images externes&#10;        $options-&gt;set('tempDir', APPPATH . 'cache/');&#10;&#10;        // Créer l'instance Dompdf&#10;        $dompdf = new Dompdf($options);&#10;&#10;        // Charger le HTML&#10;        $dompdf-&gt;loadHtml($html);&#10;&#10;        // Configuration de la page (portrait ou landscape)&#10;        $dompdf-&gt;setPaper('A4', 'portrait');&#10;&#10;        // Générer le PDF&#10;        $dompdf-&gt;render();&#10;&#10;        // Envoyer le PDF au navigateur&#10;        $dompdf-&gt;stream(&quot;Fiche_de_candidature_N0_&quot; . $id_candidat, array(&quot;Attachment&quot; =&gt; false));&#10;    }&#10;&#10;&#10;    function imprimer_fiche_old($id_candidat){&#10;&#9;&#10;&#9; $this-&gt;load-&gt;helper(array('dompdf', 'file'));&#10;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;     // page info here, db calls, etc. &#10;&#9; &#10;&#9; $data['candidat'] = $this-&gt;Impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#10;     $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;     pdf_create($html, 'fiche_candidature');&#10;&#9;&#10;&#9;}&#10;&#9;&#10;&#9;function impri($id_candidat){&#10;&#9;&#9; $data = array();&#10;&#9;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; $this-&gt;load-&gt;library('pdf');&#10;&#9;&#9; $dompdf = new Dompdf\Dompdf();&#10;&#9;&#9; &#10;&#9;&#9; &#10;&#9;&#9; // Set Font Style&#10;&#9;&#9; //$dompdf-&gt;set_option('defaultFont', 'Courier');&#10;&#9;&#9; $html = '&lt;center&gt;&lt;strong&gt;&lt;h2&gt; COMMUNIQUE &lt;/h2&gt;&lt;/strong&gt;&lt;/center&gt;';&#10;&#9;&#9; $data['candidat'] = $this-&gt;impression_model-&gt;get_fiche($id_candidat)-&gt;row();&#10;&#9;&#9; //$html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/fiche_candidature', $data, true);&#10;&#9;&#9; &#10;&#9;&#9; //echo $html;exit;&#10;&#9;&#9; &#10;&#9;&#9; $dompdf-&gt;load_html($html);&#10;&#9;&#9; // To Setup the paper size and orientatio//$dompdf-&gt;setPaper('A4', 'landscape');n&#10;&#9;&#9; //$dompdf-&gt;setPaper('A4', 'landscape');&#10;&#9;&#9; // Render the HTML as PDF&#10;&#9;&#9; $dompdf-&gt;render();&#10;&#9;&#9; &#10;&#9;&#9; // Get the generated PDF file contents&#10;&#9;&#9; $pdf = $dompdf-&gt;output();&#10;&#9;&#9; &#10;&#9;&#9; // Output the generated PDF to Browser&#10;&#9;&#9; $dompdf-&gt;stream(&quot;fiche_candidature&quot;);&#10;&#9;&#9; &#10;&#9;}&#9;&#10;&#9;&#10;&#9;function imprimer_liste($specialite=null){&#10;&#9;&#10;&#9;&#9; $this-&gt;load-&gt;helper(array('dompdf', 'file'));&#10;&#9;&#9; $this-&gt;load-&gt;model('impression_model', '', TRUE);&#10;&#9;&#9; // page info here, db calls, etc. &#10;&#9;&#9; &#10;&#9;&#9;$data['candidats'] = $this-&gt;Impression_model-&gt;get_liste($specialite)-&gt;result();&#10;&#9;&#9;&#10;&#9;&#9;switch ($specialite) {&#10;&#9;&#9;  case 1:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Comptabilité Publique';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;  case 2:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Gestion Budgétaire';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;  case 3:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits : Finances Publiques Locales';&#10;&#9;&#9;&#9;break;&#10;&#9;&#9;default:&#10;&#9;&#9;&#9;&#9;$data['titre'] = ' Liste des candidats preinscrits';&#10;&#9;&#9;}&#10;&#9;&#9;&#10;&#9;&#9;if($specialite==null){&#10;&#9;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/liste_candidats_all', $data, true);&#10;&#9;&#9;}else{&#10;&#9;&#9;&#9; $html = $this-&gt;load-&gt;view('impression/liste_candidats', $data, true);&#10;&#9;&#9;}&#10;&#9;&#9;&#10;&#9;&#9; pdf_create($html, 'liste_candidats');&#10;&#9;&#10;&#9;}&#10;}&#10;&#10;/* End of file welcome.php */&#10;/* Location: ./application/controllers/welcome.php */" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/application/core/MY_Loader.php">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/application/core/MY_Loader.php" />
              <option name="originalContent" value="&lt;?php&#10;defined('BASEPATH') OR exit('No direct script access allowed');&#10;&#10;/**&#10; * MY_Loader Class&#10; *&#10; * Extends the CI_Loader class to pre-declare properties to avoid PHP 8.1 deprecation warnings&#10; */&#10;class MY_Loader extends CI_Loader {&#10;&#10;    // Pre-declare all properties that would normally be created dynamically&#10;    public $load;&#10;    public $benchmark;&#10;    public $hooks;&#10;    public $config;&#10;    public $log;&#10;    public $utf8;&#10;    public $uri;&#10;    public $exceptions;&#10;    public $router;&#10;    public $output;&#10;    public $security;&#10;    public $input;&#10;    public $lang;&#10;    public $db;&#10;    public $db_driver;&#10;    public $email;&#10;    public $session;&#10;    public $encrypt;&#10;    public $form_validation;&#10;    public $form_data;&#10;    public $table;&#10;    public $ftp;&#10;    public $upload;&#10;    public $cart;&#10;    public $calendar;&#10;    public $image_lib;&#10;    public $template;&#10;    public $pagination;&#10;    public $parser;&#10;    public $zip;&#10;    public $user_agent;&#10;    public $xmlrpc;&#10;    public $xmlrpcs;&#10;    public $trackback;&#10;    public $unit;&#10;    public $javascript;&#10;    public $jquery;&#10;    public $model;&#10;    public $Impression_model;&#10;    public $impression_model; // Add lowercase version&#10;    public $pdf; // Add pdf property&#10;    /**&#10;     * Constructor&#10;     *&#10;     * Just calls parent constructor&#10;     */&#10;    public function __construct() {&#10;        parent::__construct();&#10;    }&#10;}" />
              <option name="updatedContent" value="&lt;?php&#10;defined('BASEPATH') OR exit('No direct script access allowed');&#10;&#10;/**&#10; * MY_Loader Class&#10; *&#10; * Extends the CI_Loader class to pre-declare properties to avoid PHP 8.1 deprecation warnings&#10; */&#10;class MY_Loader extends CI_Loader {&#10;&#10;    // Pre-declare all properties that would normally be created dynamically&#10;    public $load;&#10;    public $benchmark;&#10;    public $hooks;&#10;    public $config;&#10;    public $log;&#10;    public $utf8;&#10;    public $uri;&#10;    public $exceptions;&#10;    public $router;&#10;    public $output;&#10;    public $security;&#10;    public $input;&#10;    public $lang;&#10;    public $db;&#10;    public $db_driver;&#10;    public $email;&#10;    public $session;&#10;    public $encrypt;&#10;    public $form_validation;&#10;    public $form_data;&#10;    public $table;&#10;    public $ftp;&#10;    public $upload;&#10;    public $cart;&#10;    public $calendar;&#10;    public $image_lib;&#10;    public $template;&#10;    public $pagination;&#10;    public $parser;&#10;    public $zip;&#10;    public $user_agent;&#10;    public $xmlrpc;&#10;    public $xmlrpcs;&#10;    public $trackback;&#10;    public $unit;&#10;    public $javascript;&#10;    public $jquery;&#10;    public $model;&#10;    public $Impression_model;&#10;    public $impression_model; // Add lowercase version&#10;    public $pdf; // Add pdf property&#10;    public $region_model; // Add region_model property&#10;&#10;    /**&#10;     * Constructor&#10;     *&#10;     * Just calls parent constructor&#10;     */&#10;    public function __construct() {&#10;        parent::__construct();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/application/views/candidature.php">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/application/views/candidature.php" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;fr&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Candidature au Master en Finances Publiques - PSSFP&lt;/title&gt;&#10;    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;&#10;    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;&#10;    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot; /&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;&lt;?= base_url() ?&gt;resources/css/modern-form.css&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;&lt;?= base_url() ?&gt;resources/css/form-fixes.css&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;&lt;?= base_url() ?&gt;resources/css/review-styles.css&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&#10;&lt;script&gt;&#10;    function changesoustitre() {&#10;        const nom = document.getElementById('nom').value;&#10;        const prenom = document.getElementById('prenom').value;&#10;        document.getElementById('label_sous').innerHTML = `${nom} ${prenom}`.trim();&#10;    }&#10;&#10;    function maskepouse() {&#10;        const sel = document.getElementById('civilite');&#10;        const civilite = sel.options[sel.selectedIndex].value;&#10;        const epouseField = document.getElementById('epouse');&#10;        const divEpouse = document.getElementById('divEpouse');&#10;&#10;        if (epouseField) {&#10;            divEpouse.style.display = (civilite === &quot;Monsieur&quot; || civilite === &quot;Mademoiselle&quot;) ? &quot;none&quot; : &quot;block&quot;;&#10;            //Monsieur ou Mademoiselle&#10;            epouseField.style.display = (civilite === &quot;Monsieur&quot; || civilite === &quot;Mademoiselle&quot;) ? &quot;none&quot; : &quot;block&quot;;&#10;            if (civilite === &quot;Monsieur&quot;) {&#10;                epouseField.removeAttribute('required');&#10;            }&#10;        }&#10;    }&#10;&#10;    function showHideAutreDomaine() {&#10;        const domaineSelect = document.getElementById('dernier_diplome_domaine');&#10;        const autreDomaineRow = document.getElementById('autre_domaine_row');&#10;        if (domaineSelect.value === 'Autre') {&#10;            autreDomaineRow.style.display = 'block';&#10;        } else {&#10;            autreDomaineRow.style.display = 'none';&#10;            document.getElementById('dernier_diplome_autre_domaine').value = ''; // Clear the field&#10;        }&#10;    }&#10;&#10;    function toggleEmployerFields() {&#10;        const statut = document.getElementById('statut_prof').value;&#10;        const employerInfoSection = document.getElementById('employer_info_section');&#10;        const autreStatutRow = document.getElementById('autre_statut_row');&#10;&#10;        if (statut === &quot;Étudiant / en recherche d'emploi&quot; || statut === &quot;Etudiant&quot;) {&#10;            employerInfoSection.style.display = 'none';&#10;        } else {&#10;            employerInfoSection.style.display = 'block';&#10;        }&#10;&#10;        if (statut === &quot;Autre&quot;) {&#10;            autreStatutRow.style.display = 'block';&#10;        } else {&#10;            autreStatutRow.style.display = 'none';&#10;        }&#10;    }&#10;&lt;/script&gt;&#10;&#10;&lt;div class=&quot;container&quot;&gt;&#10;    &lt;div class=&quot;formbold-main-wrapper&quot;&gt;&#10;        &lt;div class=&quot;formbold-form-wrapper&quot;&gt;&#10;&#10;            &lt;!-- Enhanced Header --&gt;&#10;            &lt;div class=&quot;form-header&quot;&gt;&#10;                &lt;h2&gt;Candidature Master en Finances Publiques&lt;/h2&gt;&#10;                &lt;p&gt;13ème Promotion 2025/2026 • Remplissez soigneusement tous les champs obligatoires (*)&lt;/p&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Enhanced Progress Steps --&gt;&#10;            &lt;div class=&quot;progress-steps&quot;&gt;&#10;                &lt;div class=&quot;progress-step active&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 1: Formation&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;1&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Formation&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;progress-step&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 2: Identité&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;2&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Identité&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;progress-step&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 3: Contact&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;3&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Contact&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;progress-step&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 4: Cursus&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;4&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Cursus&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;progress-step&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 5: Professionnel&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;5&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Professionnel&lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Enhanced Form with Better Structure --&gt;&#10;            &lt;form id=&quot;candidatureForm&quot; method=&quot;post&quot; action=&quot;&lt;?php echo $action; ?&gt;&quot; novalidate&gt;&#10;                &lt;?php if(isset($message) &amp;&amp; $message): ?&gt;&#10;                    &lt;div class=&quot;message error&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt;&#10;                        &lt;?php echo $message; ?&gt;&#10;                    &lt;/div&gt;&#10;                &lt;?php endif; ?&gt;&#10;&#10;                &lt;?php if(validation_errors()): ?&gt;&#10;                    &lt;div class=&quot;validation-errors error&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;h4&gt;&lt;i class=&quot;fas fa-exclamation-circle&quot;&gt;&lt;/i&gt; Erreurs de validation détectées :&lt;/h4&gt;&#10;                        &lt;?php echo validation_errors('&lt;div class=&quot;error-item&quot;&gt;&lt;i class=&quot;fas fa-times-circle&quot;&gt;&lt;/i&gt; ', '&lt;/div&gt;'); ?&gt;&#10;                        &lt;p&gt;&lt;strong&gt;Veuillez corriger ces erreurs avant de continuer.&lt;/strong&gt;&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                &lt;?php endif; ?&gt;&#10;&#10;                &lt;!-- SECTION 1: Formation --&gt;&#10;                &lt;div class=&quot;form-section active&quot; id=&quot;section-formation&quot;&gt;&#10;                    &lt;legend&gt;&#10;                        &lt;i class=&quot;fas fa-graduation-cap&quot;&gt;&lt;/i&gt;&#10;                        Formation et Type d'Étude&#10;                    &lt;/legend&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;specialite&quot; class=&quot;formbold-form-label required&quot;&gt;Spécialité de formation&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;id_specialite&quot; id=&quot;id_specialite&quot; required aria-describedby=&quot;specialite-help&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Sélectionnez votre spécialité --&lt;/option&gt;&#10;                                &lt;?php&#10;                                if (!empty($specialites)) {&#10;                                    foreach ($specialites as $specialite) {&#10;                                        $selected = (isset($this-&gt;form_data-&gt;specialite) &amp;&amp; (string)$specialite-&gt;id === (string)$this-&gt;form_data-&gt;specialite) ? 'selected' : '';&#10;                                        echo &quot;&lt;option value='{$specialite-&gt;id}' {$selected}&gt;{$specialite-&gt;nom}&lt;/option&gt;&quot;;&#10;                                    }&#10;                                } else {&#10;                                    echo &quot;&lt;option value='' disabled style='color: #718096;'&gt;Aucune spécialité disponible&lt;/option&gt;&quot;;&#10;                                }&#10;                                ?&gt;&#10;                            &lt;/select&gt;&#10;                            &lt;div id=&quot;specialite-help&quot; class=&quot;input-help-text&quot;&gt;Choisissez la spécialité qui correspond à votre projet professionnel&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot;&gt;Mode de formation souhaité&lt;/label&gt;&#10;                            &lt;div class=&quot;radio-group&quot; role=&quot;radiogroup&quot; aria-labelledby=&quot;type-etude-label&quot;&gt;&#10;                                &lt;div class=&quot;radio-item&quot;&gt;&#10;                                    &lt;input type=&quot;radio&quot; name=&quot;type_etude&quot; id=&quot;presentiel&quot; value=&quot;Presentiel&quot;&#10;                                        &lt;?php if (isset($this-&gt;form_data-&gt;type_etude) &amp;&amp; ($this-&gt;form_data-&gt;type_etude === 'Présentiel' || $this-&gt;form_data-&gt;type_etude === 'Presentiel')) echo 'checked'; ?&gt; required&gt;&#10;                                    &lt;label for=&quot;presentiel&quot;&gt;&#10;                                        &lt;strong&gt;Présentiel&lt;/strong&gt;&#10;                                        &lt;br&gt;&lt;small&gt;Cours en salle avec présence physique obligatoire&lt;/small&gt;&#10;                                    &lt;/label&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;radio-item&quot;&gt;&#10;                                    &lt;input type=&quot;radio&quot; name=&quot;type_etude&quot; id=&quot;distanciel&quot; value=&quot;Distanciel&quot;&#10;                                        &lt;?php if (isset($this-&gt;form_data-&gt;type_etude) &amp;&amp; ($this-&gt;form_data-&gt;type_etude === 'Distanciel' || $this-&gt;form_data-&gt;type_etude === 'Distanciel')) echo 'checked'; ?&gt; required&gt;&#10;                                    &lt;label for=&quot;distanciel&quot;&gt;&#10;                                        &lt;strong&gt;Distanciel&lt;/strong&gt;&#10;                                        &lt;br&gt;&lt;small&gt;Formation à distance avec outils numériques&lt;/small&gt;&#10;                                    &lt;/label&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 2: Identité --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;section-identite&quot;&gt;&#10;                    &lt;legend&gt;&#10;                        &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt;&#10;                        Identité et Informations Personnelles&#10;                    &lt;/legend&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;langue1&quot; class=&quot;formbold-form-label required&quot;&gt;Langue principale&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;langue&quot; id=&quot;langue1&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Choisir --&lt;/option&gt;&#10;                                &lt;option value=&quot;Français&quot; &lt;?php if ($this-&gt;form_data-&gt;langue === &quot;Français&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Français&lt;/option&gt;&#10;                                &lt;option value=&quot;Anglais&quot; &lt;?php if ($this-&gt;form_data-&gt;langue === &quot;Anglais&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Anglais&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;civilite&quot; class=&quot;formbold-form-label required&quot;&gt;Civilité&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;civilite&quot; onchange=&quot;maskepouse();&quot; id=&quot;civilite&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Choisir --&lt;/option&gt;&#10;                                &lt;option value=&quot;Madame&quot; &lt;?php if ($this-&gt;form_data-&gt;civilite === &quot;Madame&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Madame&lt;/option&gt;&#10;                                &lt;option value=&quot;Mademoiselle&quot; &lt;?php if ($this-&gt;form_data-&gt;civilite === &quot;Mademoiselle&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Mademoiselle&lt;/option&gt;&#10;                                &lt;option value=&quot;Monsieur&quot; &lt;?php if ($this-&gt;form_data-&gt;civilite === &quot;Monsieur&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Monsieur&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;nom&quot; class=&quot;formbold-form-label required&quot;&gt;Nom de famille&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('nom', $this-&gt;form_data-&gt;nom); ?&gt;&quot;&#10;                                   onchange=&quot;changesoustitre();&quot;&#10;                                   name=&quot;nom&quot;&#10;                                   placeholder=&quot;Votre nom de famille&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;nom&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required&#10;                                   autocomplete=&quot;family-name&quot; /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;prenom&quot; class=&quot;formbold-form-label required&quot;&gt;Prénom(s)&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('prenom', $this-&gt;form_data-&gt;prenom); ?&gt;&quot;&#10;                                   onchange=&quot;changesoustitre();&quot;&#10;                                   name=&quot;prenom&quot;&#10;                                   placeholder=&quot;Vos prénom(s)&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;prenom&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required&#10;                                   autocomplete=&quot;given-name&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot; id=&quot;divEpouse&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;epouse&quot; class=&quot;formbold-form-label&quot;&gt;Nom de l'époux (si applicable)&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('epouse', $this-&gt;form_data-&gt;epouse); ?&gt;&quot;&#10;                                   name=&quot;epouse&quot;&#10;                                   placeholder=&quot;Nom d'épouse&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;epouse&quot;&#10;                                   type=&quot;text&quot;&#10;                                   style=&quot;display: none;&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot;&gt;Date de naissance&lt;/label&gt;&#10;                            &lt;input type=&quot;date&quot; name=&quot;date_naissance&quot; id=&quot;date_naissance&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   value=&quot;&lt;?php echo set_value('date_naissance', isset($this-&gt;form_data-&gt;date_naissance) ? $this-&gt;form_data-&gt;date_naissance : ''); ?&gt;&quot;&#10;                                   required&#10;                                   min=&quot;&lt;?php echo (date('Y')-65).'-01-01'; ?&gt;&quot;&#10;                                   max=&quot;&lt;?php echo (date('Y')-15).'-12-31'; ?&gt;&quot; /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Format: JJ/MM/AAAA&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;lieu_de_naissce&quot; class=&quot;formbold-form-label required&quot;&gt;Lieu de naissance&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('lieu_de_naissce', $this-&gt;form_data-&gt;lieu_de_naissce); ?&gt;&quot;&#10;                                   name=&quot;lieu_de_naissce&quot;&#10;                                   placeholder=&quot;Ex: Yaoundé, Douala, Paris...&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;lieu_de_naissce&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;paysorigine&quot; class=&quot;formbold-form-label required&quot;&gt;Pays d'origine&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;paysorigine&quot; id=&quot;paysorigine&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Sélectionner --&lt;/option&gt;&#10;                                &lt;?php foreach ($pays as $pay) {&#10;                                    // Assumons que l'ID du Cameroun est 47&#10;                                    $selected = ($pay-&gt;id == $this-&gt;form_data-&gt;paysorigine || ($pay-&gt;id == 47 &amp;&amp; empty($this-&gt;form_data-&gt;paysorigine))) ? 'selected' : '';&#10;                                    echo &quot;&lt;option value='{$pay-&gt;id}' data-name='{$pay-&gt;nom}' {$selected} style='color: #2d3748; background-color: #ffffff;'&gt;{$pay-&gt;nom}&lt;/option&gt;&quot;;&#10;                                } ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;pays&quot; class=&quot;formbold-form-label required&quot;&gt;Pays de résidence&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;pays_residence&quot; id=&quot;pays&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Sélectionner --&lt;/option&gt;&#10;                                &lt;?php foreach ($pays as $pay) {&#10;                                    $selected = ($pay-&gt;id == $this-&gt;form_data-&gt;pays_residence) ? 'selected' : '';&#10;                                    echo &quot;&lt;option value='{$pay-&gt;id}' {$selected} style='color: #2d3748; background-color: #ffffff;'&gt;{$pay-&gt;nom}&lt;/option&gt;&quot;;&#10;                                } ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;region_dorigine&quot; class=&quot;formbold-form-label required&quot;&gt;Région d'origine&lt;/label&gt;&#10;                            &lt;select name=&quot;region_dorigine&quot; id=&quot;region_dorigine&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez une région --&lt;/option&gt;&#10;                                &lt;?php foreach($this-&gt;region_model-&gt;get_all_regions() as $region): ?&gt;&#10;                                    &lt;option value=&quot;&lt;?= $region-&gt;id ?&gt;&quot;&#10;                                        &lt;?= (isset($this-&gt;form_data-&gt;region_dorigine) &amp;&amp; $this-&gt;form_data-&gt;region_dorigine == $region-&gt;id ? 'selected' : '' )?&gt;&gt;&#10;                                        &lt;?= $region-&gt;nom ?&gt;&#10;                                    &lt;/option&gt;&#10;                                &lt;?php endforeach; ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dept_dorigine&quot; class=&quot;formbold-form-label required&quot;&gt;Département d'origine&lt;/label&gt;&#10;                            &lt;select name=&quot;dept_dorigine&quot; id=&quot;dept_dorigine&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez un département --&lt;/option&gt;&#10;                                &lt;?php if(isset($this-&gt;form_data-&gt;region_dorigine)): ?&gt;&#10;                                    &lt;?php foreach($this-&gt;region_model-&gt;get_departements_by_region($this-&gt;form_data-&gt;region_dorigine) as $dept): ?&gt;&#10;                                        &lt;option value=&quot;&lt;?= $dept-&gt;id ?&gt;&quot;&#10;                                            &lt;?= (isset($this-&gt;form_data-&gt;dept_dorigine) &amp;&amp; $this-&gt;form_data-&gt;dept_dorigine == $dept-&gt;id ? 'selected' : '' )?&gt;&gt;&#10;                                            &lt;?= $dept-&gt;nom ?&gt;&#10;                                        &lt;/option&gt;&#10;                                    &lt;?php endforeach; ?&gt;&#10;                                &lt;?php endif; ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;region_dorigine_autre&quot; class=&quot;formbold-form-label&quot;&gt;Autre Région d'origine&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;region_dorigine_autre&quot; id=&quot;region_dorigine_autre&quot; class=&quot;formbold-form-input&quot;&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dept_dorigine_autre&quot; class=&quot;formbold-form-label&quot;&gt;Autre Département d'origine&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;dept_dorigine_autre&quot; id=&quot;dept_dorigine_autre&quot; class=&quot;formbold-form-input&quot;&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;nationalite&quot; class=&quot;formbold-form-label required&quot;&gt;Nationalité&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('nationalite', $this-&gt;form_data-&gt;nationalite); ?&gt;&quot;&#10;                                   name=&quot;nationalite&quot;&#10;                                   placeholder=&quot;Ex: Camerounaise, Française...&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;nationalite&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;statu_matrimonial&quot; class=&quot;formbold-form-label required&quot;&gt;Statut matrimonial&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;statu_matrimonial&quot; id=&quot;statu_matrimonial&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Choisir --&lt;/option&gt;&#10;                                &lt;option value=&quot;Célibataire&quot; &lt;?php if ($this-&gt;form_data-&gt;statu_matrimonial === &quot;Célibataire&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Célibataire&lt;/option&gt;&#10;                                &lt;option value=&quot;Marié(e)&quot; &lt;?php if ($this-&gt;form_data-&gt;statu_matrimonial === &quot;Marié(e)&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Marié(e)&lt;/option&gt;&#10;                                &lt;option value=&quot;Veuf(ve)&quot; &lt;?php if ($this-&gt;form_data-&gt;statu_matrimonial === &quot;Veuf(ve)&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Veuf(ve)&lt;/option&gt;&#10;                                &lt;option value=&quot;Divorcé(e)&quot; &lt;?php if ($this-&gt;form_data-&gt;statu_matrimonial === &quot;Divorcé(e)&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Divorcé(e)&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;nombre_enfant&quot; class=&quot;formbold-form-label required&quot;&gt;Nombre d'enfants à charge&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('nombre_enfant', $this-&gt;form_data-&gt;nombre_enfant); ?&gt;&quot;&#10;                                   name=&quot;nombre_enfant&quot;&#10;                                   placeholder=&quot;0&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;nombre_enfant&quot;&#10;                                   type=&quot;number&quot;&#10;                                   min=&quot;0&quot;&#10;                                   max=&quot;20&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 3: Contact --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;section-contact&quot;&gt;&#10;                    &lt;legend&gt;&#10;                        &lt;i class=&quot;fas fa-address-book&quot;&gt;&lt;/i&gt;&#10;                        Informations de Contact&#10;                    &lt;/legend&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;adressecandidat&quot; class=&quot;formbold-form-label required&quot;&gt;Adresse complète&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('adresse_candidat', $this-&gt;form_data-&gt;adresse_candidat); ?&gt;&quot;&#10;                                   name=&quot;adresse_candidat&quot;&#10;                                   placeholder=&quot;Ex: BP 1234, Quartier Essos&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;adressecandidat&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;villeresidence&quot; class=&quot;formbold-form-label required&quot;&gt;Ville de résidence&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('ville_residence', $this-&gt;form_data-&gt;ville_residence); ?&gt;&quot;&#10;                                   name=&quot;ville_residence&quot;&#10;                                   placeholder=&quot;Ex: Yaoundé, Douala...&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;villeresidence&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;telephone1&quot; class=&quot;formbold-form-label required&quot;&gt;Téléphone WhatsApp&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('telephone', $this-&gt;form_data-&gt;telephone); ?&gt;&quot;&#10;                                   name=&quot;telephone&quot;&#10;                                   placeholder=&quot;+237 6XX XXX XXX&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;telephone1&quot;&#10;                                   type=&quot;tel&quot;&#10;                                   required /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Numéro principal pour les communications (avec indicatif pays)&lt;/div&gt;&#10;                            &lt;?php if(form_error('telephone')): ?&gt;&#10;                                &lt;div class=&quot;form-error&quot;&gt;&lt;?php echo form_error('telephone'); ?&gt;&lt;/div&gt;&#10;                            &lt;?php endif; ?&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;telephone2&quot; class=&quot;formbold-form-label&quot;&gt;Téléphone secondaire&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('telephone2', $this-&gt;form_data-&gt;telephone2); ?&gt;&quot;&#10;                                   name=&quot;telephone2&quot;&#10;                                   placeholder=&quot;+237 6XX XXX XXX&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;telephone2&quot;&#10;                                   type=&quot;tel&quot; /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Numéro de contact alternatif (optionnel)&lt;/div&gt;&#10;                            &lt;?php if(form_error('telephone2')): ?&gt;&#10;                                &lt;div class=&quot;form-error&quot;&gt;&lt;?php echo form_error('telephone2'); ?&gt;&lt;/div&gt;&#10;                            &lt;?php endif; ?&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;email&quot; class=&quot;formbold-form-label required&quot;&gt;Adresse email&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('email', $this-&gt;form_data-&gt;email); ?&gt;&quot;&#10;                                   name=&quot;email&quot;&#10;                                   placeholder=&quot;votre.email@exemple.com&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;email&quot;&#10;                                   type=&quot;email&quot;&#10;                                   required&#10;                                   autocomplete=&quot;email&quot; /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Utilisée pour toutes les communications officielles&lt;/div&gt;&#10;                            &lt;?php if(form_error('email')): ?&gt;&#10;                                &lt;div class=&quot;form-error&quot;&gt;&lt;?php echo form_error('email'); ?&gt;&lt;/div&gt;&#10;                            &lt;?php endif; ?&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;emailverif&quot; class=&quot;formbold-form-label required&quot;&gt;Confirmer l'email&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('emailverif', $this-&gt;form_data-&gt;emailverif); ?&gt;&quot;&#10;                                   name=&quot;emailverif&quot;&#10;                                   placeholder=&quot;Confirmer votre email&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;emailverif&quot;&#10;                                   type=&quot;email&quot;&#10;                                   required /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Saisissez à nouveau votre adresse email&lt;/div&gt;&#10;                            &lt;?php if(form_error('emailverif')): ?&gt;&#10;                                &lt;div class=&quot;form-error&quot;&gt;&lt;?php echo form_error('emailverif'); ?&gt;&lt;/div&gt;&#10;                            &lt;?php endif; ?&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 4: Cursus Académique --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;section-cursus&quot;&gt;&#10;                    &lt;legend&gt;&#10;                        &lt;i class=&quot;fas fa-university&quot;&gt;&lt;/i&gt;&#10;                        IV – Cursus Académique&#10;                    &lt;/legend&gt;&#10;&#10;                    &lt;h4&gt; Dernier diplôme obtenu&lt;/h4&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_intitule&quot; class=&quot;formbold-form-label required&quot;&gt;Intitulé exact du diplôme&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_intitule&quot; id=&quot;dernier_diplome_intitule&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Licence&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_intitule) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_intitule=='Licence') echo 'selected'; ?&gt;&gt;Licence&lt;/option&gt;&#10;                                &lt;option value=&quot;Maîtrise&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_intitule) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_intitule=='Maîtrise') echo 'selected'; ?&gt;&gt;Maîtrise&lt;/option&gt;&#10;                                &lt;option value=&quot;DEA&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_intitule) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_intitule=='DEA') echo 'selected'; ?&gt;&gt;DEA&lt;/option&gt;&#10;                                &lt;option value=&quot;Doctorat&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_intitule) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_intitule=='Doctorat') echo 'selected'; ?&gt;&gt;Doctorat&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_specialite&quot; class=&quot;formbold-form-label required&quot;&gt;Spécialité / Filière&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;dernier_diplome_specialite&quot; id=&quot;dernier_diplome_specialite&quot; class=&quot;formbold-form-input&quot; placeholder=&quot;Ex. Économie, Finances, Gestion, Droit&quot; value=&quot;&lt;?php echo set_value('dernier_diplome_specialite', isset($this-&gt;form_data-&gt;dernier_diplome_specialite) ? $this-&gt;form_data-&gt;dernier_diplome_specialite : ''); ?&gt;&quot; required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_domaine&quot; class=&quot;formbold-form-label required&quot;&gt;Domaine du diplôme&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_domaine&quot; id=&quot;dernier_diplome_domaine&quot; class=&quot;formbold-form-input&quot; onchange=&quot;showHideAutreDomaine()&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Économie&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Économie') echo 'selected'; ?&gt;&gt;Économie&lt;/option&gt;&#10;                                &lt;option value=&quot;Finances&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Finances') echo 'selected'; ?&gt;&gt;Finances&lt;/option&gt;&#10;                                &lt;option value=&quot;Gestion&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Gestion') echo 'selected'; ?&gt;&gt;Gestion&lt;/option&gt;&#10;                                &lt;option value=&quot;Droit&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Droit') echo 'selected'; ?&gt;&gt;Droit&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Autre') echo 'selected'; ?&gt;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot; id=&quot;autre_domaine_row&quot; style=&quot;display: &lt;?php echo (isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Autre') ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                        &lt;div class=&quot;form-group&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_autre_domaine&quot; class=&quot;formbold-form-label&quot;&gt;Précisez le domaine&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;dernier_diplome_autre_domaine&quot; id=&quot;dernier_diplome_autre_domaine&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('dernier_diplome_autre_domaine', isset($this-&gt;form_data-&gt;dernier_diplome_autre_domaine) ? $this-&gt;form_data-&gt;dernier_diplome_autre_domaine : ''); ?&gt;&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_etablissement&quot; class=&quot;formbold-form-label required&quot;&gt;Établissement d'obtention&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;dernier_diplome_etablissement&quot; id=&quot;dernier_diplome_etablissement&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('dernier_diplome_etablissement', isset($this-&gt;form_data-&gt;dernier_diplome_etablissement) ? $this-&gt;form_data-&gt;dernier_diplome_etablissement : ''); ?&gt;&quot; required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_pays&quot; class=&quot;formbold-form-label required&quot;&gt;Pays de l'établissement&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_pays&quot; id=&quot;dernier_diplome_pays&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez un pays --&lt;/option&gt;&#10;                                &lt;?php if (!empty($pays)) { foreach ($pays as $p) { $selected = (isset($this-&gt;form_data-&gt;dernier_diplome_pays) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_pays == $p-&gt;id) ? 'selected' : ''; echo &quot;&lt;option value='{$p-&gt;id}' $selected&gt;{$p-&gt;nom}&lt;/option&gt;&quot;; } } ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_annee&quot; class=&quot;formbold-form-label required&quot;&gt;Année d'obtention&lt;/label&gt;&#10;                            &lt;input type=&quot;number&quot; min=&quot;1950&quot; max=&quot;&lt;?php echo date('Y'); ?&gt;&quot; name=&quot;dernier_diplome_annee&quot; id=&quot;dernier_diplome_annee&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('dernier_diplome_annee', isset($this-&gt;form_data-&gt;dernier_diplome_annee) ? $this-&gt;form_data-&gt;dernier_diplome_annee : ''); ?&gt;&quot; required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_niveau&quot; class=&quot;formbold-form-label required&quot;&gt;Niveau académique&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_niveau&quot; id=&quot;dernier_diplome_niveau&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;BAC+3&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_niveau) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_niveau=='BAC+3') echo 'selected'; ?&gt;&gt;BAC+3&lt;/option&gt;&#10;                                &lt;option value=&quot;BAC+4&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_niveau) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_niveau=='BAC+4') echo 'selected'; ?&gt;&gt;BAC+4&lt;/option&gt;&#10;                                &lt;option value=&quot;BAC+5 ou plus&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_niveau) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_niveau=='BAC+5 ou plus') echo 'selected'; ?&gt;&gt;BAC+5 ou plus&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_mention&quot; class=&quot;formbold-form-label&quot;&gt;Mention (facultatif)&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_mention&quot; id=&quot;dernier_diplome_mention&quot; class=&quot;formbold-form-input&quot;&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Passable&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Passable') echo 'selected'; ?&gt;&gt;Passable&lt;/option&gt;&#10;                                &lt;option value=&quot;Assez Bien&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Assez Bien') echo 'selected'; ?&gt;&gt;Assez Bien&lt;/option&gt;&#10;                                &lt;option value=&quot;Bien&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Bien') echo 'selected'; ?&gt;&gt;Bien&lt;/option&gt;&#10;                                &lt;option value=&quot;Très Bien&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Très Bien') echo 'selected'; ?&gt;&gt;Très Bien&lt;/option&gt;&#10;                                &lt;option value=&quot;Excellent&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Excellent') echo 'selected'; ?&gt;&gt;Excellent&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 5: Situation et Expérience Professionnelles --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;section-professionnel&quot;&gt;&#10;                    &lt;legend&gt;&lt;i class=&quot;fas fa-briefcase&quot;&gt;&lt;/i&gt; V – Situation et Expérience Professionnelles&lt;/legend&gt;&#10;&#10;                    &lt;h4&gt; 1. Statut professionnel&lt;/h4&gt;&#10;                    &lt;!-- 1. Statut professionnel actuel --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot;&gt;Statut professionnel actuel&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;statut_prof&quot; id=&quot;statut_prof&quot; onchange=&quot;toggleEmployerFields();&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez votre statut actuel --&lt;/option&gt;&#10;                                &lt;option value=&quot;Fonctionnaire&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Fonctionnaire&quot;) echo &quot;selected&quot;; ?&gt;&gt;Fonctionnaire&lt;/option&gt;&#10;                                &lt;option value=&quot;Employé du secteur privé&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Employé du secteur privé&quot; || $this-&gt;form_data-&gt;statut_prof === &quot;Travailleur_Privé&quot;) echo &quot;selected&quot;; ?&gt;&gt;Employé du secteur privé&lt;/option&gt;&#10;                                &lt;option value=&quot;Travailleur indépendant / consultant&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Travailleur indépendant / consultant&quot; || $this-&gt;form_data-&gt;statut_prof === &quot;Indépendant&quot;) echo &quot;selected&quot;; ?&gt;&gt;Travailleur indépendant / consultant&lt;/option&gt;&#10;                                &lt;option value=&quot;Étudiant / en recherche d'emploi&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Étudiant / en recherche d'emploi&quot; || $this-&gt;form_data-&gt;statut_prof === &quot;Etudiant&quot;) echo &quot;selected&quot;; ?&gt;&gt;Étudiant / en recherche d'emploi&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Autre&quot;) echo &quot;selected&quot;; ?&gt;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div id=&quot;autre_statut_row&quot; class=&quot;form-row&quot; style=&quot;display: &lt;?php echo ($this-&gt;form_data-&gt;statut_prof === &quot;Autre&quot;) ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                        &lt;div class=&quot;form-group&quot;&gt;&#10;                            &lt;label for=&quot;autre_statut_prof&quot; class=&quot;formbold-form-label&quot;&gt;Précisez votre statut professionnel&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;autre_statut_prof&quot; id=&quot;autre_statut_prof&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('autre_statut_prof', isset($this-&gt;form_data-&gt;autre_statut_prof) ? $this-&gt;form_data-&gt;autre_statut_prof : ''); ?&gt;&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- 2. Informations sur l'organisation actuelle --&gt;&#10;                    &lt;div id=&quot;employer_info_section&quot; style=&quot;display: &lt;?php echo ($this-&gt;form_data-&gt;statut_prof !== &quot;Étudiant / en recherche d'emploi&quot; &amp;&amp; $this-&gt;form_data-&gt;statut_prof !== &quot;Etudiant&quot;) ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                        &lt;h4&gt; 2. Informations sur l'organisation actuelle&lt;/h4&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;structure&quot; class=&quot;formbold-form-label required&quot;&gt;Nom de l'employeur actuel&lt;/label&gt;&#10;                                &lt;input value=&quot;&lt;?php echo set_value('structure', $this-&gt;form_data-&gt;structure); ?&gt;&quot; placeholder=&quot;Ex. Ministère des Finances, Banque Atlantique&quot; name=&quot;structure&quot; class=&quot;formbold-form-input&quot; id=&quot;structure&quot; type=&quot;text&quot; required /&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;adresse_structure&quot; class=&quot;formbold-form-label required&quot;&gt;Adresse complète de l'employeur&lt;/label&gt;&#10;                                &lt;input value=&quot;&lt;?php echo set_value('adresse_structure', $this-&gt;form_data-&gt;adresse_structure); ?&gt;&quot; placeholder=&quot;Ex. BP 1234 Yaoundé, Cameroun&quot; name=&quot;adresse_structure&quot; class=&quot;formbold-form-input&quot; id=&quot;adresse_structure&quot; type=&quot;text&quot; required /&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;telephone_structure&quot; class=&quot;formbold-form-label&quot;&gt;Téléphone de l'employeur&lt;/label&gt;&#10;                                &lt;input value=&quot;&lt;?php echo isset($this-&gt;form_data-&gt;telephone_structure) ? set_value('telephone_structure', $this-&gt;form_data-&gt;telephone_structure) : set_value('telephone_structure', ''); ?&gt;&quot; placeholder=&quot;Téléphone de l'employeur&quot; name=&quot;telephone_structure&quot; class=&quot;formbold-form-input&quot; id=&quot;telephone_structure&quot; type=&quot;text&quot; /&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;email_structure&quot; class=&quot;formbold-form-label&quot;&gt;Email de l'employeur&lt;/label&gt;&#10;                                &lt;input value=&quot;&lt;?php echo isset($this-&gt;form_data-&gt;email_structure) ? set_value('email_structure', $this-&gt;form_data-&gt;email_structure) : set_value('email_structure', ''); ?&gt;&quot; name=&quot;email_structure&quot; placeholder=&quot;Email de l'employeur&quot; class=&quot;formbold-form-input&quot; id=&quot;email_structure&quot; type=&quot;email&quot; /&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;poste_actuel&quot; class=&quot;formbold-form-label required&quot;&gt;Poste occupé actuellement&lt;/label&gt;&#10;                                &lt;input type=&quot;text&quot; name=&quot;poste_actuel&quot; id=&quot;poste_actuel&quot; placeholder=&quot;Ex. Comptable, Analyste budgétaire&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('poste_actuel', isset($this-&gt;form_data-&gt;poste_actuel) ? $this-&gt;form_data-&gt;poste_actuel : ''); ?&gt;&quot; required /&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;date_debut_poste&quot; class=&quot;formbold-form-label required&quot;&gt;Date de début de ce poste&lt;/label&gt;&#10;                                &lt;input type=&quot;month&quot; name=&quot;date_debut_poste&quot; id=&quot;date_debut_poste&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('date_debut_poste', isset($this-&gt;form_data-&gt;date_debut_poste) ? $this-&gt;form_data-&gt;date_debut_poste : ''); ?&gt;&quot; required /&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label class=&quot;formbold-form-label required&quot;&gt;Ce poste a-t-il un lien avec les finances publiques ?&lt;/label&gt;&#10;                                &lt;div class=&quot;radio-group&quot; role=&quot;radiogroup&quot;&gt;&#10;                                    &lt;div class=&quot;radio-item&quot;&gt;&#10;                                        &lt;input type=&quot;radio&quot; name=&quot;lien_finances_publiques&quot; id=&quot;lien_oui&quot; value=&quot;Oui&quot; &lt;?php if (isset($this-&gt;form_data-&gt;lien_finances_publiques) &amp;&amp; $this-&gt;form_data-&gt;lien_finances_publiques === 'Oui') echo 'checked'; ?&gt; required&gt;&#10;                                        &lt;label for=&quot;lien_oui&quot;&gt;Oui&lt;/label&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div class=&quot;radio-item&quot;&gt;&#10;                                        &lt;input type=&quot;radio&quot; name=&quot;lien_finances_publiques&quot; id=&quot;lien_partiel&quot; value=&quot;Partiellement&quot; &lt;?php if (isset($this-&gt;form_data-&gt;lien_finances_publiques) &amp;&amp; $this-&gt;form_data-&gt;lien_finances_publiques === 'Partiellement') echo 'checked'; ?&gt; required&gt;&#10;                                        &lt;label for=&quot;lien_partiel&quot;&gt;Partiellement&lt;/label&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div class=&quot;radio-item&quot;&gt;&#10;                                        &lt;input type=&quot;radio&quot; name=&quot;lien_finances_publiques&quot; id=&quot;lien_non&quot; value=&quot;Non&quot; &lt;?php if (isset($this-&gt;form_data-&gt;lien_finances_publiques) &amp;&amp; $this-&gt;form_data-&gt;lien_finances_publiques === 'Non') echo 'checked'; ?&gt; required&gt;&#10;                                        &lt;label for=&quot;lien_non&quot;&gt;Non&lt;/label&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div id=&quot;lien_partiel_explication&quot; class=&quot;form-row&quot; style=&quot;display: &lt;?php echo (isset($this-&gt;form_data-&gt;lien_finances_publiques) &amp;&amp; $this-&gt;form_data-&gt;lien_finances_publiques === 'Partiellement') ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                            &lt;div class=&quot;form-group&quot;&gt;&#10;                                &lt;label for=&quot;explication_lien_partiel&quot; class=&quot;formbold-form-label&quot;&gt;Veuillez expliquer&lt;/label&gt;&#10;                                &lt;textarea name=&quot;explication_lien_partiel&quot; id=&quot;explication_lien_partiel&quot; class=&quot;formbold-form-input&quot; rows=&quot;3&quot;&gt;&lt;?php echo set_value('explication_lien_partiel', isset($this-&gt;form_data-&gt;explication_lien_partiel) ? $this-&gt;form_data-&gt;explication_lien_partiel : ''); ?&gt;&lt;/textarea&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- 3. Total d'années d'expérience professionnelle --&gt;&#10;                    &lt;h4&gt; 3. Total d'années d'expérience professionnelle&lt;/h4&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;total_annees_experience&quot; class=&quot;formbold-form-label&quot;&gt;Nombre total d'années d'expérience&lt;/label&gt;&#10;                            &lt;input type=&quot;number&quot; min=&quot;0&quot; step=&quot;0.5&quot; name=&quot;total_annees_experience&quot; id=&quot;total_annees_experience&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('total_annees_experience', isset($this-&gt;form_data-&gt;total_annees_experience) ? $this-&gt;form_data-&gt;total_annees_experience : ''); ?&gt;&quot; /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Indiquez une estimation du total de vos années d'expérience professionnelle&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 6: Avis --&gt;&#10;                &lt;!-- SECTION 6: Avis --&gt;&#10;                &lt;div class=&quot;form-section&quot;&gt;&#10;                    &lt;legend&gt;&lt;i class=&quot;fas fa-comment-alt&quot;&gt;&lt;/i&gt; Votre avis nous intéresse&lt;/legend&gt;&#10;&#10;                    &lt;!-- Question 1 --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;niveau_connaissance_fp&quot;&gt;&#10;                                Quel est votre niveau de connaissance des finances publiques ?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;niveau_connaissance_fp&quot; id=&quot;niveau_connaissance_fp&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Faible&quot;&gt;Faible&lt;/option&gt;&#10;                                &lt;option value=&quot;Moyen&quot;&gt;Moyen&lt;/option&gt;&#10;                                &lt;option value=&quot;Bon&quot;&gt;Bon&lt;/option&gt;&#10;                                &lt;option value=&quot;Très bon&quot;&gt;Très bon&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- Question 2 --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;motivation_pssfp&quot;&gt;&#10;                                Pourquoi avoir choisi le PSSFP ?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;motivation_pssfp&quot; id=&quot;motivation_pssfp&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Renforcer mes capacités&quot;&gt;Renforcer mes capacités&lt;/option&gt;&#10;                                &lt;option value=&quot;Être plus performant&quot;&gt;Être plus performant&lt;/option&gt;&#10;                                &lt;option value=&quot;Obtenir un diplôme de master&quot;&gt;Obtenir un diplôme de master&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- Question 3 --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;utilite_formation&quot;&gt;&#10;                                En quoi la formation du PSSFP pourrait-elle vous être utile ?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;utilite_formation&quot; id=&quot;utilite_formation&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Améliorer mes compétences professionnelles&quot;&gt;Améliorer mes compétences professionnelles&lt;/option&gt;&#10;                                &lt;option value=&quot;Accéder à des postes plus élevés&quot;&gt;Accéder à des postes plus élevés&lt;/option&gt;&#10;                                &lt;option value=&quot;Mieux comprendre les enjeux des finances publiques&quot;&gt;Mieux comprendre les enjeux des finances publiques&lt;/option&gt;&#10;                                &lt;option value=&quot;Développer mon réseau professionnel&quot;&gt;Développer mon réseau professionnel&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- Question 4 --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;domaines_interet_fp&quot;&gt;&#10;                                Quels sont les domaines des finances publiques qui vous intéressent ?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;domaines_interet_fp&quot; id=&quot;domaines_interet_fp&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Gestion budgétaire&quot;&gt;Gestion budgétaire&lt;/option&gt;&#10;                                &lt;option value=&quot;Fiscalité&quot;&gt;Fiscalité&lt;/option&gt;&#10;                                &lt;option value=&quot;Comptabilité publique&quot;&gt;Comptabilité publique&lt;/option&gt;&#10;                                &lt;option value=&quot;Audit public&quot;&gt;Audit public&lt;/option&gt;&#10;                                &lt;option value=&quot;Marchés publics&quot;&gt;Marchés publics&lt;/option&gt;&#10;                                &lt;option value=&quot;Tous ces domaines&quot;&gt;Tous ces domaines&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;howDidYouKnewUs&quot;&gt;&#10;                                Comment avez-vous connu le PSSFP&amp;nbsp;?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;howDidYouKnewUs&quot; id=&quot;howDidYouKnewUs&quot; required&gt;&#10;                                &lt;option value=&quot;&quot; disabled &lt;?php if (empty($this-&gt;form_data-&gt;howDidYouKnewUs)) echo &quot;selected&quot;; ?&gt;&gt;-- Sélectionnez une option --&lt;/option&gt;&#10;                                &lt;option value=&quot;Cameroun Tribune&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Cameroun Tribune&quot;) echo &quot;selected&quot;; ?&gt;&gt;Cameroun Tribune&lt;/option&gt;&#10;                                &lt;option value=&quot;Banderoles et affiches publicitaires&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Banderoles et affiches publicitaires&quot;) echo &quot;selected&quot;; ?&gt;&gt;Banderoles et affiches publicitaires&lt;/option&gt;&#10;                                &lt;option value=&quot;Internet et réseaux sociaux&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Internet et réseaux sociaux&quot;) echo &quot;selected&quot;; ?&gt;&gt;Internet et réseaux sociaux&lt;/option&gt;&#10;                                &lt;option value=&quot;Média Radio et TV&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Média Radio et TV&quot;) echo &quot;selected&quot;; ?&gt;&gt;Média Radio et TV&lt;/option&gt;&#10;                                &lt;option value=&quot;Campagne de sensibilisation des équipes du PSSFP sur le terrain&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Campagne de sensibilisation des équipes du PSSFP sur le terrain&quot;) echo &quot;selected&quot;; ?&gt;&gt;Campagne de sensibilisation des équipes du PSSFP sur le terrain&lt;/option&gt;&#10;                                &lt;option value=&quot;Recommandation d'un ancien&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Recommandation d'un ancien&quot;) echo &quot;selected&quot;; ?&gt;&gt;Recommandation d'un ancien&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Autre&quot;) echo &quot;selected&quot;; ?&gt;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Merci de nous indiquer comment vous avez entendu parler du programme.&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                    &lt;div class=&quot;form-row&quot; id=&quot;howDidYouKnewUs_autre_row&quot; style=&quot;display: &lt;?php echo (isset($this-&gt;form_data-&gt;howDidYouKnewUs) &amp;&amp; $this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Autre&quot;) ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label&quot; for=&quot;howDidYouKnewUs_autre&quot;&gt;Précisez&amp;nbsp;:&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; class=&quot;formbold-form-input&quot; name=&quot;howDidYouKnewUs_autre&quot; id=&quot;howDidYouKnewUs_autre&quot; value=&quot;&lt;?php echo set_value('howDidYouKnewUs_autre', isset($this-&gt;form_data-&gt;howDidYouKnewUs_autre) ? $this-&gt;form_data-&gt;howDidYouKnewUs_autre : ''); ?&gt;&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;script&gt;&#10;                    document.getElementById('region_dorigine').addEventListener('change', function() {&#10;                        const regionId = this.value;&#10;                        const deptSelect = document.getElementById('dept_dorigine');&#10;&#10;                        if (regionId) {&#10;&#10;                            deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Chargement...&lt;/option&gt;';&#10;&#10;                            // Utiliser la bonne URL&#10;                            fetch(`&lt;?= base_url() ?&gt;index.php/candidature/get_departements_by_region/${regionId}`)&#10;                                .then(response =&gt; {&#10;                                    if (!response.ok) {&#10;                                        throw new Error('Erreur réseau', response.status);&#10;                                    }&#10;                                    return response.json();&#10;                                })&#10;                                .then(data =&gt; {&#10;                                    deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez un département --&lt;/option&gt;';&#10;                                    data.forEach(dept =&gt; {&#10;                                        deptSelect.innerHTML += `&lt;option value=&quot;${dept.id}&quot;&gt;${dept.nom}&lt;/option&gt;`;&#10;                                    });&#10;                                })&#10;                                .catch(error =&gt; {&#10;                                    console.error('Erreur:', error);&#10;                                    deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Erreur de chargement&lt;/option&gt;';&#10;                                });&#10;                        } else {&#10;                            deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez d\'abord une région --&lt;/option&gt;';&#10;                        }&#10;                    });&#10;                    document.addEventListener('DOMContentLoaded', function() {&#10;                        const select = document.getElementById('howDidYouKnewUs');&#10;                        const autreRow = document.getElementById('howDidYouKnewUs_autre_row');&#10;                        if (select) {&#10;                            select.addEventListener('change', function() {&#10;                                if (this.value === 'Autre') {&#10;                                    autreRow.style.display = 'block';&#10;                                } else {&#10;                                    autreRow.style.display = 'none';&#10;                                    const input = document.getElementById('howDidYouKnewUs_autre');&#10;                                    if (input) input.value = '';&#10;                                }&#10;                            });&#10;                        }&#10;                    });&#10;                &lt;/script&gt;&#10;&#10;                &lt;!-- SECTION 7: Engagement --&gt;&#10;                &lt;div class=&quot;form-section&quot;&gt;&#10;                    &lt;legend&gt;&lt;i class=&quot;fas fa-handshake&quot;&gt;&lt;/i&gt; Engagement&lt;/legend&gt;&#10;                    &lt;div class=&quot;panel-body&quot; style=&quot;text-align: justify; font-size: 1rem; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;&quot;&gt;&#10;                        Je soussigné(e) &lt;strong id=&quot;label_sous&quot;&gt;&lt;?php echo isset($this-&gt;form_data-&gt;nom) &amp;&amp; isset($this-&gt;form_data-&gt;prenom) ? $this-&gt;form_data-&gt;nom . ' ' . $this-&gt;form_data-&gt;prenom : ''; ?&gt;&lt;/strong&gt;, certifie sur l'honneur l'exactitude des renseignements consignés dans cette fiche de candidature et avoir eu connaissance des conditions exigées pour être retenu comme candidat au programme de Master Professionnel en Finances Publiques.&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;checkbox-group&quot;&gt;&#10;                        &lt;label class=&quot;checkbox-item&quot;&gt;&#10;                            &lt;input type=&quot;checkbox&quot; name=&quot;engagement&quot; id=&quot;checkbox_engagement&quot; required&gt;&#10;                            J'ai lu et j'accepte &lt;a href=&quot;#&quot; target=&quot;_blank&quot;&gt;les termes, conditions et politiques&lt;/a&gt;&#10;                        &lt;/label&gt;&#10;                        &lt;div id=&quot;engagement_error&quot; class=&quot;form-error&quot; style=&quot;display: none; color: #dc3545; margin-top: 5px;&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-exclamation-circle&quot;&gt;&lt;/i&gt; Vous devez accepter les termes et conditions pour continuer.&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;script&gt;&#10;                    // Validation du formulaire pour vérifier que la case est cochée&#10;                    document.getElementById('candidatureForm').addEventListener('submit', function(event) {&#10;                        console.log('Form submission triggered');&#10;                        const checkbox = document.getElementById('checkbox_engagement');&#10;                        const errorMsg = document.getElementById('engagement_error');&#10;&#10;&#10;&#10;                        if (!checkbox.checked) {&#10;                            event.preventDefault();&#10;                            errorMsg.style.display = 'block';&#10;                            // Scroll to the checkbox&#10;                            checkbox.scrollIntoView({ behavior: 'smooth', block: 'center' });&#10;                            // Highlight the checkbox&#10;                            checkbox.parentElement.style.boxShadow = '0 0 0 2px #dc3545';&#10;                            return false;&#10;                        } else {&#10;                            errorMsg.style.display = 'none';&#10;                            checkbox.parentElement.style.boxShadow = 'none';&#10;                        }&#10;                    });&#10;                &lt;/script&gt;&#10;&#10;                &lt;!-- SECTION 8: Revue des informations --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;review-section&quot;&gt;&#10;                    &lt;legend&gt;&lt;i class=&quot;fas fa-check-double&quot;&gt;&lt;/i&gt; Revue des Informations&lt;/legend&gt;&#10;                    &lt;p class=&quot;review-intro&quot;&gt;Veuillez vérifier attentivement toutes les informations saisies avant de soumettre votre candidature.&lt;/p&gt;&#10;&#10;                    &lt;div class=&quot;review-container&quot;&gt;&#10;                        &lt;!-- Formation --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-graduation-cap&quot;&gt;&lt;/i&gt; Formation&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Spécialité de formation&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-specialite&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Mode de formation&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-type_etude&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Identité --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Identité&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Langue principale&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-langue&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Civilité&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-civilite&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Nom&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-nom&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Prénom(s)&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-prenom&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-epouse-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Nom d'épouse&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-epouse&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Date de naissance&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-date_naissance&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Lieu de naissance&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-lieu_de_naissce&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Nationalité&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-nationalite&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Région d'origine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-region_dorigine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Département d'origine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dept_dorigine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Statut matrimonial&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-statu_matrimonial&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Nombre d'enfants&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-nombre_enfant&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Contact --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-address-book&quot;&gt;&lt;/i&gt; Contact&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Pays d'origine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-paysorigine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Pays de résidence&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-pays_residence&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Adresse&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-adresse_candidat&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Ville de résidence&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-ville_residence&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Téléphone WhatsApp&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-telephone&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Téléphone secondaire&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-telephone2&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Email&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-email&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Cursus Académique --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-university&quot;&gt;&lt;/i&gt; Cursus académique&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Intitulé du dernier diplôme&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_intitule&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Spécialité / Filière&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_specialite&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Domaine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_domaine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-autre-domaine-container&quot; style=&quot;display: none;&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Précision domaine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_autre_domaine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Établissement&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_etablissement&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Pays de l'établissement&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_pays&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Année d'obtention&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_annee&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Niveau académique&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_niveau&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Mention&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_mention&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Informations professionnelles --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-briefcase&quot;&gt;&lt;/i&gt; Informations professionnelles&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Statut professionnel&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-statut_prof&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-autre-statut-container&quot; style=&quot;display: none;&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Précision statut&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-autre_statut_prof&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-employeur-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Employeur actuel&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-structure&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-adresse-structure-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Adresse employeur&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-adresse_structure&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-tel-structure-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Téléphone employeur&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-telephone_structure&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-email-structure-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Email employeur&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-email_structure&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-poste-actuel-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Poste occupé&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-poste_actuel&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-date-debut-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Date de début de poste&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-date_debut_poste&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-lien-finances-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Lien avec finances publiques&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-lien_finances_publiques&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-explication-lien-container&quot; style=&quot;display: none;&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Explication lien partiel&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-explication_lien_partiel&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Années d'expérience&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-total_annees_experience&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;!-- Nouvelles questions --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-comment-alt&quot;&gt;&lt;/i&gt; Votre avis&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Niveau connaissance FP&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-niveau_connaissance_fp&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Motivation PSSFP&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-motivation_pssfp&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Utilité formation&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-utilite_formation&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Domaines d'intérêt FP&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-domaines_interet_fp&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Connaissance du programme --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Comment vous avez connu le programme&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Source d'information&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-howDidYouKnewUs&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-autre-source-container&quot; style=&quot;display: none;&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Précision source&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-howDidYouKnewUs_autre&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;review-actions&quot;&gt;&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn btn-warning&quot; id=&quot;edit-submission&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; Modifier mes informations&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;script&gt;&#10;                    // Script pour pré-remplir la section de revue&#10;                    document.addEventListener('DOMContentLoaded', function() {&#10;                        // Fonction pour mettre à jour les valeurs de revue&#10;                        function updateReviewValues() {&#10;                            // Formation&#10;                            updateSelectReviewValue('id_specialite', 'review-specialite');&#10;                            updateRadioReviewValue('type_etude', 'review-type_etude');&#10;&#10;                            // Identité&#10;                            updateSelectReviewValue('langue1', 'review-langue');&#10;                            updateSelectReviewValue('civilite', 'review-civilite');&#10;                            updateInputReviewValue('nom', 'review-nom');&#10;                            updateInputReviewValue('prenom', 'review-prenom');&#10;                            updateInputReviewValue('epouse', 'review-epouse');&#10;&#10;                            // Date de naissance&#10;                            updateInputReviewValue('date_naissance', 'review-date_naissance');&#10;&#10;                            updateInputReviewValue('lieu_de_naissce', 'review-lieu_de_naissce');&#10;                            updateInputReviewValue('nationalite', 'review-nationalite');&#10;                            updateInputReviewValue('region_dorigine', 'review-region_dorigine');&#10;                            updateInputReviewValue('dept_dorigine', 'review-dept_dorigine');&#10;                            updateSelectReviewValue('statu_matrimonial', 'review-statu_matrimonial');&#10;                            updateInputReviewValue('nombre_enfant', 'review-nombre_enfant');&#10;&#10;                            // Contact&#10;                            updateSelectReviewValue('paysorigine', 'review-paysorigine');&#10;                            updateSelectReviewValue('pays', 'review-pays_residence');&#10;                            updateInputReviewValue('adressecandidat', 'review-adresse_candidat');&#10;                            updateInputReviewValue('villeresidence', 'review-ville_residence');&#10;                            updateInputReviewValue('telephone1', 'review-telephone');&#10;                            updateInputReviewValue('telephone2', 'review-telephone2');&#10;                            updateInputReviewValue('email', 'review-email');&#10;&#10;                            // Cursus Académique&#10;                            updateInputReviewValue('dernier_diplome_intitule', 'review-dernier_diplome_intitule');&#10;                            updateInputReviewValue('dernier_diplome_specialite', 'review-dernier_diplome_specialite');&#10;                            updateSelectReviewValue('dernier_diplome_domaine', 'review-dernier_diplome_domaine');&#10;                            updateInputReviewValue('dernier_diplome_autre_domaine', 'review-dernier_diplome_autre_domaine');&#10;                            updateInputReviewValue('dernier_diplome_etablissement', 'review-dernier_diplome_etablissement');&#10;                            updateSelectReviewValue('dernier_diplome_pays', 'review-dernier_diplome_pays');&#10;                            updateInputReviewValue('dernier_diplome_annee', 'review-dernier_diplome_annee');&#10;                            updateSelectReviewValue('dernier_diplome_niveau', 'review-dernier_diplome_niveau');&#10;                            updateSelectReviewValue('dernier_diplome_mention', 'review-dernier_diplome_mention');&#10;&#10;                            // Situation Professionnelle&#10;                            updateSelectReviewValue('statut_prof', 'review-statut_prof');&#10;                            updateInputReviewValue('autre_statut_prof', 'review-autre_statut_prof');&#10;                            updateInputReviewValue('structure', 'review-structure');&#10;                            updateInputReviewValue('adresse_structure', 'review-adresse_structure');&#10;                            updateInputReviewValue('telephone_structure', 'review-telephone_structure');&#10;                            updateInputReviewValue('email_structure', 'review-email_structure');&#10;                            updateInputReviewValue('poste_actuel', 'review-poste_actuel');&#10;                            updateInputReviewValue('date_debut_poste', 'review-date_debut_poste');&#10;                            updateRadioReviewValue('lien_finances_publiques', 'review-lien_finances_publiques');&#10;                            updateInputReviewValue('explication_lien_partiel', 'review-explication_lien_partiel');&#10;                            updateInputReviewValue('total_annees_experience', 'review-total_annees_experience');&#10;                            // Nouvelles questions&#10;                            updateSelectReviewValue('niveau_connaissance_fp', 'review-niveau_connaissance_fp');&#10;                            updateSelectReviewValue('motivation_pssfp', 'review-motivation_pssfp');&#10;                            updateSelectReviewValue('utilite_formation', 'review-utilite_formation');&#10;                            updateSelectReviewValue('domaines_interet_fp', 'review-domaines_interet_fp');&#10;                            // Comment vous avez connu le programme&#10;                            updateSelectReviewValue('howDidYouKnewUs', 'review-howDidYouKnewUs');&#10;                            updateInputReviewValue('howDidYouKnewUs_autre', 'review-howDidYouKnewUs_autre');&#10;&#10;                            // Affichage conditionnel des éléments&#10;                            toggleReviewElementVisibility('review-epouse-container', document.getElementById('civilite').value !== 'Monsieur');&#10;                            toggleReviewElementVisibility('review-autre-domaine-container', document.getElementById('dernier_diplome_domaine').value === 'Autre');&#10;                            toggleReviewElementVisibility('review-autre-statut-container', document.getElementById('statut_prof').value === 'Autre');&#10;&#10;                            const statutProf = document.getElementById('statut_prof').value;&#10;                            const estEtudiant = statutProf === &quot;Étudiant / en recherche d'emploi&quot; || statutProf === &quot;Etudiant&quot;;&#10;                            toggleReviewElementVisibility('review-employeur-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-adresse-structure-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-tel-structure-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-email-structure-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-poste-actuel-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-date-debut-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-lien-finances-container', !estEtudiant);&#10;&#10;                            toggleReviewElementVisibility('review-explication-lien-container',&#10;                                document.querySelector('input[name=&quot;lien_finances_publiques&quot;]:checked')?.value === 'Partiellement');&#10;&#10;                            toggleReviewElementVisibility('review-autre-source-container',&#10;                                document.getElementById('howDidYouKnewUs').value === 'Autre');&#10;                        }&#10;&#10;                        // Helper pour mettre à jour les valeurs de champs input&#10;                        function updateInputReviewValue(inputId, reviewId) {&#10;                            const input = document.getElementById(inputId);&#10;                            const review = document.getElementById(reviewId);&#10;                            if (input &amp;&amp; review) {&#10;                                review.textContent = input.value || '-';&#10;                            }&#10;                        }&#10;&#10;                        // Helper pour mettre à jour les valeurs de champs select&#10;                        function updateSelectReviewValue(selectId, reviewId) {&#10;                            const select = document.getElementById(selectId);&#10;                            const review = document.getElementById(reviewId);&#10;                            if (select &amp;&amp; review &amp;&amp; select.selectedIndex !== -1) {&#10;                                review.textContent = select.options[select.selectedIndex].text;&#10;                                // Si c'est &quot;--&quot; ou &quot;Sélectionnez&quot;, afficher &quot;-&quot; à la place&#10;                                if (review.textContent.includes('--') ||&#10;                                    review.textContent.includes('Sélectionnez') ||&#10;                                    review.textContent === '') {&#10;                                    review.textContent = '-';&#10;                                }&#10;                            }&#10;                        }&#10;&#10;                        // Helper pour mettre à jour les valeurs de boutons radio&#10;                        function updateRadioReviewValue(radioName, reviewId) {&#10;                            const checkedRadio = document.querySelector('input[name=&quot;' + radioName + '&quot;]:checked');&#10;                            const review = document.getElementById(reviewId);&#10;                            if (checkedRadio &amp;&amp; review) {&#10;                                if (radioName === 'type_etude') {&#10;                                    // Pour le mode de formation, on veut afficher &quot;Présentiel&quot; ou &quot;Distanciel&quot;&#10;                                    review.textContent = (checkedRadio.value === 'Presentiel') ? 'Présentiel' : 'Distanciel';&#10;                                } else {&#10;                                    review.textContent = checkedRadio.value || '-';&#10;                                }&#10;                            } else if (review) {&#10;                                review.textContent = '-';&#10;                            }&#10;                        }&#10;&#10;                        // Helper pour gérer l'affichage des éléments conditionnels&#10;                        function toggleReviewElementVisibility(containerId, condition) {&#10;                            const container = document.getElementById(containerId);&#10;                            if (container) {&#10;                                container.style.display = condition ? 'flex' : 'none';&#10;                            }&#10;                        }&#10;&#10;                        // Mettre à jour la revue quand on change de section&#10;                        const formSections = document.querySelectorAll('.form-section');&#10;                        formSections.forEach(section =&gt; {&#10;                            section.addEventListener('blur', updateReviewValues, true);&#10;                        });&#10;&#10;                        // Mettre à jour la revue quand on clique sur le bouton de revue&#10;                        document.querySelector('.progress-step:last-child').addEventListener('click', updateReviewValues);&#10;&#10;                        // Mettre à jour la revue au chargement initial de la page&#10;                        updateReviewValues();&#10;&#10;                        // Bouton pour revenir à l'édition&#10;                        document.getElementById('edit-submission').addEventListener('click', function() {&#10;                            const sections = document.querySelectorAll('.form-section');&#10;                            sections.forEach(section =&gt; {&#10;                                section.classList.remove('active');&#10;                            });&#10;                            sections[0].classList.add('active'); // Retourner à la première section&#10;&#10;                            // Mettre à jour l'état des étapes&#10;                            document.querySelectorAll('.progress-step').forEach((step, index) =&gt; {&#10;                                if (index === 0) {&#10;                                    step.classList.add('active');&#10;                                } else {&#10;                                    step.classList.remove('active');&#10;                                }&#10;                            });&#10;                        });&#10;                    });&#10;                &lt;/script&gt;&#10;&#10;                &lt;div class=&quot;form-actions&quot;&gt;&#10;                    &lt;button name=&quot;enretistrer&quot; id=&quot;subenregistrer&quot; class=&quot;btn btn-success&quot; type=&quot;submit&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-paper-plane&quot;&gt;&lt;/i&gt; Soumettre ma candidature&#10;                    &lt;/button&gt;&#10;                    &lt;button type=&quot;reset&quot; class=&quot;btn btn-danger&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-undo&quot;&gt;&lt;/i&gt; Réinitialiser&#10;                    &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;            &lt;/form&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;!-- Load JavaScript at the end for better performance --&gt;&#10;&lt;script src=&quot;&lt;?= base_url() ?&gt;resources/js/modern-form.js&quot;&gt;&lt;/script&gt;&#10;&lt;script src=&quot;&lt;?= base_url() ?&gt;resources/js/review-form.js&quot;&gt;&lt;/script&gt;&#10;&#10;&lt;script&gt;&#10;document.addEventListener('DOMContentLoaded', function() {&#10;    const paysOrigineSelect = document.getElementById('paysorigine');&#10;    const regionSelect = document.getElementById('region_dorigine');&#10;    const deptSelect = document.getElementById('dept_dorigine');&#10;    const regionAutreInput = document.getElementById('region_dorigine_autre');&#10;    const deptAutreInput = document.getElementById('dept_dorigine_autre');&#10;&#10;    function fetchDepartements(regionId) {&#10;        if (regionId) {&#10;            deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Chargement...&lt;/option&gt;';&#10;            fetch(`&lt;?= base_url() ?&gt;index.php/candidature/get_departements_by_region/${regionId}`)&#10;                .then(response =&gt; {&#10;                    if (!response.ok) {&#10;                        throw new Error('Erreur réseau');&#10;                    }&#10;                    return response.json();&#10;                })&#10;                .then(data =&gt; {&#10;                    deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez un département --&lt;/option&gt;';&#10;                    data.forEach(dept =&gt; {&#10;                        deptSelect.innerHTML += `&lt;option value=&quot;${dept.id}&quot;&gt;${dept.nom}&lt;/option&gt;`;&#10;                    });&#10;                })&#10;                .catch(error =&gt; {&#10;                    console.error('Erreur:', error);&#10;                    deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Erreur de chargement&lt;/option&gt;';&#10;                });&#10;        } else {&#10;            deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez d\'abord une région --&lt;/option&gt;';&#10;        }&#10;    }&#10;&#10;    function toggleRegionDeptFields() {&#10;        console.log('Toggle region and department fields based on country selection', paysOrigineSelect.value);&#10;        const selectedOption = paysOrigineSelect.options[paysOrigineSelect.selectedIndex];&#10;        const isCameroun = paysOrigineSelect.value == '41';&#10;&#10;        const regionGroup = regionSelect.closest('.form-row');&#10;        const deptGroup = deptSelect.closest('.form-row');&#10;        const regionAutreGroup = regionAutreInput.closest('.form-row');&#10;        const deptAutreGroup = deptAutreInput.closest('.form-row');&#10;&#10;        if (isCameroun) {&#10;            regionGroup.style.display = 'flex';&#10;            deptGroup.style.display = 'flex';&#10;            regionAutreGroup.style.display = 'none';&#10;            deptAutreGroup.style.display = 'none';&#10;&#10;            regionSelect.setAttribute('required', 'required');&#10;            deptSelect.setAttribute('required', 'required');&#10;            regionAutreInput.removeAttribute('required');&#10;            deptAutreInput.removeAttribute('required');&#10;&#10;            if (regionSelect.options.length &lt;= 1) {&#10;                fetchRegions();&#10;            }&#10;        } else if (selectedOption &amp;&amp; paysOrigineSelect.value) { // Another country is selected&#10;            regionGroup.style.display = 'none';&#10;            deptGroup.style.display = 'none';&#10;            regionAutreGroup.style.display = 'flex';&#10;            deptAutreGroup.style.display = 'flex';&#10;&#10;            regionSelect.removeAttribute('required');&#10;            deptSelect.removeAttribute('required');&#10;            regionAutreInput.setAttribute('required', 'required');&#10;            deptAutreInput.setAttribute('required', 'required');&#10;        } else { // No country selected&#10;            regionGroup.style.display = 'none';&#10;            deptGroup.style.display = 'none';&#10;            regionAutreGroup.style.display = 'none';&#10;            deptAutreGroup.style.display = 'none';&#10;&#10;            regionSelect.removeAttribute('required');&#10;            deptSelect.removeAttribute('required');&#10;            regionAutreInput.removeAttribute('required');&#10;            deptAutreInput.removeAttribute('required');&#10;        }&#10;    }&#10;&#10;    function fetchRegions() {&#10;        fetch('&lt;?= base_url() ?&gt;candidature/get_regions')&#10;            .then(response =&gt; response.json())&#10;            .then(data =&gt; {&#10;                regionSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez une région --&lt;/option&gt;';&#10;                data.forEach(region =&gt; {&#10;                    regionSelect.innerHTML += `&lt;option value=&quot;${region.id}&quot;&gt;${region.nom}&lt;/option&gt;`;&#10;                });&#10;            });&#10;    }&#10;&#10;    paysOrigineSelect.addEventListener('change', toggleRegionDeptFields);&#10;&#10;    regionSelect.addEventListener('change', function() {&#10;        const regionId = this.value;&#10;        fetchDepartements(regionId);&#10;    });&#10;&#10;    // Exécuter au chargement de la page&#10;    toggleRegionDeptFields();&#10;});&#10;&lt;/script&gt;&#10;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;fr&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&#10;    &lt;title&gt;Candidature au Master en Finances Publiques - PSSFP&lt;/title&gt;&#10;    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;&#10;    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;&#10;    &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot; /&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;&lt;?= base_url() ?&gt;resources/css/modern-form.css&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;&lt;?= base_url() ?&gt;resources/css/form-fixes.css&quot;&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; href=&quot;&lt;?= base_url() ?&gt;resources/css/review-styles.css&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&#10;&lt;script&gt;&#10;    function changesoustitre() {&#10;        const nom = document.getElementById('nom').value;&#10;        const prenom = document.getElementById('prenom').value;&#10;        document.getElementById('label_sous').innerHTML = `${nom} ${prenom}`.trim();&#10;    }&#10;&#10;    function maskepouse() {&#10;        const sel = document.getElementById('civilite');&#10;        const civilite = sel.options[sel.selectedIndex].value;&#10;        const epouseField = document.getElementById('epouse');&#10;        const divEpouse = document.getElementById('divEpouse');&#10;&#10;        if (epouseField) {&#10;            divEpouse.style.display = (civilite === &quot;Monsieur&quot; || civilite === &quot;Mademoiselle&quot;) ? &quot;none&quot; : &quot;block&quot;;&#10;            //Monsieur ou Mademoiselle&#10;            epouseField.style.display = (civilite === &quot;Monsieur&quot; || civilite === &quot;Mademoiselle&quot;) ? &quot;none&quot; : &quot;block&quot;;&#10;            if (civilite === &quot;Monsieur&quot;) {&#10;                epouseField.removeAttribute('required');&#10;            }&#10;        }&#10;    }&#10;&#10;    function showHideAutreDomaine() {&#10;        const domaineSelect = document.getElementById('dernier_diplome_domaine');&#10;        const autreDomaineRow = document.getElementById('autre_domaine_row');&#10;        if (domaineSelect.value === 'Autre') {&#10;            autreDomaineRow.style.display = 'block';&#10;        } else {&#10;            autreDomaineRow.style.display = 'none';&#10;            document.getElementById('dernier_diplome_autre_domaine').value = ''; // Clear the field&#10;        }&#10;    }&#10;&#10;    function toggleEmployerFields() {&#10;        const statut = document.getElementById('statut_prof').value;&#10;        const employerInfoSection = document.getElementById('employer_info_section');&#10;        const autreStatutRow = document.getElementById('autre_statut_row');&#10;&#10;        if (statut === &quot;Étudiant / en recherche d'emploi&quot; || statut === &quot;Etudiant&quot;) {&#10;            employerInfoSection.style.display = 'none';&#10;        } else {&#10;            employerInfoSection.style.display = 'block';&#10;        }&#10;&#10;        if (statut === &quot;Autre&quot;) {&#10;            autreStatutRow.style.display = 'block';&#10;        } else {&#10;            autreStatutRow.style.display = 'none';&#10;        }&#10;    }&#10;&lt;/script&gt;&#10;&#10;&lt;div class=&quot;container&quot;&gt;&#10;    &lt;div class=&quot;formbold-main-wrapper&quot;&gt;&#10;        &lt;div class=&quot;formbold-form-wrapper&quot;&gt;&#10;&#10;            &lt;!-- Enhanced Header --&gt;&#10;            &lt;div class=&quot;form-header&quot;&gt;&#10;                &lt;h2&gt;Candidature Master en Finances Publiques&lt;/h2&gt;&#10;                &lt;p&gt;13ème Promotion 2025/2026 • Remplissez soigneusement tous les champs obligatoires (*)&lt;/p&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Enhanced Progress Steps --&gt;&#10;            &lt;div class=&quot;progress-steps&quot;&gt;&#10;                &lt;div class=&quot;progress-step active&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 1: Formation&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;1&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Formation&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;progress-step&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 2: Identité&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;2&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Identité&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;progress-step&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 3: Contact&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;3&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Contact&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;progress-step&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 4: Cursus&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;4&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Cursus&lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;div class=&quot;progress-step&quot; role=&quot;button&quot; tabindex=&quot;0&quot; aria-label=&quot;Étape 5: Professionnel&quot;&gt;&#10;                    &lt;div class=&quot;step-circle&quot;&gt;5&lt;/div&gt;&#10;                    &lt;div class=&quot;step-text&quot;&gt;Professionnel&lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;!-- Enhanced Form with Better Structure --&gt;&#10;            &lt;form id=&quot;candidatureForm&quot; method=&quot;post&quot; action=&quot;&lt;?php echo $action; ?&gt;&quot; novalidate&gt;&#10;                &lt;?php if(isset($message) &amp;&amp; $message): ?&gt;&#10;                    &lt;div class=&quot;message error&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-exclamation-triangle&quot;&gt;&lt;/i&gt;&#10;                        &lt;?php echo $message; ?&gt;&#10;                    &lt;/div&gt;&#10;                &lt;?php endif; ?&gt;&#10;&#10;                &lt;?php if(validation_errors()): ?&gt;&#10;                    &lt;div class=&quot;validation-errors error&quot; role=&quot;alert&quot;&gt;&#10;                        &lt;h4&gt;&lt;i class=&quot;fas fa-exclamation-circle&quot;&gt;&lt;/i&gt; Erreurs de validation détectées :&lt;/h4&gt;&#10;                        &lt;?php echo validation_errors('&lt;div class=&quot;error-item&quot;&gt;&lt;i class=&quot;fas fa-times-circle&quot;&gt;&lt;/i&gt; ', '&lt;/div&gt;'); ?&gt;&#10;                        &lt;p&gt;&lt;strong&gt;Veuillez corriger ces erreurs avant de continuer.&lt;/strong&gt;&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                &lt;?php endif; ?&gt;&#10;&#10;                &lt;!-- SECTION 1: Formation --&gt;&#10;                &lt;div class=&quot;form-section active&quot; id=&quot;section-formation&quot;&gt;&#10;                    &lt;legend&gt;&#10;                        &lt;i class=&quot;fas fa-graduation-cap&quot;&gt;&lt;/i&gt;&#10;                        Formation et Type d'Étude&#10;                    &lt;/legend&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;specialite&quot; class=&quot;formbold-form-label required&quot;&gt;Spécialité de formation&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;id_specialite&quot; id=&quot;id_specialite&quot; required aria-describedby=&quot;specialite-help&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Sélectionnez votre spécialité --&lt;/option&gt;&#10;                                &lt;?php&#10;                                if (!empty($specialites)) {&#10;                                    foreach ($specialites as $specialite) {&#10;                                        $selected = (isset($this-&gt;form_data-&gt;specialite) &amp;&amp; (string)$specialite-&gt;id === (string)$this-&gt;form_data-&gt;specialite) ? 'selected' : '';&#10;                                        echo &quot;&lt;option value='{$specialite-&gt;id}' {$selected}&gt;{$specialite-&gt;nom}&lt;/option&gt;&quot;;&#10;                                    }&#10;                                } else {&#10;                                    echo &quot;&lt;option value='' disabled style='color: #718096;'&gt;Aucune spécialité disponible&lt;/option&gt;&quot;;&#10;                                }&#10;                                ?&gt;&#10;                            &lt;/select&gt;&#10;                            &lt;div id=&quot;specialite-help&quot; class=&quot;input-help-text&quot;&gt;Choisissez la spécialité qui correspond à votre projet professionnel&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot;&gt;Mode de formation souhaité&lt;/label&gt;&#10;                            &lt;div class=&quot;radio-group&quot; role=&quot;radiogroup&quot; aria-labelledby=&quot;type-etude-label&quot;&gt;&#10;                                &lt;div class=&quot;radio-item&quot;&gt;&#10;                                    &lt;input type=&quot;radio&quot; name=&quot;type_etude&quot; id=&quot;presentiel&quot; value=&quot;Presentiel&quot;&#10;                                        &lt;?php if (isset($this-&gt;form_data-&gt;type_etude) &amp;&amp; ($this-&gt;form_data-&gt;type_etude === 'Présentiel' || $this-&gt;form_data-&gt;type_etude === 'Presentiel')) echo 'checked'; ?&gt; required&gt;&#10;                                    &lt;label for=&quot;presentiel&quot;&gt;&#10;                                        &lt;strong&gt;Présentiel&lt;/strong&gt;&#10;                                        &lt;br&gt;&lt;small&gt;Cours en salle avec présence physique obligatoire&lt;/small&gt;&#10;                                    &lt;/label&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;radio-item&quot;&gt;&#10;                                    &lt;input type=&quot;radio&quot; name=&quot;type_etude&quot; id=&quot;distanciel&quot; value=&quot;Distanciel&quot;&#10;                                        &lt;?php if (isset($this-&gt;form_data-&gt;type_etude) &amp;&amp; ($this-&gt;form_data-&gt;type_etude === 'Distanciel' || $this-&gt;form_data-&gt;type_etude === 'Distanciel')) echo 'checked'; ?&gt; required&gt;&#10;                                    &lt;label for=&quot;distanciel&quot;&gt;&#10;                                        &lt;strong&gt;Distanciel&lt;/strong&gt;&#10;                                        &lt;br&gt;&lt;small&gt;Formation à distance avec outils numériques&lt;/small&gt;&#10;                                    &lt;/label&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 2: Identité --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;section-identite&quot;&gt;&#10;                    &lt;legend&gt;&#10;                        &lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt;&#10;                        Identité et Informations Personnelles&#10;                    &lt;/legend&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;langue1&quot; class=&quot;formbold-form-label required&quot;&gt;Langue principale&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;langue&quot; id=&quot;langue1&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Choisir --&lt;/option&gt;&#10;                                &lt;option value=&quot;Français&quot; &lt;?php if ($this-&gt;form_data-&gt;langue === &quot;Français&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Français&lt;/option&gt;&#10;                                &lt;option value=&quot;Anglais&quot; &lt;?php if ($this-&gt;form_data-&gt;langue === &quot;Anglais&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Anglais&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;civilite&quot; class=&quot;formbold-form-label required&quot;&gt;Civilité&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;civilite&quot; onchange=&quot;maskepouse();&quot; id=&quot;civilite&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Choisir --&lt;/option&gt;&#10;                                &lt;option value=&quot;Madame&quot; &lt;?php if ($this-&gt;form_data-&gt;civilite === &quot;Madame&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Madame&lt;/option&gt;&#10;                                &lt;option value=&quot;Mademoiselle&quot; &lt;?php if ($this-&gt;form_data-&gt;civilite === &quot;Mademoiselle&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Mademoiselle&lt;/option&gt;&#10;                                &lt;option value=&quot;Monsieur&quot; &lt;?php if ($this-&gt;form_data-&gt;civilite === &quot;Monsieur&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Monsieur&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;nom&quot; class=&quot;formbold-form-label required&quot;&gt;Nom de famille&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('nom', $this-&gt;form_data-&gt;nom); ?&gt;&quot;&#10;                                   onchange=&quot;changesoustitre();&quot;&#10;                                   name=&quot;nom&quot;&#10;                                   placeholder=&quot;Votre nom de famille&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;nom&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required&#10;                                   autocomplete=&quot;family-name&quot; /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;prenom&quot; class=&quot;formbold-form-label required&quot;&gt;Prénom(s)&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('prenom', $this-&gt;form_data-&gt;prenom); ?&gt;&quot;&#10;                                   onchange=&quot;changesoustitre();&quot;&#10;                                   name=&quot;prenom&quot;&#10;                                   placeholder=&quot;Vos prénom(s)&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;prenom&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required&#10;                                   autocomplete=&quot;given-name&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot; id=&quot;divEpouse&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;epouse&quot; class=&quot;formbold-form-label&quot;&gt;Nom de l'époux (si applicable)&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('epouse', $this-&gt;form_data-&gt;epouse); ?&gt;&quot;&#10;                                   name=&quot;epouse&quot;&#10;                                   placeholder=&quot;Nom d'épouse&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;epouse&quot;&#10;                                   type=&quot;text&quot;&#10;                                   style=&quot;display: none;&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot;&gt;Date de naissance&lt;/label&gt;&#10;                            &lt;input type=&quot;date&quot; name=&quot;date_naissance&quot; id=&quot;date_naissance&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   value=&quot;&lt;?php echo set_value('date_naissance', isset($this-&gt;form_data-&gt;date_naissance) ? $this-&gt;form_data-&gt;date_naissance : ''); ?&gt;&quot;&#10;                                   required&#10;                                   min=&quot;&lt;?php echo (date('Y')-65).'-01-01'; ?&gt;&quot;&#10;                                   max=&quot;&lt;?php echo (date('Y')-15).'-12-31'; ?&gt;&quot; /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Format: JJ/MM/AAAA&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;lieu_de_naissce&quot; class=&quot;formbold-form-label required&quot;&gt;Lieu de naissance&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('lieu_de_naissce', $this-&gt;form_data-&gt;lieu_de_naissce); ?&gt;&quot;&#10;                                   name=&quot;lieu_de_naissce&quot;&#10;                                   placeholder=&quot;Ex: Yaoundé, Douala, Paris...&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;lieu_de_naissce&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;paysorigine&quot; class=&quot;formbold-form-label required&quot;&gt;Pays d'origine&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;paysorigine&quot; id=&quot;paysorigine&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Sélectionner --&lt;/option&gt;&#10;                                &lt;?php foreach ($pays as $pay) {&#10;                                    // Assumons que l'ID du Cameroun est 47&#10;                                    $selected = ($pay-&gt;id == $this-&gt;form_data-&gt;paysorigine || ($pay-&gt;id == 47 &amp;&amp; empty($this-&gt;form_data-&gt;paysorigine))) ? 'selected' : '';&#10;                                    echo &quot;&lt;option value='{$pay-&gt;id}' data-name='{$pay-&gt;nom}' {$selected} style='color: #2d3748; background-color: #ffffff;'&gt;{$pay-&gt;nom}&lt;/option&gt;&quot;;&#10;                                } ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;pays&quot; class=&quot;formbold-form-label required&quot;&gt;Pays de résidence&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;pays_residence&quot; id=&quot;pays&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Sélectionner --&lt;/option&gt;&#10;                                &lt;?php foreach ($pays as $pay) {&#10;                                    $selected = ($pay-&gt;id == $this-&gt;form_data-&gt;pays_residence) ? 'selected' : '';&#10;                                    echo &quot;&lt;option value='{$pay-&gt;id}' {$selected} style='color: #2d3748; background-color: #ffffff;'&gt;{$pay-&gt;nom}&lt;/option&gt;&quot;;&#10;                                } ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;region_dorigine&quot; class=&quot;formbold-form-label required&quot;&gt;Région d'origine&lt;/label&gt;&#10;                            &lt;select name=&quot;region_dorigine&quot; id=&quot;region_dorigine&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez une région --&lt;/option&gt;&#10;                                &lt;?php foreach($this-&gt;region_model-&gt;get_all_regions() as $region): ?&gt;&#10;                                    &lt;option value=&quot;&lt;?= $region-&gt;id ?&gt;&quot;&#10;                                        &lt;?= (isset($this-&gt;form_data-&gt;region_dorigine) &amp;&amp; $this-&gt;form_data-&gt;region_dorigine == $region-&gt;id ? 'selected' : '' )?&gt;&gt;&#10;                                        &lt;?= $region-&gt;nom ?&gt;&#10;                                    &lt;/option&gt;&#10;                                &lt;?php endforeach; ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dept_dorigine&quot; class=&quot;formbold-form-label required&quot;&gt;Département d'origine&lt;/label&gt;&#10;                            &lt;select name=&quot;dept_dorigine&quot; id=&quot;dept_dorigine&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez un département --&lt;/option&gt;&#10;                                &lt;?php if(isset($this-&gt;form_data-&gt;region_dorigine)): ?&gt;&#10;                                    &lt;?php foreach($this-&gt;region_model-&gt;get_departements_by_region($this-&gt;form_data-&gt;region_dorigine) as $dept): ?&gt;&#10;                                        &lt;option value=&quot;&lt;?= $dept-&gt;id ?&gt;&quot;&#10;                                            &lt;?= (isset($this-&gt;form_data-&gt;dept_dorigine) &amp;&amp; $this-&gt;form_data-&gt;dept_dorigine == $dept-&gt;id ? 'selected' : '' )?&gt;&gt;&#10;                                            &lt;?= $dept-&gt;nom ?&gt;&#10;                                        &lt;/option&gt;&#10;                                    &lt;?php endforeach; ?&gt;&#10;                                &lt;?php endif; ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;region_dorigine_autre&quot; class=&quot;formbold-form-label&quot;&gt;Autre Région d'origine&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;region_dorigine_autre&quot; id=&quot;region_dorigine_autre&quot; class=&quot;formbold-form-input&quot;&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dept_dorigine_autre&quot; class=&quot;formbold-form-label&quot;&gt;Autre Département d'origine&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;dept_dorigine_autre&quot; id=&quot;dept_dorigine_autre&quot; class=&quot;formbold-form-input&quot;&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;nationalite&quot; class=&quot;formbold-form-label required&quot;&gt;Nationalité&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('nationalite', $this-&gt;form_data-&gt;nationalite); ?&gt;&quot;&#10;                                   name=&quot;nationalite&quot;&#10;                                   placeholder=&quot;Ex: Camerounaise, Française...&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;nationalite&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;statu_matrimonial&quot; class=&quot;formbold-form-label required&quot;&gt;Statut matrimonial&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;statu_matrimonial&quot; id=&quot;statu_matrimonial&quot; required style=&quot;color: #2d3748 !important; background-color: #ffffff !important;&quot;&gt;&#10;                                &lt;option value=&quot;&quot; style=&quot;color: #718096;&quot;&gt;-- Choisir --&lt;/option&gt;&#10;                                &lt;option value=&quot;Célibataire&quot; &lt;?php if ($this-&gt;form_data-&gt;statu_matrimonial === &quot;Célibataire&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Célibataire&lt;/option&gt;&#10;                                &lt;option value=&quot;Marié(e)&quot; &lt;?php if ($this-&gt;form_data-&gt;statu_matrimonial === &quot;Marié(e)&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Marié(e)&lt;/option&gt;&#10;                                &lt;option value=&quot;Veuf(ve)&quot; &lt;?php if ($this-&gt;form_data-&gt;statu_matrimonial === &quot;Veuf(ve)&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Veuf(ve)&lt;/option&gt;&#10;                                &lt;option value=&quot;Divorcé(e)&quot; &lt;?php if ($this-&gt;form_data-&gt;statu_matrimonial === &quot;Divorcé(e)&quot;) echo &quot;selected&quot;; ?&gt; style=&quot;color: #2d3748; background-color: #ffffff;&quot;&gt;Divorcé(e)&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;nombre_enfant&quot; class=&quot;formbold-form-label required&quot;&gt;Nombre d'enfants à charge&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('nombre_enfant', $this-&gt;form_data-&gt;nombre_enfant); ?&gt;&quot;&#10;                                   name=&quot;nombre_enfant&quot;&#10;                                   placeholder=&quot;0&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;nombre_enfant&quot;&#10;                                   type=&quot;number&quot;&#10;                                   min=&quot;0&quot;&#10;                                   max=&quot;20&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 3: Contact --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;section-contact&quot;&gt;&#10;                    &lt;legend&gt;&#10;                        &lt;i class=&quot;fas fa-address-book&quot;&gt;&lt;/i&gt;&#10;                        Informations de Contact&#10;                    &lt;/legend&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;adressecandidat&quot; class=&quot;formbold-form-label required&quot;&gt;Adresse complète&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('adresse_candidat', $this-&gt;form_data-&gt;adresse_candidat); ?&gt;&quot;&#10;                                   name=&quot;adresse_candidat&quot;&#10;                                   placeholder=&quot;Ex: BP 1234, Quartier Essos&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;adressecandidat&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;villeresidence&quot; class=&quot;formbold-form-label required&quot;&gt;Ville de résidence&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('ville_residence', $this-&gt;form_data-&gt;ville_residence); ?&gt;&quot;&#10;                                   name=&quot;ville_residence&quot;&#10;                                   placeholder=&quot;Ex: Yaoundé, Douala...&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;villeresidence&quot;&#10;                                   type=&quot;text&quot;&#10;                                   required /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;telephone1&quot; class=&quot;formbold-form-label required&quot;&gt;Téléphone WhatsApp&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('telephone', $this-&gt;form_data-&gt;telephone); ?&gt;&quot;&#10;                                   name=&quot;telephone&quot;&#10;                                   placeholder=&quot;+237 6XX XXX XXX&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;telephone1&quot;&#10;                                   type=&quot;tel&quot;&#10;                                   required /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Numéro principal pour les communications (avec indicatif pays)&lt;/div&gt;&#10;                            &lt;?php if(form_error('telephone')): ?&gt;&#10;                                &lt;div class=&quot;form-error&quot;&gt;&lt;?php echo form_error('telephone'); ?&gt;&lt;/div&gt;&#10;                            &lt;?php endif; ?&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;telephone2&quot; class=&quot;formbold-form-label&quot;&gt;Téléphone secondaire&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('telephone2', $this-&gt;form_data-&gt;telephone2); ?&gt;&quot;&#10;                                   name=&quot;telephone2&quot;&#10;                                   placeholder=&quot;+237 6XX XXX XXX&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;telephone2&quot;&#10;                                   type=&quot;tel&quot; /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Numéro de contact alternatif (optionnel)&lt;/div&gt;&#10;                            &lt;?php if(form_error('telephone2')): ?&gt;&#10;                                &lt;div class=&quot;form-error&quot;&gt;&lt;?php echo form_error('telephone2'); ?&gt;&lt;/div&gt;&#10;                            &lt;?php endif; ?&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;email&quot; class=&quot;formbold-form-label required&quot;&gt;Adresse email&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('email', $this-&gt;form_data-&gt;email); ?&gt;&quot;&#10;                                   name=&quot;email&quot;&#10;                                   placeholder=&quot;votre.email@exemple.com&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;email&quot;&#10;                                   type=&quot;email&quot;&#10;                                   required&#10;                                   autocomplete=&quot;email&quot; /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Utilisée pour toutes les communications officielles&lt;/div&gt;&#10;                            &lt;?php if(form_error('email')): ?&gt;&#10;                                &lt;div class=&quot;form-error&quot;&gt;&lt;?php echo form_error('email'); ?&gt;&lt;/div&gt;&#10;                            &lt;?php endif; ?&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;emailverif&quot; class=&quot;formbold-form-label required&quot;&gt;Confirmer l'email&lt;/label&gt;&#10;                            &lt;input value=&quot;&lt;?php echo set_value('emailverif', $this-&gt;form_data-&gt;emailverif); ?&gt;&quot;&#10;                                   name=&quot;emailverif&quot;&#10;                                   placeholder=&quot;Confirmer votre email&quot;&#10;                                   class=&quot;formbold-form-input&quot;&#10;                                   id=&quot;emailverif&quot;&#10;                                   type=&quot;email&quot;&#10;                                   required /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Saisissez à nouveau votre adresse email&lt;/div&gt;&#10;                            &lt;?php if(form_error('emailverif')): ?&gt;&#10;                                &lt;div class=&quot;form-error&quot;&gt;&lt;?php echo form_error('emailverif'); ?&gt;&lt;/div&gt;&#10;                            &lt;?php endif; ?&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 4: Cursus Académique --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;section-cursus&quot;&gt;&#10;                    &lt;legend&gt;&#10;                        &lt;i class=&quot;fas fa-university&quot;&gt;&lt;/i&gt;&#10;                        IV – Cursus Académique&#10;                    &lt;/legend&gt;&#10;&#10;                    &lt;h4&gt; Dernier diplôme obtenu&lt;/h4&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_intitule&quot; class=&quot;formbold-form-label required&quot;&gt;Intitulé exact du diplôme&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_intitule&quot; id=&quot;dernier_diplome_intitule&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Licence&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_intitule) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_intitule=='Licence') echo 'selected'; ?&gt;&gt;Licence&lt;/option&gt;&#10;                                &lt;option value=&quot;Maîtrise&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_intitule) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_intitule=='Maîtrise') echo 'selected'; ?&gt;&gt;Maîtrise&lt;/option&gt;&#10;                                &lt;option value=&quot;DEA&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_intitule) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_intitule=='DEA') echo 'selected'; ?&gt;&gt;DEA&lt;/option&gt;&#10;                                &lt;option value=&quot;Doctorat&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_intitule) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_intitule=='Doctorat') echo 'selected'; ?&gt;&gt;Doctorat&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_specialite&quot; class=&quot;formbold-form-label required&quot;&gt;Spécialité / Filière&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;dernier_diplome_specialite&quot; id=&quot;dernier_diplome_specialite&quot; class=&quot;formbold-form-input&quot; placeholder=&quot;Ex. Économie, Finances, Gestion, Droit&quot; value=&quot;&lt;?php echo set_value('dernier_diplome_specialite', isset($this-&gt;form_data-&gt;dernier_diplome_specialite) ? $this-&gt;form_data-&gt;dernier_diplome_specialite : ''); ?&gt;&quot; required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_domaine&quot; class=&quot;formbold-form-label required&quot;&gt;Domaine du diplôme&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_domaine&quot; id=&quot;dernier_diplome_domaine&quot; class=&quot;formbold-form-input&quot; onchange=&quot;showHideAutreDomaine()&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Économie&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Économie') echo 'selected'; ?&gt;&gt;Économie&lt;/option&gt;&#10;                                &lt;option value=&quot;Finances&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Finances') echo 'selected'; ?&gt;&gt;Finances&lt;/option&gt;&#10;                                &lt;option value=&quot;Gestion&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Gestion') echo 'selected'; ?&gt;&gt;Gestion&lt;/option&gt;&#10;                                &lt;option value=&quot;Droit&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Droit') echo 'selected'; ?&gt;&gt;Droit&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Autre') echo 'selected'; ?&gt;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot; id=&quot;autre_domaine_row&quot; style=&quot;display: &lt;?php echo (isset($this-&gt;form_data-&gt;dernier_diplome_domaine) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_domaine=='Autre') ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                        &lt;div class=&quot;form-group&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_autre_domaine&quot; class=&quot;formbold-form-label&quot;&gt;Précisez le domaine&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;dernier_diplome_autre_domaine&quot; id=&quot;dernier_diplome_autre_domaine&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('dernier_diplome_autre_domaine', isset($this-&gt;form_data-&gt;dernier_diplome_autre_domaine) ? $this-&gt;form_data-&gt;dernier_diplome_autre_domaine : ''); ?&gt;&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_etablissement&quot; class=&quot;formbold-form-label required&quot;&gt;Établissement d'obtention&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;dernier_diplome_etablissement&quot; id=&quot;dernier_diplome_etablissement&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('dernier_diplome_etablissement', isset($this-&gt;form_data-&gt;dernier_diplome_etablissement) ? $this-&gt;form_data-&gt;dernier_diplome_etablissement : ''); ?&gt;&quot; required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_pays&quot; class=&quot;formbold-form-label required&quot;&gt;Pays de l'établissement&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_pays&quot; id=&quot;dernier_diplome_pays&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez un pays --&lt;/option&gt;&#10;                                &lt;?php if (!empty($pays)) { foreach ($pays as $p) { $selected = (isset($this-&gt;form_data-&gt;dernier_diplome_pays) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_pays == $p-&gt;id) ? 'selected' : ''; echo &quot;&lt;option value='{$p-&gt;id}' $selected&gt;{$p-&gt;nom}&lt;/option&gt;&quot;; } } ?&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_annee&quot; class=&quot;formbold-form-label required&quot;&gt;Année d'obtention&lt;/label&gt;&#10;                            &lt;input type=&quot;number&quot; min=&quot;1950&quot; max=&quot;&lt;?php echo date('Y'); ?&gt;&quot; name=&quot;dernier_diplome_annee&quot; id=&quot;dernier_diplome_annee&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('dernier_diplome_annee', isset($this-&gt;form_data-&gt;dernier_diplome_annee) ? $this-&gt;form_data-&gt;dernier_diplome_annee : ''); ?&gt;&quot; required /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_niveau&quot; class=&quot;formbold-form-label required&quot;&gt;Niveau académique&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_niveau&quot; id=&quot;dernier_diplome_niveau&quot; class=&quot;formbold-form-input&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;BAC+3&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_niveau) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_niveau=='BAC+3') echo 'selected'; ?&gt;&gt;BAC+3&lt;/option&gt;&#10;                                &lt;option value=&quot;BAC+4&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_niveau) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_niveau=='BAC+4') echo 'selected'; ?&gt;&gt;BAC+4&lt;/option&gt;&#10;                                &lt;option value=&quot;BAC+5 ou plus&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_niveau) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_niveau=='BAC+5 ou plus') echo 'selected'; ?&gt;&gt;BAC+5 ou plus&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;dernier_diplome_mention&quot; class=&quot;formbold-form-label&quot;&gt;Mention (facultatif)&lt;/label&gt;&#10;                            &lt;select name=&quot;dernier_diplome_mention&quot; id=&quot;dernier_diplome_mention&quot; class=&quot;formbold-form-input&quot;&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Passable&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Passable') echo 'selected'; ?&gt;&gt;Passable&lt;/option&gt;&#10;                                &lt;option value=&quot;Assez Bien&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Assez Bien') echo 'selected'; ?&gt;&gt;Assez Bien&lt;/option&gt;&#10;                                &lt;option value=&quot;Bien&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Bien') echo 'selected'; ?&gt;&gt;Bien&lt;/option&gt;&#10;                                &lt;option value=&quot;Très Bien&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Très Bien') echo 'selected'; ?&gt;&gt;Très Bien&lt;/option&gt;&#10;                                &lt;option value=&quot;Excellent&quot; &lt;?php if(isset($this-&gt;form_data-&gt;dernier_diplome_mention) &amp;&amp; $this-&gt;form_data-&gt;dernier_diplome_mention=='Excellent') echo 'selected'; ?&gt;&gt;Excellent&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 5: Situation et Expérience Professionnelles --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;section-professionnel&quot;&gt;&#10;                    &lt;legend&gt;&lt;i class=&quot;fas fa-briefcase&quot;&gt;&lt;/i&gt; V – Situation et Expérience Professionnelles&lt;/legend&gt;&#10;&#10;                    &lt;h4&gt; 1. Statut professionnel&lt;/h4&gt;&#10;                    &lt;!-- 1. Statut professionnel actuel --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot;&gt;Statut professionnel actuel&lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;statut_prof&quot; id=&quot;statut_prof&quot; onchange=&quot;toggleEmployerFields();&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez votre statut actuel --&lt;/option&gt;&#10;                                &lt;option value=&quot;Fonctionnaire&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Fonctionnaire&quot;) echo &quot;selected&quot;; ?&gt;&gt;Fonctionnaire&lt;/option&gt;&#10;                                &lt;option value=&quot;Employé du secteur privé&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Employé du secteur privé&quot; || $this-&gt;form_data-&gt;statut_prof === &quot;Travailleur_Privé&quot;) echo &quot;selected&quot;; ?&gt;&gt;Employé du secteur privé&lt;/option&gt;&#10;                                &lt;option value=&quot;Travailleur indépendant / consultant&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Travailleur indépendant / consultant&quot; || $this-&gt;form_data-&gt;statut_prof === &quot;Indépendant&quot;) echo &quot;selected&quot;; ?&gt;&gt;Travailleur indépendant / consultant&lt;/option&gt;&#10;                                &lt;option value=&quot;Étudiant / en recherche d'emploi&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Étudiant / en recherche d'emploi&quot; || $this-&gt;form_data-&gt;statut_prof === &quot;Etudiant&quot;) echo &quot;selected&quot;; ?&gt;&gt;Étudiant / en recherche d'emploi&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot; &lt;?php if ($this-&gt;form_data-&gt;statut_prof === &quot;Autre&quot;) echo &quot;selected&quot;; ?&gt;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div id=&quot;autre_statut_row&quot; class=&quot;form-row&quot; style=&quot;display: &lt;?php echo ($this-&gt;form_data-&gt;statut_prof === &quot;Autre&quot;) ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                        &lt;div class=&quot;form-group&quot;&gt;&#10;                            &lt;label for=&quot;autre_statut_prof&quot; class=&quot;formbold-form-label&quot;&gt;Précisez votre statut professionnel&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; name=&quot;autre_statut_prof&quot; id=&quot;autre_statut_prof&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('autre_statut_prof', isset($this-&gt;form_data-&gt;autre_statut_prof) ? $this-&gt;form_data-&gt;autre_statut_prof : ''); ?&gt;&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- 2. Informations sur l'organisation actuelle --&gt;&#10;                    &lt;div id=&quot;employer_info_section&quot; style=&quot;display: &lt;?php echo ($this-&gt;form_data-&gt;statut_prof !== &quot;Étudiant / en recherche d'emploi&quot; &amp;&amp; $this-&gt;form_data-&gt;statut_prof !== &quot;Etudiant&quot;) ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                        &lt;h4&gt; 2. Informations sur l'organisation actuelle&lt;/h4&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;structure&quot; class=&quot;formbold-form-label required&quot;&gt;Nom de l'employeur actuel&lt;/label&gt;&#10;                                &lt;input value=&quot;&lt;?php echo set_value('structure', $this-&gt;form_data-&gt;structure); ?&gt;&quot; placeholder=&quot;Ex. Ministère des Finances, Banque Atlantique&quot; name=&quot;structure&quot; class=&quot;formbold-form-input&quot; id=&quot;structure&quot; type=&quot;text&quot; required /&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;adresse_structure&quot; class=&quot;formbold-form-label required&quot;&gt;Adresse complète de l'employeur&lt;/label&gt;&#10;                                &lt;input value=&quot;&lt;?php echo set_value('adresse_structure', $this-&gt;form_data-&gt;adresse_structure); ?&gt;&quot; placeholder=&quot;Ex. BP 1234 Yaoundé, Cameroun&quot; name=&quot;adresse_structure&quot; class=&quot;formbold-form-input&quot; id=&quot;adresse_structure&quot; type=&quot;text&quot; required /&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;telephone_structure&quot; class=&quot;formbold-form-label&quot;&gt;Téléphone de l'employeur&lt;/label&gt;&#10;                                &lt;input value=&quot;&lt;?php echo isset($this-&gt;form_data-&gt;telephone_structure) ? set_value('telephone_structure', $this-&gt;form_data-&gt;telephone_structure) : set_value('telephone_structure', ''); ?&gt;&quot; placeholder=&quot;Téléphone de l'employeur&quot; name=&quot;telephone_structure&quot; class=&quot;formbold-form-input&quot; id=&quot;telephone_structure&quot; type=&quot;text&quot; /&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;email_structure&quot; class=&quot;formbold-form-label&quot;&gt;Email de l'employeur&lt;/label&gt;&#10;                                &lt;input value=&quot;&lt;?php echo isset($this-&gt;form_data-&gt;email_structure) ? set_value('email_structure', $this-&gt;form_data-&gt;email_structure) : set_value('email_structure', ''); ?&gt;&quot; name=&quot;email_structure&quot; placeholder=&quot;Email de l'employeur&quot; class=&quot;formbold-form-input&quot; id=&quot;email_structure&quot; type=&quot;email&quot; /&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;poste_actuel&quot; class=&quot;formbold-form-label required&quot;&gt;Poste occupé actuellement&lt;/label&gt;&#10;                                &lt;input type=&quot;text&quot; name=&quot;poste_actuel&quot; id=&quot;poste_actuel&quot; placeholder=&quot;Ex. Comptable, Analyste budgétaire&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('poste_actuel', isset($this-&gt;form_data-&gt;poste_actuel) ? $this-&gt;form_data-&gt;poste_actuel : ''); ?&gt;&quot; required /&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label for=&quot;date_debut_poste&quot; class=&quot;formbold-form-label required&quot;&gt;Date de début de ce poste&lt;/label&gt;&#10;                                &lt;input type=&quot;month&quot; name=&quot;date_debut_poste&quot; id=&quot;date_debut_poste&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('date_debut_poste', isset($this-&gt;form_data-&gt;date_debut_poste) ? $this-&gt;form_data-&gt;date_debut_poste : ''); ?&gt;&quot; required /&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div class=&quot;form-row&quot;&gt;&#10;                            &lt;div class=&quot;form-group half&quot;&gt;&#10;                                &lt;label class=&quot;formbold-form-label required&quot;&gt;Ce poste a-t-il un lien avec les finances publiques ?&lt;/label&gt;&#10;                                &lt;div class=&quot;radio-group&quot; role=&quot;radiogroup&quot;&gt;&#10;                                    &lt;div class=&quot;radio-item&quot;&gt;&#10;                                        &lt;input type=&quot;radio&quot; name=&quot;lien_finances_publiques&quot; id=&quot;lien_oui&quot; value=&quot;Oui&quot; &lt;?php if (isset($this-&gt;form_data-&gt;lien_finances_publiques) &amp;&amp; $this-&gt;form_data-&gt;lien_finances_publiques === 'Oui') echo 'checked'; ?&gt; required&gt;&#10;                                        &lt;label for=&quot;lien_oui&quot;&gt;Oui&lt;/label&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div class=&quot;radio-item&quot;&gt;&#10;                                        &lt;input type=&quot;radio&quot; name=&quot;lien_finances_publiques&quot; id=&quot;lien_partiel&quot; value=&quot;Partiellement&quot; &lt;?php if (isset($this-&gt;form_data-&gt;lien_finances_publiques) &amp;&amp; $this-&gt;form_data-&gt;lien_finances_publiques === 'Partiellement') echo 'checked'; ?&gt; required&gt;&#10;                                        &lt;label for=&quot;lien_partiel&quot;&gt;Partiellement&lt;/label&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div class=&quot;radio-item&quot;&gt;&#10;                                        &lt;input type=&quot;radio&quot; name=&quot;lien_finances_publiques&quot; id=&quot;lien_non&quot; value=&quot;Non&quot; &lt;?php if (isset($this-&gt;form_data-&gt;lien_finances_publiques) &amp;&amp; $this-&gt;form_data-&gt;lien_finances_publiques === 'Non') echo 'checked'; ?&gt; required&gt;&#10;                                        &lt;label for=&quot;lien_non&quot;&gt;Non&lt;/label&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div id=&quot;lien_partiel_explication&quot; class=&quot;form-row&quot; style=&quot;display: &lt;?php echo (isset($this-&gt;form_data-&gt;lien_finances_publiques) &amp;&amp; $this-&gt;form_data-&gt;lien_finances_publiques === 'Partiellement') ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                            &lt;div class=&quot;form-group&quot;&gt;&#10;                                &lt;label for=&quot;explication_lien_partiel&quot; class=&quot;formbold-form-label&quot;&gt;Veuillez expliquer&lt;/label&gt;&#10;                                &lt;textarea name=&quot;explication_lien_partiel&quot; id=&quot;explication_lien_partiel&quot; class=&quot;formbold-form-input&quot; rows=&quot;3&quot;&gt;&lt;?php echo set_value('explication_lien_partiel', isset($this-&gt;form_data-&gt;explication_lien_partiel) ? $this-&gt;form_data-&gt;explication_lien_partiel : ''); ?&gt;&lt;/textarea&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- 3. Total d'années d'expérience professionnelle --&gt;&#10;                    &lt;h4&gt; 3. Total d'années d'expérience professionnelle&lt;/h4&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label for=&quot;total_annees_experience&quot; class=&quot;formbold-form-label&quot;&gt;Nombre total d'années d'expérience&lt;/label&gt;&#10;                            &lt;input type=&quot;number&quot; min=&quot;0&quot; step=&quot;0.5&quot; name=&quot;total_annees_experience&quot; id=&quot;total_annees_experience&quot; class=&quot;formbold-form-input&quot; value=&quot;&lt;?php echo set_value('total_annees_experience', isset($this-&gt;form_data-&gt;total_annees_experience) ? $this-&gt;form_data-&gt;total_annees_experience : ''); ?&gt;&quot; /&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Indiquez une estimation du total de vos années d'expérience professionnelle&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;!-- SECTION 6: Avis --&gt;&#10;                &lt;!-- SECTION 6: Avis --&gt;&#10;                &lt;div class=&quot;form-section&quot;&gt;&#10;                    &lt;legend&gt;&lt;i class=&quot;fas fa-comment-alt&quot;&gt;&lt;/i&gt; Votre avis nous intéresse&lt;/legend&gt;&#10;&#10;                    &lt;!-- Question 1 --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;niveau_connaissance_fp&quot;&gt;&#10;                                Quel est votre niveau de connaissance des finances publiques ?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;niveau_connaissance_fp&quot; id=&quot;niveau_connaissance_fp&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Faible&quot;&gt;Faible&lt;/option&gt;&#10;                                &lt;option value=&quot;Moyen&quot;&gt;Moyen&lt;/option&gt;&#10;                                &lt;option value=&quot;Bon&quot;&gt;Bon&lt;/option&gt;&#10;                                &lt;option value=&quot;Très bon&quot;&gt;Très bon&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- Question 2 --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;motivation_pssfp&quot;&gt;&#10;                                Pourquoi avoir choisi le PSSFP ?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;motivation_pssfp&quot; id=&quot;motivation_pssfp&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Renforcer mes capacités&quot;&gt;Renforcer mes capacités&lt;/option&gt;&#10;                                &lt;option value=&quot;Être plus performant&quot;&gt;Être plus performant&lt;/option&gt;&#10;                                &lt;option value=&quot;Obtenir un diplôme de master&quot;&gt;Obtenir un diplôme de master&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- Question 3 --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;utilite_formation&quot;&gt;&#10;                                En quoi la formation du PSSFP pourrait-elle vous être utile ?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;utilite_formation&quot; id=&quot;utilite_formation&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Améliorer mes compétences professionnelles&quot;&gt;Améliorer mes compétences professionnelles&lt;/option&gt;&#10;                                &lt;option value=&quot;Accéder à des postes plus élevés&quot;&gt;Accéder à des postes plus élevés&lt;/option&gt;&#10;                                &lt;option value=&quot;Mieux comprendre les enjeux des finances publiques&quot;&gt;Mieux comprendre les enjeux des finances publiques&lt;/option&gt;&#10;                                &lt;option value=&quot;Développer mon réseau professionnel&quot;&gt;Développer mon réseau professionnel&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;!-- Question 4 --&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;domaines_interet_fp&quot;&gt;&#10;                                Quels sont les domaines des finances publiques qui vous intéressent ?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;domaines_interet_fp&quot; id=&quot;domaines_interet_fp&quot; required&gt;&#10;                                &lt;option value=&quot;&quot;&gt;-- Sélectionnez --&lt;/option&gt;&#10;                                &lt;option value=&quot;Gestion budgétaire&quot;&gt;Gestion budgétaire&lt;/option&gt;&#10;                                &lt;option value=&quot;Fiscalité&quot;&gt;Fiscalité&lt;/option&gt;&#10;                                &lt;option value=&quot;Comptabilité publique&quot;&gt;Comptabilité publique&lt;/option&gt;&#10;                                &lt;option value=&quot;Audit public&quot;&gt;Audit public&lt;/option&gt;&#10;                                &lt;option value=&quot;Marchés publics&quot;&gt;Marchés publics&lt;/option&gt;&#10;                                &lt;option value=&quot;Tous ces domaines&quot;&gt;Tous ces domaines&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;div class=&quot;form-row&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label required&quot; for=&quot;howDidYouKnewUs&quot;&gt;&#10;                                Comment avez-vous connu le PSSFP&amp;nbsp;?&#10;                            &lt;/label&gt;&#10;                            &lt;select class=&quot;formbold-form-input&quot; name=&quot;howDidYouKnewUs&quot; id=&quot;howDidYouKnewUs&quot; required&gt;&#10;                                &lt;option value=&quot;&quot; disabled &lt;?php if (empty($this-&gt;form_data-&gt;howDidYouKnewUs)) echo &quot;selected&quot;; ?&gt;&gt;-- Sélectionnez une option --&lt;/option&gt;&#10;                                &lt;option value=&quot;Cameroun Tribune&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Cameroun Tribune&quot;) echo &quot;selected&quot;; ?&gt;&gt;Cameroun Tribune&lt;/option&gt;&#10;                                &lt;option value=&quot;Banderoles et affiches publicitaires&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Banderoles et affiches publicitaires&quot;) echo &quot;selected&quot;; ?&gt;&gt;Banderoles et affiches publicitaires&lt;/option&gt;&#10;                                &lt;option value=&quot;Internet et réseaux sociaux&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Internet et réseaux sociaux&quot;) echo &quot;selected&quot;; ?&gt;&gt;Internet et réseaux sociaux&lt;/option&gt;&#10;                                &lt;option value=&quot;Média Radio et TV&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Média Radio et TV&quot;) echo &quot;selected&quot;; ?&gt;&gt;Média Radio et TV&lt;/option&gt;&#10;                                &lt;option value=&quot;Campagne de sensibilisation des équipes du PSSFP sur le terrain&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Campagne de sensibilisation des équipes du PSSFP sur le terrain&quot;) echo &quot;selected&quot;; ?&gt;&gt;Campagne de sensibilisation des équipes du PSSFP sur le terrain&lt;/option&gt;&#10;                                &lt;option value=&quot;Recommandation d'un ancien&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Recommandation d'un ancien&quot;) echo &quot;selected&quot;; ?&gt;&gt;Recommandation d'un ancien&lt;/option&gt;&#10;                                &lt;option value=&quot;Autre&quot; &lt;?php if ($this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Autre&quot;) echo &quot;selected&quot;; ?&gt;&gt;Autre&lt;/option&gt;&#10;                            &lt;/select&gt;&#10;                            &lt;div class=&quot;input-help-text&quot;&gt;Merci de nous indiquer comment vous avez entendu parler du programme.&lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                    &lt;div class=&quot;form-row&quot; id=&quot;howDidYouKnewUs_autre_row&quot; style=&quot;display: &lt;?php echo (isset($this-&gt;form_data-&gt;howDidYouKnewUs) &amp;&amp; $this-&gt;form_data-&gt;howDidYouKnewUs === &quot;Autre&quot;) ? 'block' : 'none'; ?&gt;&quot;&gt;&#10;                        &lt;div class=&quot;form-group half&quot;&gt;&#10;                            &lt;label class=&quot;formbold-form-label&quot; for=&quot;howDidYouKnewUs_autre&quot;&gt;Précisez&amp;nbsp;:&lt;/label&gt;&#10;                            &lt;input type=&quot;text&quot; class=&quot;formbold-form-input&quot; name=&quot;howDidYouKnewUs_autre&quot; id=&quot;howDidYouKnewUs_autre&quot; value=&quot;&lt;?php echo set_value('howDidYouKnewUs_autre', isset($this-&gt;form_data-&gt;howDidYouKnewUs_autre) ? $this-&gt;form_data-&gt;howDidYouKnewUs_autre : ''); ?&gt;&quot; /&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;                &lt;script&gt;&#10;                    document.getElementById('region_dorigine').addEventListener('change', function() {&#10;                        const regionId = this.value;&#10;                        const deptSelect = document.getElementById('dept_dorigine');&#10;&#10;                        if (regionId) {&#10;&#10;                            deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Chargement...&lt;/option&gt;';&#10;&#10;                            // Utiliser la bonne URL&#10;                            fetch(`&lt;?= base_url() ?&gt;index.php/candidature/get_departements_by_region/${regionId}`)&#10;                                .then(response =&gt; {&#10;                                    if (!response.ok) {&#10;                                        throw new Error('Erreur réseau', response.status);&#10;                                    }&#10;                                    return response.json();&#10;                                })&#10;                                .then(data =&gt; {&#10;                                    deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez un département --&lt;/option&gt;';&#10;                                    data.forEach(dept =&gt; {&#10;                                        deptSelect.innerHTML += `&lt;option value=&quot;${dept.id}&quot;&gt;${dept.nom}&lt;/option&gt;`;&#10;                                    });&#10;                                })&#10;                                .catch(error =&gt; {&#10;                                    console.error('Erreur:', error);&#10;                                    deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Erreur de chargement&lt;/option&gt;';&#10;                                });&#10;                        } else {&#10;                            deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez d\'abord une région --&lt;/option&gt;';&#10;                        }&#10;                    });&#10;                    document.addEventListener('DOMContentLoaded', function() {&#10;                        const select = document.getElementById('howDidYouKnewUs');&#10;                        const autreRow = document.getElementById('howDidYouKnewUs_autre_row');&#10;                        if (select) {&#10;                            select.addEventListener('change', function() {&#10;                                if (this.value === 'Autre') {&#10;                                    autreRow.style.display = 'block';&#10;                                } else {&#10;                                    autreRow.style.display = 'none';&#10;                                    const input = document.getElementById('howDidYouKnewUs_autre');&#10;                                    if (input) input.value = '';&#10;                                }&#10;                            });&#10;                        }&#10;                    });&#10;                &lt;/script&gt;&#10;&#10;                &lt;!-- SECTION 7: Engagement --&gt;&#10;                &lt;div class=&quot;form-section&quot;&gt;&#10;                    &lt;legend&gt;&lt;i class=&quot;fas fa-handshake&quot;&gt;&lt;/i&gt; Engagement&lt;/legend&gt;&#10;                    &lt;div class=&quot;panel-body&quot; style=&quot;text-align: justify; font-size: 1rem; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;&quot;&gt;&#10;                        Je soussigné(e) &lt;strong id=&quot;label_sous&quot;&gt;&lt;?php echo isset($this-&gt;form_data-&gt;nom) &amp;&amp; isset($this-&gt;form_data-&gt;prenom) ? $this-&gt;form_data-&gt;nom . ' ' . $this-&gt;form_data-&gt;prenom : ''; ?&gt;&lt;/strong&gt;, certifie sur l'honneur l'exactitude des renseignements consignés dans cette fiche de candidature et avoir eu connaissance des conditions exigées pour être retenu comme candidat au programme de Master Professionnel en Finances Publiques.&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;checkbox-group&quot;&gt;&#10;                        &lt;label class=&quot;checkbox-item&quot;&gt;&#10;                            &lt;input type=&quot;checkbox&quot; name=&quot;engagement&quot; id=&quot;checkbox_engagement&quot; required&gt;&#10;                            J'ai lu et j'accepte &lt;a href=&quot;#&quot; target=&quot;_blank&quot;&gt;les termes, conditions et politiques&lt;/a&gt;&#10;                        &lt;/label&gt;&#10;                        &lt;div id=&quot;engagement_error&quot; class=&quot;form-error&quot; style=&quot;display: none; color: #dc3545; margin-top: 5px;&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-exclamation-circle&quot;&gt;&lt;/i&gt; Vous devez accepter les termes et conditions pour continuer.&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;script&gt;&#10;                    // Validation du formulaire pour vérifier que la case est cochée&#10;                    document.getElementById('candidatureForm').addEventListener('submit', function(event) {&#10;                        console.log('Form submission triggered');&#10;                        const checkbox = document.getElementById('checkbox_engagement');&#10;                        const errorMsg = document.getElementById('engagement_error');&#10;&#10;&#10;&#10;                        if (!checkbox.checked) {&#10;                            event.preventDefault();&#10;                            errorMsg.style.display = 'block';&#10;                            // Scroll to the checkbox&#10;                            checkbox.scrollIntoView({ behavior: 'smooth', block: 'center' });&#10;                            // Highlight the checkbox&#10;                            checkbox.parentElement.style.boxShadow = '0 0 0 2px #dc3545';&#10;                            return false;&#10;                        } else {&#10;                            errorMsg.style.display = 'none';&#10;                            checkbox.parentElement.style.boxShadow = 'none';&#10;                        }&#10;                    });&#10;                &lt;/script&gt;&#10;                &lt;!-- SECTION 8: Revue des informations --&gt;&#10;                &lt;div class=&quot;form-section&quot; id=&quot;review-section&quot;&gt;&#10;                    &lt;legend&gt;&lt;i class=&quot;fas fa-check-double&quot;&gt;&lt;/i&gt; Revue des Informations&lt;/legend&gt;&#10;                    &lt;p class=&quot;review-intro&quot;&gt;Veuillez vérifier attentivement toutes les informations saisies avant de soumettre votre candidature.&lt;/p&gt;&#10;&#10;                    &lt;div class=&quot;review-container&quot;&gt;&#10;                        &lt;!-- Formation --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-graduation-cap&quot;&gt;&lt;/i&gt; Formation&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Spécialité de formation&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-specialite&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Mode de formation&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-type_etude&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Identité --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt; Identité&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Langue principale&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-langue&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Civilité&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-civilite&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Nom&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-nom&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Prénom(s)&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-prenom&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-epouse-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Nom d'épouse&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-epouse&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Date de naissance&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-date_naissance&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Lieu de naissance&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-lieu_de_naissce&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Nationalité&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-nationalite&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Région d'origine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-region_dorigine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Département d'origine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dept_dorigine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Statut matrimonial&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-statu_matrimonial&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Nombre d'enfants&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-nombre_enfant&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Contact --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-address-book&quot;&gt;&lt;/i&gt; Contact&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Pays d'origine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-paysorigine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Pays de résidence&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-pays_residence&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Adresse&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-adresse_candidat&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Ville de résidence&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-ville_residence&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Téléphone WhatsApp&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-telephone&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Téléphone secondaire&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-telephone2&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Email&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-email&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Cursus Académique --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-university&quot;&gt;&lt;/i&gt; Cursus académique&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Intitulé du dernier diplôme&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_intitule&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Spécialité / Filière&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_specialite&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Domaine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_domaine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-autre-domaine-container&quot; style=&quot;display: none;&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Précision domaine&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_autre_domaine&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Établissement&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_etablissement&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Pays de l'établissement&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_pays&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Année d'obtention&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_annee&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Niveau académique&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_niveau&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Mention&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-dernier_diplome_mention&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Informations professionnelles --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-briefcase&quot;&gt;&lt;/i&gt; Informations professionnelles&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Statut professionnel&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-statut_prof&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-autre-statut-container&quot; style=&quot;display: none;&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Précision statut&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-autre_statut_prof&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-employeur-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Employeur actuel&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-structure&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-adresse-structure-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Adresse employeur&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-adresse_structure&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-tel-structure-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Téléphone employeur&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-telephone_structure&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-email-structure-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Email employeur&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-email_structure&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-poste-actuel-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Poste occupé&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-poste_actuel&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-date-debut-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Date de début de poste&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-date_debut_poste&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-lien-finances-container&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Lien avec finances publiques&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-lien_finances_publiques&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-explication-lien-container&quot; style=&quot;display: none;&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Explication lien partiel&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-explication_lien_partiel&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Années d'expérience&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-total_annees_experience&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;!-- Nouvelles questions --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-comment-alt&quot;&gt;&lt;/i&gt; Votre avis&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Niveau connaissance FP&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-niveau_connaissance_fp&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Motivation PSSFP&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-motivation_pssfp&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Utilité formation&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-utilite_formation&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Domaines d'intérêt FP&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-domaines_interet_fp&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;!-- Connaissance du programme --&gt;&#10;                        &lt;div class=&quot;review-section&quot;&gt;&#10;                            &lt;h3&gt;&lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt; Comment vous avez connu le programme&lt;/h3&gt;&#10;                            &lt;div class=&quot;review-grid&quot;&gt;&#10;                                &lt;div class=&quot;review-item&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Source d'information&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-howDidYouKnewUs&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div class=&quot;review-item&quot; id=&quot;review-autre-source-container&quot; style=&quot;display: none;&quot;&gt;&#10;                                    &lt;span class=&quot;review-label&quot;&gt;Précision source&lt;/span&gt;&#10;                                    &lt;span class=&quot;review-value&quot; id=&quot;review-howDidYouKnewUs_autre&quot;&gt;-&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div class=&quot;review-actions&quot;&gt;&#10;                        &lt;button type=&quot;button&quot; class=&quot;btn btn-warning&quot; id=&quot;edit-submission&quot;&gt;&#10;                            &lt;i class=&quot;fas fa-edit&quot;&gt;&lt;/i&gt; Modifier mes informations&#10;                        &lt;/button&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;script&gt;&#10;                    // Script pour pré-remplir la section de revue&#10;                    document.addEventListener('DOMContentLoaded', function() {&#10;                        // Fonction pour mettre à jour les valeurs de revue&#10;                        function updateReviewValues() {&#10;                            // Formation&#10;                            updateSelectReviewValue('id_specialite', 'review-specialite');&#10;                            updateRadioReviewValue('type_etude', 'review-type_etude');&#10;&#10;                            // Identité&#10;                            updateSelectReviewValue('langue1', 'review-langue');&#10;                            updateSelectReviewValue('civilite', 'review-civilite');&#10;                            updateInputReviewValue('nom', 'review-nom');&#10;                            updateInputReviewValue('prenom', 'review-prenom');&#10;                            updateInputReviewValue('epouse', 'review-epouse');&#10;&#10;                            // Date de naissance&#10;                            updateInputReviewValue('date_naissance', 'review-date_naissance');&#10;&#10;                            updateInputReviewValue('lieu_de_naissce', 'review-lieu_de_naissce');&#10;                            updateInputReviewValue('nationalite', 'review-nationalite');&#10;                            updateInputReviewValue('region_dorigine', 'review-region_dorigine');&#10;                            updateInputReviewValue('dept_dorigine', 'review-dept_dorigine');&#10;                            updateSelectReviewValue('statu_matrimonial', 'review-statu_matrimonial');&#10;                            updateInputReviewValue('nombre_enfant', 'review-nombre_enfant');&#10;&#10;                            // Contact&#10;                            updateSelectReviewValue('paysorigine', 'review-paysorigine');&#10;                            updateSelectReviewValue('pays', 'review-pays_residence');&#10;                            updateInputReviewValue('adressecandidat', 'review-adresse_candidat');&#10;                            updateInputReviewValue('villeresidence', 'review-ville_residence');&#10;                            updateInputReviewValue('telephone1', 'review-telephone');&#10;                            updateInputReviewValue('telephone2', 'review-telephone2');&#10;                            updateInputReviewValue('email', 'review-email');&#10;&#10;                            // Cursus Académique&#10;                            updateInputReviewValue('dernier_diplome_intitule', 'review-dernier_diplome_intitule');&#10;                            updateInputReviewValue('dernier_diplome_specialite', 'review-dernier_diplome_specialite');&#10;                            updateSelectReviewValue('dernier_diplome_domaine', 'review-dernier_diplome_domaine');&#10;                            updateInputReviewValue('dernier_diplome_autre_domaine', 'review-dernier_diplome_autre_domaine');&#10;                            updateInputReviewValue('dernier_diplome_etablissement', 'review-dernier_diplome_etablissement');&#10;                            updateSelectReviewValue('dernier_diplome_pays', 'review-dernier_diplome_pays');&#10;                            updateInputReviewValue('dernier_diplome_annee', 'review-dernier_diplome_annee');&#10;                            updateSelectReviewValue('dernier_diplome_niveau', 'review-dernier_diplome_niveau');&#10;                            updateSelectReviewValue('dernier_diplome_mention', 'review-dernier_diplome_mention');&#10;&#10;                            // Situation Professionnelle&#10;                            updateSelectReviewValue('statut_prof', 'review-statut_prof');&#10;                            updateInputReviewValue('autre_statut_prof', 'review-autre_statut_prof');&#10;                            updateInputReviewValue('structure', 'review-structure');&#10;                            updateInputReviewValue('adresse_structure', 'review-adresse_structure');&#10;                            updateInputReviewValue('telephone_structure', 'review-telephone_structure');&#10;                            updateInputReviewValue('email_structure', 'review-email_structure');&#10;                            updateInputReviewValue('poste_actuel', 'review-poste_actuel');&#10;                            updateInputReviewValue('date_debut_poste', 'review-date_debut_poste');&#10;                            updateRadioReviewValue('lien_finances_publiques', 'review-lien_finances_publiques');&#10;                            updateInputReviewValue('explication_lien_partiel', 'review-explication_lien_partiel');&#10;                            updateInputReviewValue('total_annees_experience', 'review-total_annees_experience');&#10;                            // Nouvelles questions&#10;                            updateSelectReviewValue('niveau_connaissance_fp', 'review-niveau_connaissance_fp');&#10;                            updateSelectReviewValue('motivation_pssfp', 'review-motivation_pssfp');&#10;                            updateSelectReviewValue('utilite_formation', 'review-utilite_formation');&#10;                            updateSelectReviewValue('domaines_interet_fp', 'review-domaines_interet_fp');&#10;                            // Comment vous avez connu le programme&#10;                            updateSelectReviewValue('howDidYouKnewUs', 'review-howDidYouKnewUs');&#10;                            updateInputReviewValue('howDidYouKnewUs_autre', 'review-howDidYouKnewUs_autre');&#10;&#10;                            // Affichage conditionnel des éléments&#10;                            toggleReviewElementVisibility('review-epouse-container', document.getElementById('civilite').value !== 'Monsieur');&#10;                            toggleReviewElementVisibility('review-autre-domaine-container', document.getElementById('dernier_diplome_domaine').value === 'Autre');&#10;                            toggleReviewElementVisibility('review-autre-statut-container', document.getElementById('statut_prof').value === 'Autre');&#10;&#10;                            const statutProf = document.getElementById('statut_prof').value;&#10;                            const estEtudiant = statutProf === &quot;Étudiant / en recherche d'emploi&quot; || statutProf === &quot;Etudiant&quot;;&#10;                            toggleReviewElementVisibility('review-employeur-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-adresse-structure-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-tel-structure-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-email-structure-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-poste-actuel-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-date-debut-container', !estEtudiant);&#10;                            toggleReviewElementVisibility('review-lien-finances-container', !estEtudiant);&#10;&#10;                            toggleReviewElementVisibility('review-explication-lien-container',&#10;                                document.querySelector('input[name=&quot;lien_finances_publiques&quot;]:checked')?.value === 'Partiellement');&#10;&#10;                            toggleReviewElementVisibility('review-autre-source-container',&#10;                                document.getElementById('howDidYouKnewUs').value === 'Autre');&#10;                        }&#10;&#10;                        // Helper pour mettre à jour les valeurs de champs input&#10;                        function updateInputReviewValue(inputId, reviewId) {&#10;                            const input = document.getElementById(inputId);&#10;                            const review = document.getElementById(reviewId);&#10;                            if (input &amp;&amp; review) {&#10;                                review.textContent = input.value || '-';&#10;                            }&#10;                        }&#10;&#10;                        // Helper pour mettre à jour les valeurs de champs select&#10;                        function updateSelectReviewValue(selectId, reviewId) {&#10;                            const select = document.getElementById(selectId);&#10;                            const review = document.getElementById(reviewId);&#10;                            if (select &amp;&amp; review &amp;&amp; select.selectedIndex !== -1) {&#10;                                review.textContent = select.options[select.selectedIndex].text;&#10;                                // Si c'est &quot;--&quot; ou &quot;Sélectionnez&quot;, afficher &quot;-&quot; à la place&#10;                                if (review.textContent.includes('--') ||&#10;                                    review.textContent.includes('Sélectionnez') ||&#10;                                    review.textContent === '') {&#10;                                    review.textContent = '-';&#10;                                }&#10;                            }&#10;                        }&#10;&#10;                        // Helper pour mettre à jour les valeurs de boutons radio&#10;                        function updateRadioReviewValue(radioName, reviewId) {&#10;                            const checkedRadio = document.querySelector('input[name=&quot;' + radioName + '&quot;]:checked');&#10;                            const review = document.getElementById(reviewId);&#10;                            if (checkedRadio &amp;&amp; review) {&#10;                                if (radioName === 'type_etude') {&#10;                                    // Pour le mode de formation, on veut afficher &quot;Présentiel&quot; ou &quot;Distanciel&quot;&#10;                                    review.textContent = (checkedRadio.value === 'Presentiel') ? 'Présentiel' : 'Distanciel';&#10;                                } else {&#10;                                    review.textContent = checkedRadio.value || '-';&#10;                                }&#10;                            } else if (review) {&#10;                                review.textContent = '-';&#10;                            }&#10;                        }&#10;&#10;                        // Helper pour gérer l'affichage des éléments conditionnels&#10;                        function toggleReviewElementVisibility(containerId, condition) {&#10;                            const container = document.getElementById(containerId);&#10;                            if (container) {&#10;                                container.style.display = condition ? 'flex' : 'none';&#10;                            }&#10;                        }&#10;&#10;                        // Mettre à jour la revue quand on change de section&#10;                        const formSections = document.querySelectorAll('.form-section');&#10;                        formSections.forEach(section =&gt; {&#10;                            section.addEventListener('blur', updateReviewValues, true);&#10;                        });&#10;&#10;                        // Mettre à jour la revue quand on clique sur le bouton de revue&#10;                        document.querySelector('.progress-step:last-child').addEventListener('click', updateReviewValues);&#10;&#10;                        // Mettre à jour la revue au chargement initial de la page&#10;                        updateReviewValues();&#10;&#10;                        // Bouton pour revenir à l'édition&#10;                        document.getElementById('edit-submission').addEventListener('click', function() {&#10;                            const sections = document.querySelectorAll('.form-section');&#10;                            sections.forEach(section =&gt; {&#10;                                section.classList.remove('active');&#10;                            });&#10;                            sections[0].classList.add('active'); // Retourner à la première section&#10;&#10;                            // Mettre à jour l'état des étapes&#10;                            document.querySelectorAll('.progress-step').forEach((step, index) =&gt; {&#10;                                if (index === 0) {&#10;                                    step.classList.add('active');&#10;                                } else {&#10;                                    step.classList.remove('active');&#10;                                }&#10;                            });&#10;                        });&#10;                    });&#10;                &lt;/script&gt;&#10;&#10;                &lt;div class=&quot;form-actions&quot;&gt;&#10;                    &lt;button name=&quot;enretistrer&quot; id=&quot;subenregistrer&quot; class=&quot;btn btn-success&quot; type=&quot;submit&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-paper-plane&quot;&gt;&lt;/i&gt; Soumettre ma candidature&#10;                    &lt;/button&gt;&#10;                    &lt;button type=&quot;reset&quot; class=&quot;btn btn-danger&quot;&gt;&#10;                        &lt;i class=&quot;fas fa-undo&quot;&gt;&lt;/i&gt; Réinitialiser&#10;                    &lt;/button&gt;&#10;                &lt;/div&gt;&#10;&#10;            &lt;/form&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;!-- Load JavaScript at the end for better performance --&gt;&#10;&lt;script src=&quot;&lt;?= base_url() ?&gt;resources/js/modern-form.js&quot;&gt;&lt;/script&gt;&#10;&lt;script src=&quot;&lt;?= base_url() ?&gt;resources/js/review-form.js&quot;&gt;&lt;/script&gt;&#10;&#10;&lt;script&gt;&#10;document.addEventListener('DOMContentLoaded', function() {&#10;    const paysOrigineSelect = document.getElementById('paysorigine');&#10;    const regionSelect = document.getElementById('region_dorigine');&#10;    const deptSelect = document.getElementById('dept_dorigine');&#10;    const regionAutreInput = document.getElementById('region_dorigine_autre');&#10;    const deptAutreInput = document.getElementById('dept_dorigine_autre');&#10;&#10;    function fetchDepartements(regionId) {&#10;        if (regionId) {&#10;            deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Chargement...&lt;/option&gt;';&#10;            fetch(`&lt;?= base_url() ?&gt;index.php/candidature/get_departements_by_region/${regionId}`)&#10;                .then(response =&gt; {&#10;                    if (!response.ok) {&#10;                        throw new Error('Erreur réseau');&#10;                    }&#10;                    return response.json();&#10;                })&#10;                .then(data =&gt; {&#10;                    deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez un département --&lt;/option&gt;';&#10;                    data.forEach(dept =&gt; {&#10;                        deptSelect.innerHTML += `&lt;option value=&quot;${dept.id}&quot;&gt;${dept.nom}&lt;/option&gt;`;&#10;                    });&#10;                })&#10;                .catch(error =&gt; {&#10;                    console.error('Erreur:', error);&#10;                    deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;Erreur de chargement&lt;/option&gt;';&#10;                });&#10;        } else {&#10;            deptSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez d\'abord une région --&lt;/option&gt;';&#10;        }&#10;    }&#10;&#10;    function toggleRegionDeptFields() {&#10;        console.log('Toggle region and department fields based on country selection', paysOrigineSelect.value);&#10;        const selectedOption = paysOrigineSelect.options[paysOrigineSelect.selectedIndex];&#10;        const isCameroun = paysOrigineSelect.value == '41';&#10;&#10;        const regionGroup = regionSelect.closest('.form-row');&#10;        const deptGroup = deptSelect.closest('.form-row');&#10;        const regionAutreGroup = regionAutreInput.closest('.form-row');&#10;        const deptAutreGroup = deptAutreInput.closest('.form-row');&#10;&#10;        if (isCameroun) {&#10;            regionGroup.style.display = 'flex';&#10;            deptGroup.style.display = 'flex';&#10;            regionAutreGroup.style.display = 'none';&#10;            deptAutreGroup.style.display = 'none';&#10;&#10;            regionSelect.setAttribute('required', 'required');&#10;            deptSelect.setAttribute('required', 'required');&#10;            regionAutreInput.removeAttribute('required');&#10;            deptAutreInput.removeAttribute('required');&#10;&#10;            if (regionSelect.options.length &lt;= 1) {&#10;                fetchRegions();&#10;            }&#10;        } else if (selectedOption &amp;&amp; paysOrigineSelect.value) { // Another country is selected&#10;            regionGroup.style.display = 'none';&#10;            deptGroup.style.display = 'none';&#10;            regionAutreGroup.style.display = 'flex';&#10;            deptAutreGroup.style.display = 'flex';&#10;&#10;            regionSelect.removeAttribute('required');&#10;            deptSelect.removeAttribute('required');&#10;            regionAutreInput.setAttribute('required', 'required');&#10;            deptAutreInput.setAttribute('required', 'required');&#10;        } else { // No country selected&#10;            regionGroup.style.display = 'none';&#10;            deptGroup.style.display = 'none';&#10;            regionAutreGroup.style.display = 'none';&#10;            deptAutreGroup.style.display = 'none';&#10;&#10;            regionSelect.removeAttribute('required');&#10;            deptSelect.removeAttribute('required');&#10;            regionAutreInput.removeAttribute('required');&#10;            deptAutreInput.removeAttribute('required');&#10;        }&#10;    }&#10;&#10;    function fetchRegions() {&#10;        fetch('&lt;?= base_url() ?&gt;candidature/get_regions')&#10;            .then(response =&gt; response.json())&#10;            .then(data =&gt; {&#10;                regionSelect.innerHTML = '&lt;option value=&quot;&quot;&gt;-- Sélectionnez une région --&lt;/option&gt;';&#10;                data.forEach(region =&gt; {&#10;                    regionSelect.innerHTML += `&lt;option value=&quot;${region.id}&quot;&gt;${region.nom}&lt;/option&gt;`;&#10;                });&#10;            });&#10;    }&#10;&#10;    paysOrigineSelect.addEventListener('change', toggleRegionDeptFields);&#10;&#10;    regionSelect.addEventListener('change', function() {&#10;        const regionId = this.value;&#10;        fetchDepartements(regionId);&#10;    });&#10;&#10;    // Exécuter au chargement de la page&#10;    toggleRegionDeptFields();&#10;});&#10;&lt;/script&gt;&#10;&#10;&lt;/body&gt;&#10;&lt;/html&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/regions_departements.sql">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/regions_departements.sql" />
              <option name="updatedContent" value="--&#10;-- Structure de la table `regions`&#10;--&#10;&#10;CREATE TABLE `regions` (&#10;  `id` int(11) NOT NULL,&#10;  `nom` varchar(255) NOT NULL&#10;) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#10;&#10;--&#10;-- Déchargement des données de la table `regions`&#10;--&#10;&#10;INSERT INTO `regions` (`id`, `nom`) VALUES&#10;(1, 'Adamaoua'),&#10;(2, 'Centre'),&#10;(3, 'Est'),&#10;(4, 'Extrême-Nord'),&#10;(5, 'Littoral'),&#10;(6, 'Nord'),&#10;(7, 'Nord-Ouest'),&#10;(8, 'Ouest'),&#10;(9, 'Sud'),&#10;(10, 'Sud-Ouest');&#10;&#10;-- --------------------------------------------------------&#10;&#10;--&#10;-- Structure de la table `departements`&#10;--&#10;&#10;CREATE TABLE `departements` (&#10;  `id` int(11) NOT NULL,&#10;  `nom` varchar(255) NOT NULL,&#10;  `region_id` int(11) NOT NULL&#10;) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#10;&#10;--&#10;-- Déchargement des données de la table `departements`&#10;--&#10;&#10;INSERT INTO `departements` (`id`, `nom`, `region_id`) VALUES&#10;-- Adamaoua&#10;(1, 'Djérem', 1),&#10;(2, 'Faro-et-Déo', 1),&#10;(3, 'Mayo-Banyo', 1),&#10;(4, 'Mbéré', 1),&#10;(5, 'Vina', 1),&#10;-- Centre&#10;(6, 'Haute-Sanaga', 2),&#10;(7, 'Lekié', 2),&#10;(8, 'Mbam-et-Inoubou', 2),&#10;(9, 'Mbam-et-Kim', 2),&#10;(10, 'Méfou-et-Afamba', 2),&#10;(11, 'Méfou-et-Akono', 2),&#10;(12, 'Mfoundi', 2),&#10;(13, 'Nyong-et-Kéllé', 2),&#10;(14, 'Nyong-et-Mfoumou', 2),&#10;(15, 'Nyong-et-So''o', 2),&#10;-- Est&#10;(16, 'Boumba-et-Ngoko', 3),&#10;(17, 'Haut-Nyong', 3),&#10;(18, 'Kadey', 3),&#10;(19, 'Lom-et-Djérem', 3),&#10;-- Extrême-Nord&#10;(20, 'Diamaré', 4),&#10;(21, 'Logone-et-Chari', 4),&#10;(22, 'Mayo-Danay', 4),&#10;(23, 'Mayo-Kani', 4),&#10;(24, 'Mayo-Sava', 4),&#10;(25, 'Mayo-Tsanaga', 4),&#10;-- Littoral&#10;(26, 'Moungo', 5),&#10;(27, 'Nkam', 5),&#10;(28, 'Sanaga-Maritime', 5),&#10;(29, 'Wouri', 5),&#10;-- Nord&#10;(30, 'Bénoué', 6),&#10;(31, 'Faro', 6),&#10;(32, 'Mayo-Louti', 6),&#10;(33, 'Mayo-Rey', 6),&#10;-- Nord-Ouest&#10;(34, 'Boyo', 7),&#10;(35, 'Bui', 7),&#10;(36, 'Donga-Mantung', 7),&#10;(37, 'Menchum', 7),&#10;(38, 'Mezam', 7),&#10;(39, 'Momo', 7),&#10;(40, 'Ngo-Ketunjia', 7),&#10;-- Ouest&#10;(41, 'Bamboutos', 8),&#10;(42, 'Haut-Nkam', 8),&#10;(43, 'Hauts-Plateaux', 8),&#10;(44, 'Koung-Khi', 8),&#10;(45, 'Ménoua', 8),&#10;(46, 'Mifi', 8),&#10;(47, 'Ndé', 8),&#10;(48, 'Noun', 8),&#10;-- Sud&#10;(49, 'Dja-et-Lobo', 9),&#10;(50, 'Mvila', 9),&#10;(51, 'Océan', 9),&#10;(52, 'Vallée-du-Ntem', 9),&#10;-- Sud-Ouest&#10;(53, 'Fako', 10),&#10;(54, 'Koupé-Manengouba', 10),&#10;(55, 'Lebialem', 10),&#10;(56, 'Manyu', 10),&#10;(57, 'Meme', 10),&#10;(58, 'Ndian', 10);&#10;&#10;--&#10;-- Index pour les tables déchargées&#10;--&#10;&#10;--&#10;-- Index pour la table `regions`&#10;--&#10;ALTER TABLE `regions`&#10;  ADD PRIMARY KEY (`id`);&#10;&#10;--&#10;-- Index pour la table `departements`&#10;--&#10;ALTER TABLE `departements`&#10;  ADD PRIMARY KEY (`id`),&#10;  ADD KEY `region_id` (`region_id`);&#10;&#10;--&#10;-- AUTO_INCREMENT pour les tables déchargées&#10;--&#10;&#10;--&#10;-- AUTO_INCREMENT pour la table `regions`&#10;--&#10;ALTER TABLE `regions`&#10;  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;&#10;&#10;--&#10;-- AUTO_INCREMENT pour la table `departements`&#10;--&#10;ALTER TABLE `departements`&#10;  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=59;&#10;&#10;--&#10;-- Contraintes pour les tables déchargées&#10;--&#10;&#10;--&#10;-- Contraintes pour la table `departements`&#10;--&#10;ALTER TABLE `departements`&#10;  ADD CONSTRAINT `departements_ibfk_1` FOREIGN KEY (`region_id`) REFERENCES `regions` (`id`);&#10;COMMIT;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/resources/js/modern-form.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/resources/js/modern-form.js" />
              <option name="originalContent" value="/**&#10; * Enhanced Modern Form JavaScript - Fixed Multi-Step Navigation&#10; * Advanced UX features for the candidature form&#10; */&#10;&#10;document.addEventListener('DOMContentLoaded', function () {&#10;    // Form elements and state&#10;    const formSections = document.querySelectorAll('.form-section');&#10;    const progressSteps = document.querySelectorAll('.progress-step');&#10;    const form = document.getElementById('candidatureForm');&#10;    let currentSection = 0;&#10;&#10;    // Initialize form&#10;    initializeForm();&#10;&#10;    function initializeForm() {&#10;        setupProgressBar();&#10;        setupSectionNavigation();&#10;        setupFormValidation();&#10;        setupConditionalFields();&#10;        setupAutoSave();&#10;        setupFormEnhancements();&#10;        setupFormSubmission(); // Added form submission handling&#10;        showSection(0);&#10;&#10;        // Initial button state update after everything is loaded&#10;        setTimeout(() =&gt; {&#10;            updateCurrentSectionNavigationButtons();&#10;        }, 100);&#10;&#10;        console.log('Form initialized with', formSections.length, 'sections');&#10;    }&#10;&#10;    // Progress bar and section management&#10;    function setupProgressBar() {&#10;        progressSteps.forEach((step, index) =&gt; {&#10;            step.addEventListener('click', () =&gt; {&#10;                console.log('Progress step clicked:', index);&#10;                if (index &lt;= currentSection || validateAllPreviousSections(index)) {&#10;                    navigateToSection(index);&#10;                }&#10;            });&#10;        });&#10;    }&#10;&#10;    function showSection(sectionIndex) {&#10;        console.log('Showing section:', sectionIndex);&#10;&#10;        // Hide all sections and remove active class&#10;        formSections.forEach((section, index) =&gt; {&#10;            section.style.display = 'none';&#10;            section.classList.remove('active');&#10;        });&#10;&#10;        // Show the target section and add active class&#10;        if (formSections[sectionIndex]) {&#10;            formSections[sectionIndex].style.display = 'block'; // Explicitly set to block&#10;            formSections[sectionIndex].classList.add('active');&#10;            currentSection = sectionIndex;&#10;        } else {&#10;            console.error('Section index out of bounds:', sectionIndex);&#10;            return;&#10;        }&#10;&#10;        updateProgress(sectionIndex);&#10;&#10;        // Show/hide only the submit button on last section, keep navigation always visible&#10;        const submitBtn = document.querySelector('.form-actions .btn-success, .form-actions button[type=&quot;submit&quot;]');&#10;        if (submitBtn) {&#10;            if (sectionIndex === formSections.length - 1) {&#10;                submitBtn.style.display = '';&#10;            } else {&#10;                submitBtn.style.display = 'none';&#10;            }&#10;        }&#10;        // Always show form-actions (navigation)&#10;        const formActions = document.querySelector('.form-actions');&#10;        if (formActions) {&#10;            formActions.style.display = '';&#10;        }&#10;&#10;        updateCurrentSectionNavigationButtons();&#10;    }&#10;&#10;    function updateProgress(step) {&#10;        progressSteps.forEach((progressStep, index) =&gt; {&#10;            progressStep.classList.remove('active', 'completed');&#10;&#10;            if (index &lt; step) {&#10;                progressStep.classList.add('completed');&#10;            } else if (index === step) {&#10;                progressStep.classList.add('active');&#10;            }&#10;        });&#10;    }&#10;&#10;    function navigateToSection(targetSection) {&#10;        if (targetSection &gt;= 0 &amp;&amp; targetSection &lt; formSections.length) {&#10;            showSection(targetSection);&#10;        }&#10;    }&#10;&#10;    // Added function to properly handle form submission&#10;    function setupFormSubmission() {&#10;        // Get the form and submit button&#10;        const form = document.getElementById('candidatureForm');&#10;        const submitBtn = document.querySelector('.btn-success[type=&quot;submit&quot;]');&#10;&#10;        if (form &amp;&amp; submitBtn) {&#10;            // Remove any previous event listeners that might be blocking submission&#10;            const clonedSubmitBtn = submitBtn.cloneNode(true);&#10;            submitBtn.parentNode.replaceChild(clonedSubmitBtn, submitBtn);&#10;&#10;            // Add proper submit handler to the form itself&#10;            form.addEventListener('submit', function(e) {&#10;                // Don't prevent the default submission - this is crucial!&#10;                console.log('Form is being submitted...');&#10;&#10;                // Store the original text to restore it if needed&#10;                const originalText = clonedSubmitBtn.innerHTML;&#10;&#10;                // Add loading state to submit button&#10;                clonedSubmitBtn.innerHTML = '&lt;i class=&quot;fas fa-spinner fa-spin&quot;&gt;&lt;/i&gt; Envoi en cours...';&#10;&#10;                // Set a timeout to ensure the form can still submit if something goes wrong&#10;                setTimeout(function() {&#10;                    // This ensures the form submission completes even if there's a delay&#10;                    if (form.getAttribute('data-submitting') !== 'true') {&#10;                        form.setAttribute('data-submitting', 'true');&#10;                        form.submit();&#10;                    }&#10;                }, 1000);&#10;&#10;                // Allow normal form submission&#10;                return true;&#10;            });&#10;&#10;            // Clear any previously saved form data to avoid conflicts&#10;            try {&#10;                localStorage.removeItem('candidature_form_data');&#10;            } catch (e) {&#10;                console.log('Could not clear form data from localStorage');&#10;            }&#10;        }&#10;    }&#10;&#10;    // Function to validate all sections&#10;    function validateAllSections() {&#10;        let isValid = true;&#10;&#10;        // Get all required fields&#10;        const requiredFields = form.querySelectorAll('[required]');&#10;&#10;        // Check each required field&#10;        requiredFields.forEach(field =&gt; {&#10;            if (!field.value.trim()) {&#10;                isValid = false;&#10;                field.classList.add('error');&#10;            } else {&#10;                field.classList.remove('error');&#10;            }&#10;        });&#10;&#10;        return isValid;&#10;    }&#10;&#10;    // Section navigation&#10;    function setupSectionNavigation() {&#10;        formSections.forEach((section, index) =&gt; {&#10;            // Remove existing navigation if any&#10;            const existingNav = section.querySelector('.form-navigation');&#10;            if (existingNav) {&#10;                existingNav.remove();&#10;            }&#10;&#10;            // Skip navigation for review section - it will be handled by review-form.js&#10;            if (section.id === 'review-section') {&#10;                return;&#10;            }&#10;&#10;            // Create navigation container&#10;            const navContainer = document.createElement('div');&#10;            navContainer.className = 'form-navigation';&#10;&#10;            // Previous button&#10;            if (index &gt; 0) {&#10;                const prevButton = createButton('Précédent', 'btn btn-secondary', () =&gt; {&#10;                    console.log('Previous button clicked from section:', index);&#10;                    navigateToSection(index - 1);&#10;                });&#10;                prevButton.innerHTML = '&lt;i class=&quot;fas fa-arrow-left&quot;&gt;&lt;/i&gt; &lt;span&gt;Précédent&lt;/span&gt;';&#10;                navContainer.appendChild(prevButton);&#10;            }&#10;&#10;            // Next button - check if this is the last regular section (before review)&#10;            const isLastRegularSection = index === formSections.length - 2 &amp;&amp; formSections[formSections.length - 1].id === 'review-section';&#10;&#10;            if (index &lt; formSections.length - 1 &amp;&amp; !isLastRegularSection) {&#10;                const nextButton = createButton('Suivant', 'btn btn-primary', () =&gt; {&#10;                    console.log('Next button clicked from section:', index);&#10;                    if (validateSection(index)) {&#10;                        saveFormData();&#10;                        navigateToSection(index + 1);&#10;                    } else {&#10;                        showValidationErrors(section);&#10;                    }&#10;                });&#10;                nextButton.innerHTML = '&lt;span&gt;Suivant&lt;/span&gt; &lt;i class=&quot;fas fa-arrow-right&quot;&gt;&lt;/i&gt;';&#10;                nextButton.setAttribute('data-button-type', 'next');&#10;                navContainer.appendChild(nextButton);&#10;            } else if (isLastRegularSection) {&#10;                // This will be handled by review-form.js&#10;                const reviewButton = createButton('Vérifier ma candidature', 'btn btn-primary', () =&gt; {&#10;                    console.log('Review button clicked from section:', index);&#10;                    if (validateSection(index)) {&#10;                        saveFormData();&#10;                        // Trigger review section navigation&#10;                        window.dispatchEvent(new CustomEvent('navigateToReview', { detail: { fromSection: index } }));&#10;                    } else {&#10;                        showValidationErrors(section);&#10;                    }&#10;                });&#10;                reviewButton.innerHTML = '&lt;span&gt;Vérifier ma candidature&lt;/span&gt; &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt;';&#10;                reviewButton.setAttribute('data-button-type', 'review');&#10;                navContainer.appendChild(reviewButton);&#10;            }&#10;&#10;            section.appendChild(navContainer);&#10;        });&#10;    }&#10;&#10;    function createButton(text, className, onClick) {&#10;        const button = document.createElement('button');&#10;        button.type = 'button'; // Important: prevent form submission&#10;        // button.textContent = text; // This will be set by innerHTML&#10;        button.className = className;&#10;        button.addEventListener('click', (e) =&gt; {&#10;            e.preventDefault(); // Prevent any default behavior&#10;            onClick();&#10;        });&#10;        return button;&#10;    }&#10;&#10;    function updateNavigationButtons(sectionIndex) {&#10;        const navigation = formSections[sectionIndex]?.querySelector('.form-navigation');&#10;        if (!navigation) return;&#10;&#10;        const nextBtn = navigation.querySelector('.btn-primary');&#10;&#10;        // Update button states based on validation&#10;        if (nextBtn) {&#10;            const isValid = validateSection(sectionIndex, false);&#10;            console.log('----- &gt;Section', sectionIndex, 'validation state:', isValid);&#10;            nextBtn.disabled = !isValid;&#10;            nextBtn.classList.toggle('loading', false);&#10;        }&#10;    }&#10;&#10;    // New function to update current section's navigation buttons&#10;    function updateCurrentSectionNavigationButtons() {&#10;        updateNavigationButtons(currentSection);&#10;    }&#10;&#10;    // Enhanced validation&#10;    function setupFormValidation() {&#10;        // Real-time validation with comprehensive event handling&#10;        const inputs = form.querySelectorAll('input, select, textarea');&#10;        inputs.forEach(input =&gt; {&#10;            // Validate on blur&#10;            input.addEventListener('blur', () =&gt; {&#10;                validateField(input);&#10;                updateCurrentSectionNavigationButtons();&#10;            });&#10;&#10;            // Clear errors and update on input (typing)&#10;            input.addEventListener('input', () =&gt; {&#10;                clearFieldError(input);&#10;                saveFormData();&#10;                clearTimeout(input.validationTimeout);&#10;                input.validationTimeout = setTimeout(() =&gt; {&#10;                    validateField(input, false);&#10;                    updateCurrentSectionNavigationButtons();&#10;                }, 300);&#10;            });&#10;&#10;            // Immediate validation on keyup for instant feedback&#10;            input.addEventListener('keyup', () =&gt; {&#10;                clearTimeout(input.keyupTimeout);&#10;                input.keyupTimeout = setTimeout(() =&gt; {&#10;                    updateCurrentSectionNavigationButtons();&#10;                }, 100);&#10;            });&#10;&#10;            // Always update on change for all input types (select, radio, checkbox, text, etc.)&#10;            input.addEventListener('change', () =&gt; {&#10;                validateField(input);&#10;                saveFormData();&#10;                updateCurrentSectionNavigationButtons();&#10;            });&#10;        });&#10;&#10;        // Form submission - only allow if on last section&#10;        form.addEventListener('submit', handleFormSubmit);&#10;&#10;        // Additional global form change listener as fallback&#10;        form.addEventListener('change', () =&gt; {&#10;            setTimeout(updateCurrentSectionNavigationButtons, 50);&#10;        });&#10;&#10;        // On DOM ready, after autofill, update button state&#10;        window.addEventListener('pageshow', updateCurrentSectionNavigationButtons);&#10;        window.addEventListener('load', updateCurrentSectionNavigationButtons);&#10;    }&#10;&#10;    function validateSection(sectionIndex, showErrors = true) {&#10;        const section = formSections[sectionIndex];&#10;        if (!section) return true;&#10;&#10;        const requiredFields = section.querySelectorAll('input[required], select[required], textarea[required]');&#10;        let isValid = true;&#10;&#10;        requiredFields.forEach(field =&gt; {&#10;            // Proper null check before accessing style property&#10;            if (!field) return;&#10;&#10;            // Skip hidden fields - check both the field and its container&#10;            const isFieldHidden = field.style.display === 'none';&#10;            const formGroup = field.closest('.form-group');&#10;            const isContainerHidden = formGroup &amp;&amp; formGroup.style.display === 'none';&#10;&#10;            if (isFieldHidden || isContainerHidden) {&#10;                return;&#10;            }&#10;&#10;            if (!validateField(field, showErrors)) {&#10;                isValid = false;&#10;            }&#10;        });&#10;&#10;        // Custom validations&#10;        isValid = performCustomValidations(section, showErrors) &amp;&amp; isValid;&#10;&#10;        console.log('Section', sectionIndex, 'validation result:', isValid);&#10;        return isValid;&#10;    }&#10;&#10;    function validateField(field, showErrors = true) {&#10;        const value = field.value.trim();&#10;        const isRequired = field.hasAttribute('required');&#10;        let isValid = true;&#10;&#10;        // Clear previous errors&#10;        clearFieldError(field);&#10;&#10;        // Skip validation for hidden fields&#10;        if (field.style.display === 'none' || (field.closest('.form-group') &amp;&amp; field.closest('.form-group').style.display === 'none')) {&#10;            return true;&#10;        }&#10;&#10;        // Special handling for radio buttons&#10;        if (field.type === 'radio' &amp;&amp; isRequired) {&#10;            const radioGroup = form.querySelectorAll(`input[name=&quot;${field.name}&quot;]`);&#10;            const isChecked = Array.from(radioGroup).some(radio =&gt; radio.checked);&#10;            if (!isChecked) {&#10;                if (showErrors) {&#10;                    const radioContainer = field.closest('.radio-group');&#10;                    showFieldError(radioContainer || field, 'Veuillez sélectionner une option');&#10;                }&#10;                isValid = false;&#10;            }&#10;            return isValid; // Return early for radio buttons&#10;        }&#10;&#10;        // Required field validation for non-radio fields&#10;        if (isRequired &amp;&amp; !value) {&#10;            if (showErrors) {&#10;                showFieldError(field, 'Ce champ est obligatoire');&#10;            }&#10;            isValid = false;&#10;        }&#10;&#10;        // Email validation&#10;        if (field.type === 'email' &amp;&amp; value) {&#10;            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;&#10;            if (!emailRegex.test(value)) {&#10;                if (showErrors) {&#10;                    showFieldError(field, 'Veuillez entrer une adresse email valide');&#10;                }&#10;                isValid = false;&#10;            }&#10;        }&#10;&#10;        // Phone validation&#10;        if (field.type === 'tel' &amp;&amp; field.name.includes('telephone') &amp;&amp; value) {&#10;            const phoneRegex = /^[0-9+\-\s()]{10,}$/;&#10;            if (!phoneRegex.test(value)) {&#10;                if (showErrors) {&#10;                    showFieldError(field, 'Veuillez entrer un numéro de téléphone valide');&#10;                }&#10;                isValid = false;&#10;            }&#10;        }&#10;&#10;        // Update field appearance&#10;        field.classList.toggle('is-invalid', !isValid);&#10;&#10;        return isValid;&#10;    }&#10;&#10;    function performCustomValidations(section, showErrors = true) {&#10;        let isValid = true;&#10;&#10;        // Email confirmation validation&#10;        const email = section.querySelector('#email');&#10;        const emailVerif = section.querySelector('#emailverif');&#10;        if (email &amp;&amp; emailVerif &amp;&amp; email.value &amp;&amp; emailVerif.value) {&#10;            if (email.value !== emailVerif.value) {&#10;                if (showErrors) {&#10;                    showFieldError(emailVerif, 'Les adresses email ne correspondent pas');&#10;                }&#10;                isValid = false;&#10;            }&#10;        }&#10;&#10;        // Date validation&#10;        const daySelect = section.querySelector('#datenaiss_jj');&#10;        const monthSelect = section.querySelector('#datenaiss_mm');&#10;        const yearSelect = section.querySelector('#datenaiss_yy');&#10;&#10;        if (daySelect &amp;&amp; monthSelect &amp;&amp; yearSelect) {&#10;            const day = parseInt(daySelect.value);&#10;            const month = parseInt(monthSelect.value);&#10;            const year = parseInt(yearSelect.value);&#10;&#10;            if (day &amp;&amp; month &amp;&amp; year) {&#10;                const date = new Date(year, month - 1, day);&#10;                const today = new Date();&#10;                const age = today.getFullYear() - year;&#10;&#10;                if (date.getDate() !== day || date.getMonth() !== month - 1 || date.getFullYear() !== year) {&#10;                    if (showErrors) {&#10;                        showFieldError(daySelect, 'Date invalide');&#10;                    }&#10;                    isValid = false;&#10;                } else if (age &lt; 18 || age &gt; 65) {&#10;                    if (showErrors) {&#10;                        showFieldError(yearSelect, 'L\'âge doit être entre 18 et 65 ans');&#10;                    }&#10;                    isValid = false;&#10;                }&#10;            }&#10;        }&#10;&#10;        return isValid;&#10;    }&#10;&#10;    function showFieldError(field, message) {&#10;        clearFieldError(field);&#10;&#10;        const errorDiv = document.createElement('div');&#10;        errorDiv.className = 'form-error';&#10;        errorDiv.textContent = message;&#10;&#10;        // Handle radio group errors differently&#10;        if (field.classList &amp;&amp; field.classList.contains('radio-group')) {&#10;            field.appendChild(errorDiv);&#10;        } else {&#10;            field.parentNode.appendChild(errorDiv);&#10;            field.classList.add('is-invalid');&#10;        }&#10;    }&#10;&#10;    function clearFieldError(field) {&#10;        if (field.classList &amp;&amp; field.classList.contains('radio-group')) {&#10;            const existingError = field.querySelector('.form-error');&#10;            if (existingError) {&#10;                existingError.remove();&#10;            }&#10;        } else {&#10;            const existingError = field.parentNode.querySelector('.form-error');&#10;            if (existingError) {&#10;                existingError.remove();&#10;            }&#10;            field.classList.remove('is-invalid');&#10;        }&#10;    }&#10;&#10;    function showValidationErrors(section) {&#10;        const errors = section.querySelectorAll('.form-error');&#10;        if (errors.length &gt; 0) {&#10;            errors[0].scrollIntoView({&#10;                behavior: 'smooth',&#10;                block: 'center'&#10;            });&#10;        }&#10;    }&#10;&#10;    function validateAllPreviousSections(targetSection) {&#10;        for (let i = 0; i &lt; targetSection; i++) {&#10;            if (!validateSection(i, false)) {&#10;                return false;&#10;            }&#10;        }&#10;        return true;&#10;    }&#10;&#10;    // Conditional fields logic&#10;    function setupConditionalFields() {&#10;        const statutProfSelect = document.getElementById('statut');&#10;        const employerFields = document.querySelectorAll('.employer-field');&#10;&#10;        function toggleEmployerFields() {&#10;            const selectedStatus = statutProfSelect?.value;&#10;            const showFields = ['Fonctionnaire', 'Travailleur privé'].includes(selectedStatus);&#10;&#10;            employerFields.forEach(field =&gt; {&#10;                field.style.display = showFields ? 'block' : 'none';&#10;                field.classList.toggle('active', showFields);&#10;&#10;                const inputs = field.querySelectorAll('input');&#10;                inputs.forEach(input =&gt; {&#10;                    if (showFields) {&#10;                        input.setAttribute('required', 'required');&#10;                    } else {&#10;                        input.removeAttribute('required');&#10;                        clearFieldError(input);&#10;                    }&#10;                });&#10;            });&#10;&#10;            // Update button state after changing conditional fields&#10;            setTimeout(updateCurrentSectionNavigationButtons, 50);&#10;        }&#10;&#10;        if (statutProfSelect) {&#10;            statutProfSelect.addEventListener('change', toggleEmployerFields);&#10;            toggleEmployerFields(); // Initial state&#10;        }&#10;&#10;        // Spouse name field logic&#10;        const civiliteSelect = document.getElementById('civilite');&#10;        const epouseField = document.getElementById('epouse');&#10;&#10;        function toggleSpouseField() {&#10;            const civilite = civiliteSelect?.value;&#10;            if (epouseField) {&#10;                epouseField.style.display = (civilite === &quot;Monsieur&quot;) ? &quot;none&quot; : &quot;block&quot;;&#10;                if (civilite === &quot;Monsieur&quot;) {&#10;                    epouseField.removeAttribute('required');&#10;                } else {&#10;                    // Don't make it required automatically&#10;                }&#10;            }&#10;&#10;            // Update button state after changing conditional fields&#10;            setTimeout(updateCurrentSectionNavigationButtons, 50);&#10;        }&#10;&#10;        if (civiliteSelect) {&#10;            civiliteSelect.addEventListener('change', toggleSpouseField);&#10;            toggleSpouseField(); // Initial state&#10;        }&#10;    }&#10;&#10;    // Auto-save functionality&#10;    function setupAutoSave() {&#10;        const STORAGE_KEY = 'candidature_form_data';&#10;&#10;        // Load saved data&#10;        loadFormData();&#10;&#10;        // Save periodically&#10;        setInterval(saveFormData, 30000); // Every 30 seconds&#10;&#10;        // Save on page unload&#10;        window.addEventListener('beforeunload', saveFormData);&#10;    }&#10;&#10;    function saveFormData() {&#10;        const data = {};&#10;        const inputs = form.querySelectorAll('input, select, textarea');&#10;&#10;        inputs.forEach(input =&gt; {&#10;            if (input.type === 'radio' || input.type === 'checkbox') {&#10;                if (input.checked) {&#10;                    data[input.name] = input.value;&#10;                }&#10;            } else {&#10;                data[input.name] = input.value;&#10;            }&#10;        });&#10;&#10;        localStorage.setItem('candidature_form_data', JSON.stringify(data));&#10;        showAutoSaveIndicator();&#10;    }&#10;&#10;    function loadFormData() {&#10;        const savedData = localStorage.getItem('candidature_form_data');&#10;        if (!savedData) return;&#10;&#10;        try {&#10;            const data = JSON.parse(savedData);&#10;            const inputs = form.querySelectorAll('input, select, textarea');&#10;&#10;            inputs.forEach(input =&gt; {&#10;                if (data[input.name] !== undefined) {&#10;                    if (input.type === 'radio' || input.type === 'checkbox') {&#10;                        input.checked = data[input.name] === input.value;&#10;                    } else {&#10;                        input.value = data[input.name];&#10;                    }&#10;                }&#10;            });&#10;        } catch (e) {&#10;            console.error('Error loading saved form data:', e);&#10;        }&#10;    }&#10;&#10;    function showAutoSaveIndicator() {&#10;        // Create or update auto-save indicator&#10;        let indicator = document.getElementById('autosave-indicator');&#10;        if (!indicator) {&#10;            indicator = document.createElement('div');&#10;            indicator.id = 'autosave-indicator';&#10;            indicator.style.cssText = `&#10;                position: fixed;&#10;                bottom: 20px;&#10;                right: 20px;&#10;                background: var(--success-color);&#10;                color: white;&#10;                padding: 8px 16px;&#10;                border-radius: 20px;&#10;                font-size: 0.8rem;&#10;                opacity: 0;&#10;                transition: opacity 0.3s;&#10;                z-index: 1000;&#10;            `;&#10;            document.body.appendChild(indicator);&#10;        }&#10;&#10;        indicator.textContent = 'Sauvegarde automatique ✓';&#10;        indicator.style.opacity = '1';&#10;&#10;        setTimeout(() =&gt; {&#10;            indicator.style.opacity = '0';&#10;        }, 2000);&#10;    }&#10;&#10;    // Additional form enhancements&#10;    function setupFormEnhancements() {&#10;        // Smooth focus transitions&#10;        const inputs = form.querySelectorAll('.formbold-form-input');&#10;        inputs.forEach(input =&gt; {&#10;            input.addEventListener('focus', function() {&#10;                this.parentNode.classList.add('focused');&#10;            });&#10;&#10;            input.addEventListener('blur', function() {&#10;                this.parentNode.classList.remove('focused');&#10;            });&#10;        });&#10;&#10;        // Progress bar click navigation&#10;        progressSteps.forEach((step, index) =&gt; {&#10;            step.style.cursor = 'pointer';&#10;            step.addEventListener('mouseenter', function() {&#10;                if (index &lt;= currentSection || validateAllPreviousSections(index)) {&#10;                    this.style.transform = 'scale(1.05)';&#10;                }&#10;            });&#10;&#10;            step.addEventListener('mouseleave', function() {&#10;                this.style.transform = '';&#10;            });&#10;        });&#10;&#10;        // Keyboard navigation&#10;        document.addEventListener('keydown', function(e) {&#10;            if (e.ctrlKey || e.metaKey) {&#10;                switch(e.key) {&#10;                    case 'ArrowLeft':&#10;                        e.preventDefault();&#10;                        if (currentSection &gt; 0) {&#10;                            navigateToSection(currentSection - 1);&#10;                        }&#10;                        break;&#10;                    case 'ArrowRight':&#10;                        e.preventDefault();&#10;                        if (currentSection &lt; formSections.length - 1 &amp;&amp; validateSection(currentSection, false)) {&#10;                            navigateToSection(currentSection + 1);&#10;                        }&#10;                        break;&#10;                }&#10;            }&#10;        });&#10;&#10;        // Fix dropdown selection visibility issues&#10;        setupDropdownVisibilityFix();&#10;&#10;        // Form completion progress&#10;        updateCompletionProgress();&#10;        form.addEventListener('input', updateCompletionProgress);&#10;        form.addEventListener('change', updateCompletionProgress);&#10;    }&#10;&#10;    // Fix dropdown selection visibility issues&#10;    function setupDropdownVisibilityFix() {&#10;        const selectElements = document.querySelectorAll('select.formbold-form-input');&#10;&#10;        selectElements.forEach(select =&gt; {&#10;            // Force initial style application&#10;            forceSelectVisibility(select);&#10;&#10;            // Handle change events&#10;            select.addEventListener('change', function() {&#10;                forceSelectVisibility(this);&#10;                // Force re-render by briefly changing display&#10;                const originalDisplay = this.style.display;&#10;                this.style.display = 'none';&#10;                this.offsetHeight; // Trigger reflow&#10;                this.style.display = originalDisplay || 'block';&#10;            });&#10;&#10;            // Handle focus/blur events&#10;            select.addEventListener('focus', function() {&#10;                forceSelectVisibility(this);&#10;            });&#10;&#10;            select.addEventListener('blur', function() {&#10;                setTimeout(() =&gt; forceSelectVisibility(this), 10);&#10;            });&#10;        });&#10;    }&#10;&#10;    function forceSelectVisibility(selectElement) {&#10;        if (!selectElement) return;&#10;&#10;        // Force style properties&#10;        selectElement.style.color = '#2d3748';&#10;        selectElement.style.backgroundColor = '#ffffff';&#10;        selectElement.style.opacity = '1';&#10;&#10;        // Handle selected state&#10;        if (selectElement.value &amp;&amp; selectElement.value !== '') {&#10;            selectElement.style.fontWeight = '500';&#10;            selectElement.setAttribute('data-has-value', 'true');&#10;        } else {&#10;            selectElement.style.fontWeight = '400';&#10;            selectElement.removeAttribute('data-has-value');&#10;        }&#10;&#10;        // Force repaint&#10;        selectElement.offsetHeight;&#10;    }&#10;&#10;    // Apply fixes to all dropdowns on page load&#10;    function fixAllDropdowns() {&#10;        const allSelects = document.querySelectorAll('select.formbold-form-input');&#10;        allSelects.forEach(select =&gt; {&#10;            forceSelectVisibility(select);&#10;        });&#10;    }&#10;&#10;    function updateCompletionProgress() {&#10;        const allInputs = form.querySelectorAll('input[required], select[required], textarea[required]');&#10;        const filledInputs = Array.from(allInputs).filter(input =&gt; {&#10;            // Skip if input itself is hidden&#10;            if (input.style.display === 'none') {&#10;                return true; // Consider hidden fields as filled&#10;            }&#10;&#10;            // Check if parent form-group is hidden&#10;            const formGroup = input.closest('.form-group');&#10;            if (formGroup &amp;&amp; formGroup.style.display === 'none') {&#10;                return true; // Consider hidden fields as filled&#10;            }&#10;&#10;            // Special handling for radio buttons&#10;            if (input.type === 'radio') {&#10;                return form.querySelector(`input[name=&quot;${input.name}&quot;]:checked`);&#10;            }&#10;&#10;            return input.value.trim() !== '';&#10;        });&#10;&#10;        const progress = Math.round((filledInputs.length / allInputs.length) * 100);&#10;&#10;        // Update progress in header&#10;        let progressText = document.querySelector('.form-completion-progress');&#10;        if (!progressText) {&#10;            progressText = document.createElement('div');&#10;            progressText.className = 'form-completion-progress';&#10;            progressText.style.cssText = `&#10;                position: absolute;&#10;                top: 10px;&#10;                right: 20px;&#10;                background: rgba(255,255,255,0.2);&#10;                padding: 5px 12px;&#10;                border-radius: 15px;&#10;                font-size: 0.8rem;&#10;                z-index: 10;&#10;            `;&#10;            const formHeader = document.querySelector('.form-header');&#10;            if (formHeader) {&#10;                formHeader.appendChild(progressText);&#10;            }&#10;        }&#10;&#10;        if (progressText) {&#10;            progressText.textContent = `${progress}% complété`;&#10;        }&#10;    }&#10;&#10;    // We don't need this function anymore as we want normal form submission&#10;    function handleFormSubmit(e) {&#10;        // Do nothing, allow default form submission&#10;        console.log('Submit button clicked');&#10;    }&#10;&#10;    // Public API&#10;    window.formFunctions = {&#10;        navigateToSection,&#10;        validateSection,&#10;        saveFormData,&#10;        validateAllSections: () =&gt; {&#10;            for (let i = 0; i &lt; formSections.length - 1; i++) {&#10;                if (!validateSection(i, false)) {&#10;                    return false;&#10;                }&#10;            }&#10;            return true;&#10;        },&#10;        getCurrentSection: () =&gt; currentSection,&#10;        getTotalSections: () =&gt; formSections.length&#10;    };&#10;});&#10;" />
              <option name="updatedContent" value="/**&#10; * Enhanced Modern Form JavaScript - Fixed Multi-Step Navigation&#10; * Advanced UX features for the candidature form&#10; */&#10;&#10;document.addEventListener('DOMContentLoaded', function () {&#10;    // Form elements and state&#10;    const formSections = document.querySelectorAll('.form-section');&#10;    const progressSteps = document.querySelectorAll('.progress-step');&#10;    const form = document.getElementById('candidatureForm');&#10;    let currentSection = 0;&#10;&#10;    // Initialize form&#10;    initializeForm();&#10;&#10;    function initializeForm() {&#10;        setupProgressBar();&#10;        setupSectionNavigation();&#10;        setupFormValidation();&#10;        setupConditionalFields();&#10;        setupAutoSave();&#10;        setupFormEnhancements();&#10;        setupFormSubmission(); // Added form submission handling&#10;        showSection(0);&#10;&#10;        // Initial button state update after everything is loaded&#10;        setTimeout(() =&gt; {&#10;            updateCurrentSectionNavigationButtons();&#10;        }, 100);&#10;&#10;        console.log('Form initialized with', formSections.length, 'sections');&#10;    }&#10;&#10;    // Progress bar and section management&#10;    function setupProgressBar() {&#10;        progressSteps.forEach((step, index) =&gt; {&#10;            step.addEventListener('click', () =&gt; {&#10;                console.log('Progress step clicked:', index);&#10;                if (index &lt;= currentSection || validateAllPreviousSections(index)) {&#10;                    navigateToSection(index);&#10;                }&#10;            });&#10;        });&#10;    }&#10;&#10;    function showSection(sectionIndex) {&#10;        console.log('Showing section:', sectionIndex);&#10;&#10;        // Hide all sections and remove active class&#10;        formSections.forEach((section, index) =&gt; {&#10;            section.style.display = 'none';&#10;            section.classList.remove('active');&#10;        });&#10;&#10;        // Show the target section and add active class&#10;        if (formSections[sectionIndex]) {&#10;            formSections[sectionIndex].style.display = 'block'; // Explicitly set to block&#10;            formSections[sectionIndex].classList.add('active');&#10;            currentSection = sectionIndex;&#10;        } else {&#10;            console.error('Section index out of bounds:', sectionIndex);&#10;            return;&#10;        }&#10;&#10;        updateProgress(sectionIndex);&#10;&#10;        // Show/hide only the submit button on last section, keep navigation always visible&#10;        const submitBtn = document.querySelector('.form-actions .btn-success, .form-actions button[type=&quot;submit&quot;]');&#10;        if (submitBtn) {&#10;            if (sectionIndex === formSections.length - 1) {&#10;                submitBtn.style.display = '';&#10;            } else {&#10;                submitBtn.style.display = 'none';&#10;            }&#10;        }&#10;        // Always show form-actions (navigation)&#10;        const formActions = document.querySelector('.form-actions');&#10;        if (formActions) {&#10;            formActions.style.display = '';&#10;        }&#10;&#10;        updateCurrentSectionNavigationButtons();&#10;    }&#10;&#10;    function updateProgress(step) {&#10;        progressSteps.forEach((progressStep, index) =&gt; {&#10;            progressStep.classList.remove('active', 'completed');&#10;&#10;            if (index &lt; step) {&#10;                progressStep.classList.add('completed');&#10;            } else if (index === step) {&#10;                progressStep.classList.add('active');&#10;            }&#10;        });&#10;    }&#10;&#10;    function navigateToSection(targetSection) {&#10;        if (targetSection &gt;= 0 &amp;&amp; targetSection &lt; formSections.length) {&#10;            showSection(targetSection);&#10;        }&#10;    }&#10;&#10;    // Added function to properly handle form submission&#10;    function setupFormSubmission() {&#10;        // Get the form and submit button&#10;        const form = document.getElementById('candidatureForm');&#10;        const submitBtn = document.querySelector('.btn-success[type=&quot;submit&quot;]');&#10;&#10;        if (form &amp;&amp; submitBtn) {&#10;            // Remove any previous event listeners that might be blocking submission&#10;            const clonedSubmitBtn = submitBtn.cloneNode(true);&#10;            submitBtn.parentNode.replaceChild(clonedSubmitBtn, submitBtn);&#10;&#10;            // Add proper submit handler to the form itself&#10;            form.addEventListener('submit', function(e) {&#10;                // Don't prevent the default submission - this is crucial!&#10;                console.log('Form is being submitted...');&#10;&#10;                // Store the original text to restore it if needed&#10;                const originalText = clonedSubmitBtn.innerHTML;&#10;&#10;                // Add loading state to submit button&#10;                clonedSubmitBtn.innerHTML = '&lt;i class=&quot;fas fa-spinner fa-spin&quot;&gt;&lt;/i&gt; Envoi en cours...';&#10;&#10;                // Set a timeout to ensure the form can still submit if something goes wrong&#10;                setTimeout(function() {&#10;                    // This ensures the form submission completes even if there's a delay&#10;                    if (form.getAttribute('data-submitting') !== 'true') {&#10;                        form.setAttribute('data-submitting', 'true');&#10;                        form.submit();&#10;                    }&#10;                }, 1000);&#10;&#10;                // Allow normal form submission&#10;                return true;&#10;            });&#10;&#10;            // Clear any previously saved form data to avoid conflicts&#10;            try {&#10;                localStorage.removeItem('candidature_form_data');&#10;            } catch (e) {&#10;                console.log('Could not clear form data from localStorage');&#10;            }&#10;        }&#10;    }&#10;&#10;    // Function to validate all sections&#10;    function validateAllSections() {&#10;        let isValid = true;&#10;&#10;        // Get all required fields&#10;        const requiredFields = form.querySelectorAll('[required]');&#10;&#10;        // Check each required field&#10;        requiredFields.forEach(field =&gt; {&#10;            if (!field.value.trim()) {&#10;                isValid = false;&#10;                field.classList.add('error');&#10;            } else {&#10;                field.classList.remove('error');&#10;            }&#10;        });&#10;&#10;        return isValid;&#10;    }&#10;&#10;    // Section navigation&#10;    function setupSectionNavigation() {&#10;        formSections.forEach((section, index) =&gt; {&#10;            // Remove existing navigation if any&#10;            const existingNav = section.querySelector('.form-navigation');&#10;            if (existingNav) {&#10;                existingNav.remove();&#10;            }&#10;&#10;            // Skip navigation for review section - it will be handled by review-form.js&#10;            if (section.id === 'review-section') {&#10;                return;&#10;            }&#10;&#10;            // Create navigation container&#10;            const navContainer = document.createElement('div');&#10;            navContainer.className = 'form-navigation';&#10;&#10;            // Previous button&#10;            if (index &gt; 0) {&#10;                const prevButton = createButton('Précédent', 'btn btn-secondary', () =&gt; {&#10;                    console.log('Previous button clicked from section:', index);&#10;                    navigateToSection(index - 1);&#10;                });&#10;                prevButton.innerHTML = '&lt;i class=&quot;fas fa-arrow-left&quot;&gt;&lt;/i&gt; &lt;span&gt;Précédent&lt;/span&gt;';&#10;                navContainer.appendChild(prevButton);&#10;            }&#10;&#10;            // Next button - check if this is the last regular section (before review)&#10;            const isLastRegularSection = index === formSections.length - 2 &amp;&amp; formSections[formSections.length - 1].id === 'review-section';&#10;&#10;            if (index &lt; formSections.length - 1 &amp;&amp; !isLastRegularSection) {&#10;                const nextButton = createButton('Suivant', 'btn btn-primary', () =&gt; {&#10;                    console.log('Next button clicked from section:', index);&#10;                    if (validateSection(index)) {&#10;                        saveFormData();&#10;                        navigateToSection(index + 1);&#10;                    } else {&#10;                        showValidationErrors(section);&#10;                    }&#10;                });&#10;                nextButton.innerHTML = '&lt;span&gt;Suivant&lt;/span&gt; &lt;i class=&quot;fas fa-arrow-right&quot;&gt;&lt;/i&gt;';&#10;                nextButton.setAttribute('data-button-type', 'next');&#10;                navContainer.appendChild(nextButton);&#10;            } else if (isLastRegularSection) {&#10;                // This will be handled by review-form.js&#10;                const reviewButton = createButton('Vérifier ma candidature', 'btn btn-primary', () =&gt; {&#10;                    console.log('Review button clicked from section:', index);&#10;                    if (validateSection(index)) {&#10;                        saveFormData();&#10;                        // Trigger review section navigation&#10;                        window.dispatchEvent(new CustomEvent('navigateToReview', { detail: { fromSection: index } }));&#10;                    } else {&#10;                        showValidationErrors(section);&#10;                    }&#10;                });&#10;                reviewButton.innerHTML = '&lt;span&gt;Vérifier ma candidature&lt;/span&gt; &lt;i class=&quot;fas fa-check-circle&quot;&gt;&lt;/i&gt;';&#10;                reviewButton.setAttribute('data-button-type', 'review');&#10;                navContainer.appendChild(reviewButton);&#10;            }&#10;&#10;            section.appendChild(navContainer);&#10;        });&#10;    }&#10;&#10;    function createButton(text, className, onClick) {&#10;        const button = document.createElement('button');&#10;        button.type = 'button'; // Important: prevent form submission&#10;        // button.textContent = text; // This will be set by innerHTML&#10;        button.className = className;&#10;        button.addEventListener('click', (e) =&gt; {&#10;            e.preventDefault(); // Prevent any default behavior&#10;            onClick();&#10;        });&#10;        return button;&#10;    }&#10;&#10;    function updateNavigationButtons(sectionIndex) {&#10;        const navigation = formSections[sectionIndex]?.querySelector('.form-navigation');&#10;        if (!navigation) return;&#10;&#10;        const nextBtn = navigation.querySelector('.btn-primary');&#10;&#10;        // Update button states based on validation&#10;        if (nextBtn) {&#10;            const isValid = validateSection(sectionIndex, false);&#10;            console.log('----- &gt;Section', sectionIndex, 'validation state:', isValid);&#10;            nextBtn.disabled = !isValid;&#10;            nextBtn.classList.toggle('loading', false);&#10;        }&#10;    }&#10;&#10;    // New function to update current section's navigation buttons&#10;    function updateCurrentSectionNavigationButtons() {&#10;        updateNavigationButtons(currentSection);&#10;    }&#10;&#10;    // Enhanced validation&#10;    function setupFormValidation() {&#10;        // Real-time validation with comprehensive event handling&#10;        const inputs = form.querySelectorAll('input, select, textarea');&#10;        inputs.forEach(input =&gt; {&#10;            // Validate on blur&#10;            input.addEventListener('blur', () =&gt; {&#10;                validateField(input);&#10;                updateCurrentSectionNavigationButtons();&#10;            });&#10;&#10;            // Clear errors and update on input (typing)&#10;            input.addEventListener('input', () =&gt; {&#10;                clearFieldError(input);&#10;                saveFormData();&#10;                clearTimeout(input.validationTimeout);&#10;                input.validationTimeout = setTimeout(() =&gt; {&#10;                    validateField(input, false);&#10;                    updateCurrentSectionNavigationButtons();&#10;                }, 300);&#10;            });&#10;&#10;            // Immediate validation on keyup for instant feedback&#10;            input.addEventListener('keyup', () =&gt; {&#10;                clearTimeout(input.keyupTimeout);&#10;                input.keyupTimeout = setTimeout(() =&gt; {&#10;                    updateCurrentSectionNavigationButtons();&#10;                }, 100);&#10;            });&#10;&#10;            // Always update on change for all input types (select, radio, checkbox, text, etc.)&#10;            input.addEventListener('change', () =&gt; {&#10;                validateField(input);&#10;                saveFormData();&#10;                updateCurrentSectionNavigationButtons();&#10;            });&#10;        });&#10;&#10;        // Form submission - only allow if on last section&#10;        form.addEventListener('submit', handleFormSubmit);&#10;&#10;        // Additional global form change listener as fallback&#10;        form.addEventListener('change', () =&gt; {&#10;            setTimeout(updateCurrentSectionNavigationButtons, 50);&#10;        });&#10;&#10;        // On DOM ready, after autofill, update button state&#10;        window.addEventListener('pageshow', updateCurrentSectionNavigationButtons);&#10;        window.addEventListener('load', updateCurrentSectionNavigationButtons);&#10;    }&#10;&#10;    function validateSection(sectionIndex, showErrors = true) {&#10;        const section = formSections[sectionIndex];&#10;        if (!section) return true;&#10;&#10;        const requiredFields = section.querySelectorAll('input[required], select[required], textarea[required]');&#10;        let isValid = true;&#10;&#10;        requiredFields.forEach(field =&gt; {&#10;            // Proper null check before accessing style property&#10;            if (!field) return;&#10;&#10;            // Skip hidden fields - check both the field and its container&#10;            const isFieldHidden = field.style.display === 'none';&#10;            const formGroup = field.closest('.form-group');&#10;            const isContainerHidden = formGroup &amp;&amp; formGroup.style.display === 'none';&#10;&#10;            if (isFieldHidden || isContainerHidden) {&#10;                return;&#10;            }&#10;&#10;            if (!validateField(field, showErrors)) {&#10;                isValid = false;&#10;            }&#10;        });&#10;&#10;        // Custom validations&#10;        isValid = performCustomValidations(section, showErrors) &amp;&amp; isValid;&#10;&#10;        console.log('Section', sectionIndex, 'validation result:', isValid);&#10;        return isValid;&#10;    }&#10;&#10;    function validateField(field, showErrors = true) {&#10;        const value = field.value.trim();&#10;        const isRequired = field.hasAttribute('required');&#10;        let isValid = true;&#10;&#10;        // Clear previous errors&#10;        clearFieldError(field);&#10;&#10;        // Skip validation for hidden fields&#10;        if (field.style.display === 'none' || (field.closest('.form-group') &amp;&amp; field.closest('.form-group').style.display === 'none')) {&#10;            return true;&#10;        }&#10;&#10;        // Special handling for radio buttons&#10;        if (field.type === 'radio' &amp;&amp; isRequired) {&#10;            const radioGroup = form.querySelectorAll(`input[name=&quot;${field.name}&quot;]`);&#10;            const isChecked = Array.from(radioGroup).some(radio =&gt; radio.checked);&#10;            if (!isChecked) {&#10;                if (showErrors) {&#10;                    const radioContainer = field.closest('.radio-group');&#10;                    showFieldError(radioContainer || field, 'Veuillez sélectionner une option');&#10;                }&#10;                isValid = false;&#10;            }&#10;            return isValid; // Return early for radio buttons&#10;        }&#10;&#10;        // Required field validation for non-radio fields&#10;        if (isRequired &amp;&amp; !value) {&#10;            if (showErrors) {&#10;                showFieldError(field, 'Ce champ est obligatoire');&#10;            }&#10;            isValid = false;&#10;        }&#10;&#10;        // Email validation&#10;        if (field.type === 'email' &amp;&amp; value) {&#10;            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;&#10;            if (!emailRegex.test(value)) {&#10;                if (showErrors) {&#10;                    showFieldError(field, 'Veuillez entrer une adresse email valide');&#10;                }&#10;                isValid = false;&#10;            }&#10;        }&#10;&#10;        // Phone validation&#10;        if (field.type === 'tel' &amp;&amp; field.name.includes('telephone') &amp;&amp; value) {&#10;            const phoneRegex = /^[0-9+\-\s()]{10,}$/;&#10;            if (!phoneRegex.test(value)) {&#10;                if (showErrors) {&#10;                    showFieldError(field, 'Veuillez entrer un numéro de téléphone valide');&#10;                }&#10;                isValid = false;&#10;            }&#10;        }&#10;&#10;        // Update field appearance&#10;        field.classList.toggle('is-invalid', !isValid);&#10;&#10;        return isValid;&#10;    }&#10;&#10;    function performCustomValidations(section, showErrors = true) {&#10;        let isValid = true;&#10;&#10;        // Email confirmation validation&#10;        const email = section.querySelector('#email');&#10;        const emailVerif = section.querySelector('#emailverif');&#10;        if (email &amp;&amp; emailVerif &amp;&amp; email.value &amp;&amp; emailVerif.value) {&#10;            if (email.value !== emailVerif.value) {&#10;                if (showErrors) {&#10;                    showFieldError(emailVerif, 'Les adresses email ne correspondent pas');&#10;                }&#10;                isValid = false;&#10;            }&#10;        }&#10;&#10;        // Date validation&#10;        const daySelect = section.querySelector('#datenaiss_jj');&#10;        const monthSelect = section.querySelector('#datenaiss_mm');&#10;        const yearSelect = section.querySelector('#datenaiss_yy');&#10;&#10;        if (daySelect &amp;&amp; monthSelect &amp;&amp; yearSelect) {&#10;            const day = parseInt(daySelect.value);&#10;            const month = parseInt(monthSelect.value);&#10;            const year = parseInt(yearSelect.value);&#10;&#10;            if (day &amp;&amp; month &amp;&amp; year) {&#10;                const date = new Date(year, month - 1, day);&#10;                const today = new Date();&#10;                const age = today.getFullYear() - year;&#10;&#10;                if (date.getDate() !== day || date.getMonth() !== month - 1 || date.getFullYear() !== year) {&#10;                    if (showErrors) {&#10;                        showFieldError(daySelect, 'Date invalide');&#10;                    }&#10;                    isValid = false;&#10;                } else if (age &lt; 18 || age &gt; 65) {&#10;                    if (showErrors) {&#10;                        showFieldError(yearSelect, 'L\'âge doit être entre 18 et 65 ans');&#10;                    }&#10;                    isValid = false;&#10;                }&#10;            }&#10;        }&#10;&#10;        return isValid;&#10;    }&#10;&#10;    function showFieldError(field, message) {&#10;        clearFieldError(field);&#10;&#10;        const errorDiv = document.createElement('div');&#10;        errorDiv.className = 'form-error';&#10;        errorDiv.textContent = message;&#10;&#10;        // Handle radio group errors differently&#10;        if (field.classList &amp;&amp; field.classList.contains('radio-group')) {&#10;            field.appendChild(errorDiv);&#10;        } else {&#10;            field.parentNode.appendChild(errorDiv);&#10;            field.classList.add('is-invalid');&#10;        }&#10;    }&#10;&#10;    function clearFieldError(field) {&#10;        if (field.classList &amp;&amp; field.classList.contains('radio-group')) {&#10;            const existingError = field.querySelector('.form-error');&#10;            if (existingError) {&#10;                existingError.remove();&#10;            }&#10;        } else {&#10;            const existingError = field.parentNode.querySelector('.form-error');&#10;            if (existingError) {&#10;                existingError.remove();&#10;            }&#10;            field.classList.remove('is-invalid');&#10;        }&#10;    }&#10;&#10;    function showValidationErrors(section) {&#10;        const errors = section.querySelectorAll('.form-error');&#10;        if (errors.length &gt; 0) {&#10;            errors[0].scrollIntoView({&#10;                behavior: 'smooth',&#10;                block: 'center'&#10;            });&#10;        }&#10;    }&#10;&#10;    function validateAllPreviousSections(targetSection) {&#10;        for (let i = 0; i &lt; targetSection; i++) {&#10;            if (!validateSection(i, false)) {&#10;                return false;&#10;            }&#10;        }&#10;        return true;&#10;    }&#10;&#10;    // Conditional fields logic&#10;    function setupConditionalFields() {&#10;        const statutProfSelect = document.getElementById('statut');&#10;        const employerFields = document.querySelectorAll('.employer-field');&#10;&#10;        function toggleEmployerFields() {&#10;            const selectedStatus = statutProfSelect?.value;&#10;            const showFields = ['Fonctionnaire', 'Travailleur privé'].includes(selectedStatus);&#10;&#10;            employerFields.forEach(field =&gt; {&#10;                field.style.display = showFields ? 'block' : 'none';&#10;                field.classList.toggle('active', showFields);&#10;&#10;                const inputs = field.querySelectorAll('input');&#10;                inputs.forEach(input =&gt; {&#10;                    if (showFields) {&#10;                        input.setAttribute('required', 'required');&#10;                    } else {&#10;                        input.removeAttribute('required');&#10;                        clearFieldError(input);&#10;                    }&#10;                });&#10;            });&#10;&#10;            // Update button state after changing conditional fields&#10;            setTimeout(updateCurrentSectionNavigationButtons, 50);&#10;        }&#10;&#10;        if (statutProfSelect) {&#10;            statutProfSelect.addEventListener('change', toggleEmployerFields);&#10;            toggleEmployerFields(); // Initial state&#10;        }&#10;&#10;        // Spouse name field logic&#10;        const civiliteSelect = document.getElementById('civilite');&#10;        const epouseField = document.getElementById('epouse');&#10;&#10;        function toggleSpouseField() {&#10;            const civilite = civiliteSelect?.value;&#10;            if (epouseField) {&#10;                epouseField.style.display = (civilite === &quot;Monsieur&quot;) ? &quot;none&quot; : &quot;block&quot;;&#10;                if (civilite === &quot;Monsieur&quot;) {&#10;                    epouseField.removeAttribute('required');&#10;                } else {&#10;                    // Don't make it required automatically&#10;                }&#10;            }&#10;&#10;            // Update button state after changing conditional fields&#10;            setTimeout(updateCurrentSectionNavigationButtons, 50);&#10;        }&#10;&#10;        if (civiliteSelect) {&#10;            civiliteSelect.addEventListener('change', toggleSpouseField);&#10;            toggleSpouseField(); // Initial state&#10;        }&#10;    }&#10;&#10;    // Auto-save functionality&#10;    function setupAutoSave() {&#10;        const STORAGE_KEY = 'candidature_form_data';&#10;&#10;        // Load saved data&#10;        loadFormData();&#10;&#10;        // Save periodically&#10;        setInterval(saveFormData, 30000); // Every 30 seconds&#10;&#10;        // Save on page unload&#10;        window.addEventListener('beforeunload', saveFormData);&#10;    }&#10;&#10;    function saveFormData() {&#10;        const data = {};&#10;        const inputs = form.querySelectorAll('input, select, textarea');&#10;&#10;        inputs.forEach(input =&gt; {&#10;            if (input.type === 'radio' || input.type === 'checkbox') {&#10;                if (input.checked) {&#10;                    data[input.name] = input.value;&#10;                }&#10;            } else {&#10;                data[input.name] = input.value;&#10;            }&#10;        });&#10;&#10;        localStorage.setItem('candidature_form_data', JSON.stringify(data));&#10;        showAutoSaveIndicator();&#10;    }&#10;&#10;    function loadFormData() {&#10;        const savedData = localStorage.getItem('candidature_form_data');&#10;        if (!savedData) return;&#10;&#10;        try {&#10;            const data = JSON.parse(savedData);&#10;            const inputs = form.querySelectorAll('input, select, textarea');&#10;&#10;            inputs.forEach(input =&gt; {&#10;                if (data[input.name] !== undefined) {&#10;                    if (input.type === 'radio' || input.type === 'checkbox') {&#10;                        input.checked = data[input.name] === input.value;&#10;                    } else {&#10;                        input.value = data[input.name];&#10;                    }&#10;                }&#10;            });&#10;        } catch (e) {&#10;            console.error('Error loading saved form data:', e);&#10;        }&#10;    }&#10;&#10;    function showAutoSaveIndicator() {&#10;        // Create or update auto-save indicator&#10;        let indicator = document.getElementById('autosave-indicator');&#10;        if (!indicator) {&#10;            indicator = document.createElement('div');&#10;            indicator.id = 'autosave-indicator';&#10;            indicator.style.cssText = `&#10;                position: fixed;&#10;                bottom: 20px;&#10;                right: 20px;&#10;                background: var(--success-color);&#10;                color: white;&#10;                padding: 8px 16px;&#10;                border-radius: 20px;&#10;                font-size: 0.8rem;&#10;                opacity: 0;&#10;                transition: opacity 0.3s;&#10;                z-index: 1000;&#10;            `;&#10;            document.body.appendChild(indicator);&#10;        }&#10;&#10;        indicator.textContent = 'Sauvegarde automatique ✓';&#10;        indicator.style.opacity = '1';&#10;&#10;        setTimeout(() =&gt; {&#10;            indicator.style.opacity = '0';&#10;        }, 2000);&#10;    }&#10;&#10;    // Additional form enhancements&#10;    function setupFormEnhancements() {&#10;        // Smooth focus transitions&#10;        const inputs = form.querySelectorAll('.formbold-form-input');&#10;        inputs.forEach(input =&gt; {&#10;            input.addEventListener('focus', function() {&#10;                this.parentNode.classList.add('focused');&#10;            });&#10;&#10;            input.addEventListener('blur', function() {&#10;                this.parentNode.classList.remove('focused');&#10;            });&#10;        });&#10;&#10;        // Progress bar click navigation&#10;        progressSteps.forEach((step, index) =&gt; {&#10;            step.style.cursor = 'pointer';&#10;            step.addEventListener('mouseenter', function() {&#10;                if (index &lt;= currentSection || validateAllPreviousSections(index)) {&#10;                    this.style.transform = 'scale(1.05)';&#10;                }&#10;            });&#10;&#10;            step.addEventListener('mouseleave', function() {&#10;                this.style.transform = '';&#10;            });&#10;        });&#10;&#10;        // Keyboard navigation&#10;        document.addEventListener('keydown', function(e) {&#10;            if (e.ctrlKey || e.metaKey) {&#10;                switch(e.key) {&#10;                    case 'ArrowLeft':&#10;                        e.preventDefault();&#10;                        if (currentSection &gt; 0) {&#10;                            navigateToSection(currentSection - 1);&#10;                        }&#10;                        break;&#10;                    case 'ArrowRight':&#10;                        e.preventDefault();&#10;                        if (currentSection &lt; formSections.length - 1 &amp;&amp; validateSection(currentSection, false)) {&#10;                            navigateToSection(currentSection + 1);&#10;                        }&#10;                        break;&#10;                }&#10;            }&#10;        });&#10;&#10;        // Fix dropdown selection visibility issues&#10;        setupDropdownVisibilityFix();&#10;&#10;        // Form completion progress&#10;        updateCompletionProgress();&#10;        form.addEventListener('input', updateCompletionProgress);&#10;        form.addEventListener('change', updateCompletionProgress);&#10;    }&#10;&#10;    // Fix dropdown selection visibility issues&#10;    function setupDropdownVisibilityFix() {&#10;        const selectElements = document.querySelectorAll('select.formbold-form-input');&#10;&#10;        selectElements.forEach(select =&gt; {&#10;            // Force initial style application&#10;            forceSelectVisibility(select);&#10;&#10;            // Handle change events&#10;            select.addEventListener('change', function() {&#10;                forceSelectVisibility(this);&#10;                // Force re-render by briefly changing display&#10;                const originalDisplay = this.style.display;&#10;                this.style.display = 'none';&#10;                this.offsetHeight; // Trigger reflow&#10;                this.style.display = originalDisplay || 'block';&#10;            });&#10;&#10;            // Handle focus/blur events&#10;            select.addEventListener('focus', function() {&#10;                forceSelectVisibility(this);&#10;            });&#10;&#10;            select.addEventListener('blur', function() {&#10;                setTimeout(() =&gt; forceSelectVisibility(this), 10);&#10;            });&#10;        });&#10;    }&#10;&#10;    function forceSelectVisibility(selectElement) {&#10;        if (!selectElement) return;&#10;&#10;        // Force style properties&#10;        selectElement.style.color = '#2d3748';&#10;        selectElement.style.backgroundColor = '#ffffff';&#10;        selectElement.style.opacity = '1';&#10;&#10;        // Handle selected state&#10;        if (selectElement.value &amp;&amp; selectElement.value !== '') {&#10;            selectElement.style.fontWeight = '500';&#10;            selectElement.setAttribute('data-has-value', 'true');&#10;        } else {&#10;            selectElement.style.fontWeight = '400';&#10;            selectElement.removeAttribute('data-has-value');&#10;        }&#10;&#10;        // Force repaint&#10;        selectElement.offsetHeight;&#10;    }&#10;&#10;    // Apply fixes to all dropdowns on page load&#10;    function fixAllDropdowns() {&#10;        const allSelects = document.querySelectorAll('select.formbold-form-input');&#10;        allSelects.forEach(select =&gt; {&#10;            forceSelectVisibility(select);&#10;        });&#10;    }&#10;&#10;    function updateCompletionProgress() {&#10;        const allInputs = form.querySelectorAll('input[required], select[required], textarea[required]');&#10;        const filledInputs = Array.from(allInputs).filter(input =&gt; {&#10;            // Skip if input itself is hidden&#10;            if (input.style.display === 'none') {&#10;                return true; // Consider hidden fields as filled&#10;            }&#10;&#10;            // Check if parent form-group is hidden&#10;            const formGroup = input.closest('.form-group');&#10;            if (formGroup &amp;&amp; formGroup.style.display === 'none') {&#10;                return true; // Consider hidden fields as filled&#10;            }&#10;&#10;            // Special handling for radio buttons&#10;            if (input.type === 'radio') {&#10;                return form.querySelector(`input[name=&quot;${input.name}&quot;]:checked`);&#10;            }&#10;&#10;            return input.value.trim() !== '';&#10;        });&#10;&#10;        const progress = Math.round((filledInputs.length / allInputs.length) * 100);&#10;&#10;        // Update progress in header&#10;        let progressText = document.querySelector('.form-completion-progress');&#10;        if (!progressText) {&#10;            progressText = document.createElement('div');&#10;            progressText.className = 'form-completion-progress';&#10;            progressText.style.cssText = `&#10;                position: absolute;&#10;                top: 10px;&#10;                right: 20px;&#10;                background: rgba(255,255,255,0.2);&#10;                padding: 5px 12px;&#10;                border-radius: 15px;&#10;                font-size: 0.8rem;&#10;                z-index: 10;&#10;            `;&#10;            const formHeader = document.querySelector('.form-header');&#10;            if (formHeader) {&#10;                formHeader.appendChild(progressText);&#10;            }&#10;        }&#10;&#10;        if (progressText) {&#10;            progressText.textContent = `${progress}% complété`;&#10;        }&#10;    }&#10;&#10;    // We don't need this function anymore as we want normal form submission&#10;    function handleFormSubmit(e) {&#10;        // Do nothing, allow default form submission&#10;        console.log('Submit button clicked');&#10;    }&#10;&#10;    // Public API&#10;    window.formFunctions = {&#10;        navigateToSection,&#10;        validateSection,&#10;        saveFormData,&#10;        validateAllSections: () =&gt; {&#10;            for (let i = 0; i &lt; formSections.length - 1; i++) {&#10;                if (!validateSection(i, false)) {&#10;                    return false;&#10;                }&#10;            }&#10;            return true;&#10;        },&#10;        getCurrentSection: () =&gt; currentSection,&#10;        getTotalSections: () =&gt; formSections.length&#10;    };&#10;});" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>